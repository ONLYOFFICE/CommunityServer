/*
 *
 * (c) Copyright Ascensio System Limited 2010-2018
 *
 * This program is freeware. You can redistribute it and/or modify it under the terms of the GNU 
 * General Public License (GPL) version 3 as published by the Free Software Foundation (https://www.gnu.org/copyleft/gpl.html). 
 * In accordance with Section 7(a) of the GNU GPL its Section 15 shall be amended to the effect that 
 * Ascensio System SIA expressly excludes the warranty of non-infringement of any third-party rights.
 *
 * THIS PROGRAM IS DISTRIBUTED WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF MERCHANTABILITY OR
 * FITNESS FOR A PARTICULAR PURPOSE. For more details, see GNU GPL at https://www.gnu.org/copyleft/gpl.html
 *
 * You can contact Ascensio System SIA by email at sales@onlyoffice.com
 *
 * The interactive user interfaces in modified source and object code versions of ONLYOFFICE must display 
 * Appropriate Legal Notices, as required under Section 5 of the GNU GPL version 3.
 *
 * Pursuant to Section 7 ยง 3(b) of the GNU GPL you must retain the original ONLYOFFICE logo which contains 
 * relevant author attributions when distributing the software. If the display of the logo in its graphic 
 * form is not reasonably feasible for technical reasons, you must include the words "Powered by ONLYOFFICE" 
 * in every copy of the program you distribute. 
 * Pursuant to Section 7 ยง 3(e) we decline to grant you any rights under trademark law for use of our trademarks.
 *
*/


function G(){return function(){}}function V(y){return function(U){this[y]=U}}function W(y){return function(){return this[y]}}function aa(y){return function(){return y}}
ASC.Projects.GantChart=function(y){var U,wa,xa,X,ia;function J(a){if(!a)return a;var b;[Number,String,Boolean].forEach(function(c){a instanceof c&&(b=c(a))});if("undefined"==typeof b)if("[object Array]"===Object.prototype.toString.call(a))b=[],a.forEach(function(a,c){b[c]=J(a)});else if("object"==typeof a)if(a.nodeType&&"function"==typeof a.cloneNode)b=a.cloneNode(!0);else if(a.prototype)b=a;else if(a instanceof Date)b=new Date(a);else{b={};for(var c in a)b[c]=J(a[c])}else b=a;return b}function N(a){a.preventDefault?
a.preventDefault():a.returnValue&&(a.returnValue=!1);a.stopPropagation&&a.stopPropagation()}function S(a){var b=null;a||(a=y.event);a.target?b=a.target:a.srcElement&&(b=a.srcElement);3==b.nodeType&&(b=b.parentNode);return b}function Q(a){return a>>0}function M(a){return 0>a?~a++:a}function H(a,b,c,d,e,f){return c-5<=a&&d-5<=b&&e+5>=a&&f+5>=b}function P(a,b){return a&&a.length>b?a.substr(0,b-3)+"...":a}function ba(){this.root=null;this.zg=[];this.data=null}function ja(a){this.p=a}function Y(a,b){this.d=
a;this.sa=b;this.ed=[]}function Ra(){function a(a,b){var e=document.createElement("div");e.className=a;document.body.appendChild(e);var f=y.getComputedStyle(e,null).getPropertyValue(b);document.body.removeChild(e);return f}var b=null;return{width:function(c,d){null==b&&(b=document.createElement("canvas"),b.width=450,b.height=100,document.body.appendChild(b));var e=a(d,"font-family"),f=a(d,"font-weight"),g=a(d,"font-size");b.getContext("2d").font=f+" "+g+" "+e;return b.getContext("2d").measureText(c+
"W").width},clear:function(){b&&(document.body.removeChild(b),b=null)},jl:a}}function ya(){this.Ke="";this.ve=this.hi("")}function za(a){this.zc(a)}function Aa(a,b){this.p=b;this.d=a;this.step=this.Qa=this.position=0;this.ba={x:0,y:0};this.ef={x:0,y:0};this.Xa=!1;this.He=-1;this.Gb=this.Kf=0;this.sf=!0;this.Qg=!1}function Ba(a,b){this.p=b;this.d=a;this.r=this.d.canvas.width;this.U=this.d.canvas.height;this.anchor=this.end=this.eb=0;this.ba={x:0,y:0};this.ef={x:0,y:0};this.Xa=!1}function Ca(a){this.p=
a;this.element=null;this.anchor={b:void 0,c:void 0,a:void 0};this.gm=!0;this.l=null;this.ce="";this.enable=!1}function Z(a){if(0==a.length)return" (0/0)";for(var b=0,c=0,d=a.length-1;0<=d;--d)a[d].filter||(t===a[d].o&&++b,++c);return" ("+b+"/"+c+")"}function ca(a,b){if(null===a.$a)return"";var c=a.$a.length;return c?1<c?y.Gantt.Localize_strings.responsibles.format(c):y.Encoder.htmlDecode(a.$a[0].displayName):b}function da(a,b){var c=a.$a;return c?y.Encoder.htmlDecode(c.displayName):b}function ea(a,
b){return t===a.o?ka:a.P&&-1===b?fa:0>=a.m&&(!a.P||-1!==b)?la:fa}function R(a,b){return b?Teamlab.getDisplayDate(a):a.toLocaleDateString()}function Da(a,b,c){this.Rg=b;this.Jc=this.wa=void 0;this.th=c;this.h=a;this.em=this.Yf=this.Fa=this.Ij=this.We=this.ub=void 0;this.Ci="normal 16px Semibold, sans-serif";this.Je=new Ra}function ma(a,b,c){this.h=a;this.th=b;this.Hj=c}function na(a){this.zc(a)}function oa(a,b){this.zc(a,b)}function Ea(a,b){this.p=a;this.wg=Sa;this.zoom=1;this.Fh=15*this.zoom;this.R=
35*this.zoom;this.Md=9*this.zoom;this.font=this.Md+"pt "+K;this.d=a.d;this.r=this.d.canvas.width;this.U=this.d.canvas.height;this.B=b;this.Kb=this.Uc=this.cc=this.pc=this.tc=this.zd=0;this.fb=1;this.xb=7;this.ld=this.p.j;this.Od=0.55*this.ld+1;this.Wc=1.65*this.ld}function E(a,b,c,d,e,f,g,k,m,h,u,q,Ta,s){this.q=parseInt(a);this.Vc=parseInt(b)||-1;this.Q=c;this.Of=d;this.$a=q||[];this.dc=e;this.zb=f;this.bb=g;this.o=k||I;this.gb=void 0!==m?parseInt(m):-1;this.tf=parseInt(h)||0;this.Sh=u||0;this.links=
Ta||[];this.ab=s||!1;this.kb=this.P=!1;g&&(this.kb=f.getTime()===g.getTime());void 0==g?(this.m=this.k=this.pe(this.zb),this.P=!0):(this.k=Math.min(this.pe(this.zb),this.pe(this.bb)),this.m=Math.max(this.pe(this.zb),this.pe(this.bb)));this.duration=this.m-this.k;this.duration=Math.max(this.duration,24);this.m=Math.max(this.m,this.k+this.duration);this.le=!1;this.Mb=-1;this.vb=this.Ac=!1;this.nc=this.Xd=null;this.fc=!0;this.Q&&(this.Q=this.Q.replace(/^\s+/,"").replace(/\s+$/,""));this.dc&&(this.dc=
this.dc.replace(/^\s+/,"").replace(/\s+$/,""));this.fd(!0)}function pa(a,b,c){return new E(c,a,"","","",new Date,new Date,I,b)}function $(a,b,c,d,e,f,g,k){this.q=parseInt(a);this.Vc=parseInt(b);this.Q=c;this.dc=d;this.$a=e||null;this.bb=this.zb=f;this.o=g||0;this.Ph=k||!1;this.k=this.pe(f);this.m=this.k+0;this.jh=Fa;this.a=[];this.dj=!0;this.duration=0;this.le=!0;this.Mb=-1;this.Jg="";this.vb=!1;this.nc=this.Xd=null;this.Q&&(this.Q=this.Q.replace(/^\s+/,"").replace(/\s+$/,""));this.dc&&(this.dc=this.dc.replace(/^\s+/,
"").replace(/\s+$/,""));this.rb();this.Ac=this.collapse=!1}function qa(a,b,c,d,e,f,g,k){this.q=parseInt(a);this.Q=b;this.dc=c?c:"";this.$a=d||null;this.Sl=e?e:new Date;this.m=this.k=null;this.duration=0;this.P=!1;this.nc=null;this.vb=!1;this.c=[];this.a=[];this.Mb=-1;this.sort=!0;this.Q&&(this.Q=this.Q.replace(/^\s+/,"").replace(/\s+$/,""));this.dc&&(this.dc=this.dc.replace(/^\s+/,"").replace(/\s+$/,""));this.Yl=this.Rb=this.collapse=!1;this.Og=f;this.Qh=g;this.o=k||0;this.$e()&&(this.Rb=this.collapse=
!0)}function Ga(){this.b=[];this.c=[];this.a=[];this.Eh=this.Ri=this.Yi=-1;this.dj=!0;this.he=this.ie=null;this.Zl=!0}function ra(a){this.p=a;this.O=this.top=null}function sa(a){this.p=a;this.onshowhint=this.onchangetimescale=null;this.gh=!1;this.position=null}function Ha(a){this.p=a;this.Gg=!1;this.sd=0;this.Ud=!1;this.Td=0;this.scrollTo=!1;this.ke=this.Dd=this.Wd=0;this.Hd=null;this.$f=!0;this.Vd=void 0;this.de={D:0,N:0}}function Ia(a){this.a=a;this.Dc=1;this.rel=this.Wb=this.wb=0;this.Ul=15;this.ph=
new Image;this.ph.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAOVJREFUeNpibO7oZSAXMDFQAKii2QCIdwDxdyD+AsTzkdSgy60FYmWQBAsQGwHxISDmRtJwBUpjkwsCYlsgNgfZ3A2V3AnEakCsBcSToK6ahUXuMBCLAnETyGYHqIkJQPwCyYYUIDbGIpcKxDeA2BFk+n+o4G8kjQJA3AaV80cz9BeU/g/SvBfKATlVEIhFgHgB1GmLgHgTlA2T64eq3wVydhEQHwPiKCCOBGJGqORLIK6AsidgkasH2XwViPWgUfARiN8C8VIgNoM6lxWI2bDIPWGBmvQQiENwpAVQWIQOruQJEGAAibMzZdYXHDkAAAAASUVORK5CYII="}function Ja(a){this.a=
a;this.bound={x:0,y:0,u:0,C:0};this.W={x:0,y:0,u:0,C:0};this.direction=0;this.link=this.Kc=null;this.gc=0;this.sc={x:0,y:0};this.bk=!1}function Ka(a){this.a=a;this.l=null;this.bound={x:0,y:0,u:0,C:0};this.Ad={x:0,y:0,u:0,C:0};this.href=null}function ta(a,b){this.Dh(1);this.Pk(a,b);this.Rk();this.Qk();this.Sk();this.Ea=!1;this.td=this.Zf=!0;this.Le=this.Y=!1;this.offsetX=this.Xb=this.da=this.uc=0;this.Jb=this.$=!0;this.Cc=this.Jf=!1;this.X=0;this.oa=-1;this.sb=0;this.xa=this.la=this.ta=this.qa=-1;
this.Ab=0;this.xd=null;this.Xa=!1;this.V={x:0,y:0};this.S={x:0,y:0};this.ca={b:-1,c:-1,a:-1};this.Pc={x:0,y:0};this.bc={x:0,y:0,Id:!1};this.zi=!1;this.Yb=null;this.Jd=0;this.J=[];this.Wa=O;this.M=this.n=this.Oa=void 0;this.ka={x:0,y:0,width:0,height:0,Ic:0,Ld:0,time:0,ng:!1};this.K={a:-1,c:-1,b:-1};this.va={a:-1,c:-1,b:-1};this.Te=!1;this.Da=null;this.rh=0;this.zh=this.il=this.bd=!1;this.Ee=[];this.pd=[];this.Rh=!1}var I=1,t=2,L=2,La="#CC3300",ua="#BDDA7F",A=[4,2],Ua=[4,2],ga="#bdda7f",va="#cc3300",
Va="#4fa7d1",Ma="rgba(100,100,100,0.1)",Na="#ffffff",Oa="#6699ff",Pa="#cc3300",K="arial",ha=[1,2],ka="#83888d",la="#cc3300",fa="#333333",Sa=8,Fa=168,O=100;U="#ffffff";wa="#999999";xa="#666666";X=170;ia=300;var Qa=new Image;Array.prototype.Zc||(Array.prototype.Zc=function(){return this[this.length-1]});Date.prototype.Bf||(Date.prototype.Bf=function(){var a=this.getUTCDate(),b=this.getMonth()+1,c=this.getFullYear().toString();10>b&&(b="0"+b.toString());10>a&&(a="0"+a.toString());c=c.slice(c.length-
2,c.length);return a+"."+b+"."+c});Date.prototype.eh||(Date.prototype.eh=function(){var a=this.getUTCDate(),b=this.getMonth()+1,c=this.getFullYear().toString();10>b&&(b="0"+b.toString());10>a&&(a="0"+a.toString());return a+"."+b+"."+c});ba.prototype={createNode:function(){var a=new ba;this.zg.push(a);return a},ud:function(a,b){b(a,this.root,this.data);a=this.root;for(var c=0;c<this.zg.length;++c)this.zg[c].ud(a,b,this.zg[c].data)}};ja.prototype={tl:function(a){a&&(K=a,this.p.nf())}};Y.prototype={Qc:function(a,
b,c,d,e,f){a.beginPath();var g=d-b,k=b,m=c;a.moveTo(b,c);b=0;for(c=!0;!((0>g?k<=d:k>=d)&&m>=e);){var h=f[b++%f.length],k=k+h,k=0>g?Math.max(d,k):Math.min(d,k),m=Math.min(e,m);c?a.lineTo(k,m):a.moveTo(k,m);c=!c}a.closePath();a.stroke()},Yc:function(a,b,c,d,e,f){a.beginPath();var g=e-c,k=b,m=c;a.moveTo(b,c);b=0;for(c=!0;!(k>=d&&(0>g?m<=e:m>=e));){var h=f[b++%f.length],k=Math.min(d,k),m=m+h,m=0>g?Math.max(e,m):Math.min(e,m);c?a.lineTo(k,m):a.moveTo(k,m);c=!c}a.closePath();a.stroke()},uk:function(a,b,
c,d,e,f){this.d.strokeStyle=e;this.d.lineWidth=f;this.d.beginPath();this.d.moveTo(a,b);this.d.lineTo(c,d);this.d.closePath();this.d.stroke()},lineTo:function(a,b,c,d,e,f){b===d&&c!==e&&this.Yc(a,b,Math.min(c,e),d,Math.max(c,e),f);b!==d&&c===e&&this.Qc(a,Math.min(b,d),c,Math.max(b,d),e,f)},oe:function(a,b,c,d,e){this.ed.push({x:a,y:b,width:c,height:d,margin:e})},pj:function(a,b){this.ed.push({x:a.x,y:a.y,width:a.u,height:a.C,margin:b})},mc:function(a){if(a)for(a=this.ed.length-1;0<=a;--a)this.sa.clearRect(this.ed[a].x-
this.ed[a].margin,this.ed[a].y-this.ed[a].margin,this.ed[a].width+2*this.ed[a].margin,this.ed[a].height+2*this.ed[a].margin);this.ed=[]},xi:function(a,b,c,d,e,f){a.strokeStyle=f;a.lineWidth=1;a.beginPath();a.moveTo(b,c);a.lineTo(b+d,c);a.moveTo(b+d,c-0.5);a.lineTo(b+d,c+e);a.lineTo(b,c+e);a.lineTo(b,c);a.stroke()},ui:function(a,b,c,d){this.d.moveTo(a+20/120*c,b+100/120*d);this.d.lineTo(a+20/120*c,b+80/120*d);this.d.lineTo(a+79/120*c,b+20/120*d);this.d.lineTo(a+0.825*c,b+40/120*d);this.d.lineTo(a+
40/120*c,b+100/120*d)},vi:function(a,b,c,d){this.d.moveTo(a+0.3*c,b+0.17*d);this.d.lineTo(a+0.71*c,b+0.49*d);this.d.lineTo(a+0.3*c,b+0.82*d)},lg:function(a,b,c,d){this.d.moveTo(a+0.16*c,b+0.3*d);this.d.lineTo(a+0.3*c,b+0.15*d);this.d.lineTo(a+0.5*c,b+0.35*d);this.d.lineTo(a+0.7*c,b+0.15*d);this.d.lineTo(a+0.85*c,b+0.3*d);this.d.lineTo(a+0.65*c,b+0.49*d);this.d.lineTo(a+0.85*c,b+0.68*d);this.d.lineTo(a+0.7*c,b+0.82*d);this.d.lineTo(a+0.5*c,b+0.63*d);this.d.lineTo(a+0.3*c,b+0.82*d);this.d.lineTo(a+
0.16*c,b+0.68*d);this.d.lineTo(a+0.36*c,b+0.49*d)},ih:function(a,b,c,d){this.d.moveTo(a+20/120*c,b+20/120*d);this.d.lineTo(a+59/120*c,b+59/120*d);this.d.lineTo(a+20/120*c,b+0.825*d);this.d.lineTo(a+20/120*c,b+20/120*d);this.d.lineTo(a+61/120*c,b+59/120*d);this.d.lineTo(a+0.825*c,b+20/120*d);this.d.lineTo(a+0.825*c,b+0.825*d);this.d.lineTo(a+61/120*c,b+59/120*d)},ek:function(a,b,c,d){this.d.moveTo(a+20/120*c,b+0.425*d);this.d.lineTo(a+50/120*c,b+0.425*d);this.d.lineTo(a+50/120*c,b+0.175*d);this.d.lineTo(a+
68/120*c,b+0.175*d);this.d.lineTo(a+68/120*c,b+0.425*d);this.d.lineTo(a+98/120*c,b+0.425*d);this.d.lineTo(a+98/120*c,b+0.575*d);this.d.lineTo(a+68/120*c,b+0.575*d);this.d.lineTo(a+68/120*c,b+0.825*d);this.d.lineTo(a+50/120*c,b+0.825*d);this.d.lineTo(a+50/120*c,b+0.575*d);this.d.lineTo(a+20/120*c,b+0.575*d)},qi:function(a,b,c,d){this.d.moveTo(a+16/120*c,b+0.45*d);this.d.lineTo(a+29/120*c,b+40/120*d);this.d.lineTo(a+0.45*c,b+65/120*d);this.d.lineTo(a+91/120*c,b+28/120*d);this.d.lineTo(a+0.875*c,b+0.35*
d);this.d.lineTo(a+0.45*c,b+0.775*d)},tk:function(a,b,c,d){this.d.fillRect(a+2*c/16>>0,b+2*d/16>>0,6*c/16>>0,4*d/16>>0);this.d.fillRect(a+8*c/16>>0,b+10*d/16>>0,6*c/16>>0,4*d/16>>0);this.d.lineWidth=1;this.d.beginPath();this.d.moveTo((a+4*c/16>>0)+0.5,(b+3*d/16>>0)+0.5);this.d.lineTo((a+11*c/16>>0)+0.5,(b+3*d/16>>0)+0.5);this.d.moveTo((a+11*c/16>>0)+0.5,b+3*d/16>>0);this.d.lineTo((a+11*c/16>>0)+0.5,(b+7*d/16>>0)+0.5);this.d.lineTo((a+11*c/16>>0)+0.5,(b+7*d/16>>0)+0.5);this.d.lineTo((a+4*c/16>>0)+
0.5,(b+7*d/16>>0)+0.5);this.d.lineTo((a+4*c/16>>0)+0.5,(b+11*d/16>>0)+0.5);this.d.lineTo((a+9*c/16>>0)+0.5,(b+11*d/16>>0)+0.5);this.d.stroke()},si:function(a,b,c,d){this.d.moveTo(a+0.19*c,b+0.82*d);this.d.lineTo(a+0.19*c,b+0.7*d);this.d.lineTo(a+0.4*c,b+0.6*d);this.d.lineTo(a+0.4*c,b+0.53*d);this.d.lineTo(a+0.59*c,b+0.53*d);this.d.lineTo(a+0.59*c,b+0.6*d);this.d.lineTo(a+0.8*c,b+0.7*d);this.d.lineTo(a+0.8*c,b+0.82*d);this.d.fill();this.d.closePath();a+=0.5*c;b+=0.36*d;c*=0.42;d*=0.37;this.d.beginPath();
this.d.moveTo(a,b-d/2);this.d.bezierCurveTo(a+c/2,b-d/2,a+c/2,b+d/2,a,b+d/2);this.d.bezierCurveTo(a-c/2,b+d/2,a-c/2,b-d/2,a,b-d/2);this.d.fill();this.d.closePath()},pi:function(a,b,c,d){this.d.beginPath();this.d.moveTo(a+0.4*c,b+0.47*d);this.d.lineTo(a+0.85*c,b+0.18*d);this.d.lineTo(a+0.85*c,b+0.77*d);this.d.closePath();this.d.fill()},oi:function(a,b,c,d){this.d.beginPath();this.d.moveTo(a+0.85*c,b+0.47*d);this.d.lineTo(a+0.4*c,b+0.18*d);this.d.lineTo(a+0.4*c,b+0.77*d);this.d.closePath();this.d.fill()},
fk:function(a,b,c,d){this.d.beginPath();this.d.moveTo(a+0.77*c,b+0.18*d);this.d.lineTo(a+0.47*c,b+0.69*d);this.d.lineTo(a+0.18*c,b+0.18*d);this.d.closePath();this.d.fill()},sk:function(a,b,c,d){a.fillRect(b-8*d,c-14*d,2*d,8*d);a.fillRect(b-8*d,c-14*d,7*d,2*d);a.fillRect(b-3*d,c-14*d,2*d,8*d);a.fillRect(b-8*d,c-8*d,7*d,2*d);a.fillRect(b-17*d,c-14*d,3*d,5*d);a.fillRect(b-17*d,c-11*d,10*d,2*d);a.fillRect(b-13*d,c-14*d,2*d,5*d)},rk:function(a,b,c,d,e){a.fillStyle=e;a.beginPath();a.moveTo(b+6*d/18,c+10*
d/18);a.lineTo(b+6*d/18,c+14*d/18);a.lineTo(b+10*d/18,c+14*d/18);a.lineTo(b+10*d/18,c+10*d/18);a.lineTo(b+13*d/18,c+10*d/18);a.lineTo(b+8*d/18,c+3.5*d/18);a.lineTo(b+3*d/18,c+10*d/18);a.closePath();a.fill()},ri:function(a,b,c,d,e){a.moveTo(b+0.16*d,c+0.3*e);a.lineTo(b+0.3*d,c+0.15*e);a.lineTo(b+0.5*d,c+0.35*e);a.lineTo(b+0.7*d,c+0.15*e);a.lineTo(b+0.85*d,c+0.3*e);a.lineTo(b+0.65*d,c+0.49*e);a.lineTo(b+0.85*d,c+0.68*e);a.lineTo(b+0.7*d,c+0.82*e);a.lineTo(b+0.5*d,c+0.63*e);a.lineTo(b+0.3*d,c+0.82*e);
a.lineTo(b+0.16*d,c+0.68*e);a.lineTo(b+0.36*d,c+0.49*e)},Fe:function(a,b,c,d,e,f){a.beginPath();a.moveTo(b+f,c);a.lineTo(b+d-f,c);a.quadraticCurveTo(b+d,c,b+d,c+f);a.lineTo(b+d,c+e-f);a.quadraticCurveTo(b+d,c+e,b+d-f,c+e);a.lineTo(b+f,c+e);a.quadraticCurveTo(b,c+e,b,c+e-f);a.lineTo(b,c+f);a.quadraticCurveTo(b,c,b+f,c);a.closePath()}};ya.prototype={Wj:function(a){this.Ke=a;this.Ke.length&&this.Xj()},oncopy:function(a){a.clipboardData&&(a.preventDefault(),a.clipboardData.setData("text/plain",this.Ke))},
clear:function(){this.Ke="";this.ve&&document.body.removeChild(this.ve)},hi:function(){var a=document.createElement("div");a&&(a.setAttribute("contentEditable",!0),a.style.position="absolute",a.style.left="-10000px",a.style.top="-10000px",a.style.width="1000px",a.style.height="100px",a.style.overflow="hidden",a.style.zIndex=-1E3,a.setAttribute("contentEditable",!0),document.body.appendChild(a));return a},ol:function(a){var b=document.createRange();b.selectNodeContents(a);a=y.getSelection();a.removeAllRanges();
a.addRange(b)},Xj:function(){y.clipboardData?y.clipboardData.setData("Text",this.Ke):(this.ve||(this.ve=this.hi(this.Ke)),this.ve.textContent=this.Ke,this.ol(this.ve),document.execCommand("copy",!1,null),y.$l&&document.body.removeChild(this.ve))}};za.prototype={zc:function(a){this.parent=a;this.d=this.parent.s;this.font="9pt "+K;this.text="";this.select={D:0,N:0};this.dg=new ya;this.Sd="";this.bound={x:0,y:0,u:0,C:0};this.hb={x:0,y:0,u:0,C:0};this.Ge=0;this.ob={left:0,right:0};this.Ob=this.Yg=this.fe=
this.Re=this.aa=0;this.xf=!0;this.kg=null;this.Ub=this.ac=0;this.a=this.c=this.b=-1;this.Tg=this.status=this.enable=!1;this.qd="";this.xg=this.$b=this.Lb=null;this.qe=!1;this.Yb=void 0;this.Vf=!1;this.fm=[]},nf:function(){this.font="9pt "+K},je:function(){this.enable=!0;this.fe=this.Re=0;this.aa=this.text.length;this.Ob=0;this.xf=!0;this.Ge=this.Ub=this.ac=0},Ed:function(a){this.parent.s.font=a?this.font:this.parent.Kg},Pa:function(a){this.Re=41;this.aa=a;this.aa=Math.max(0,this.aa);this.aa=Math.min(this.text.length,
this.aa);this.select={D:this.aa,N:this.aa};this.xf=!0},te:function(){if(!(!this.enable||(0>=this.hb.u||0>=this.hb.C)||this.ob.left>this.ob.right)){this.jk();this.Ed(!0);var a=this.Rj(this.d,this.text,this.select.D,this.select.N);this.d.save();this.d.beginPath();this.d.rect(Math.floor(this.ob.left),Math.floor(this.bound.y-2),this.ob.right-this.ob.left-this.Ge+2,this.bound.C+4);this.d.clip();0===this.text.length?(this.d.fillStyle="#999999",this.d.fillText(this.Sd,this.bound.x-this.Ob,this.bound.y+0.75*
this.bound.C)):(this.d.fillStyle="#333333",this.d.fillText(this.text,this.bound.x-this.Ob,this.bound.y+0.75*this.bound.C));a||this.kk();this.d.restore();this.Ck(a);this.Ed(!1)}},jk:function(){var a=this.d;a.fillStyle="#FAFAFA";a.fillRect(this.ob.left,this.bound.y,this.ob.right-this.ob.left+2,this.bound.C);a.fillStyle="#4FA7D1";a.lineWidth=1;this.parent.t.lineTo(a,Math.floor(this.ob.left)+0.5,Math.floor(this.bound.y)+0.5,Math.floor(this.ob.right+2)+0.5,Math.floor(this.bound.y)+0.5,ha);this.parent.t.lineTo(a,
Math.floor(this.ob.left)+0.5,Math.floor(this.bound.y+this.bound.C)+0.5,Math.floor(this.ob.right+2)+0.5,Math.floor(this.bound.y+this.bound.C)+0.5,ha);this.parent.t.lineTo(a,Math.floor(this.ob.left)+0.5,Math.floor(this.bound.y)+0.5,Math.floor(this.ob.left)+0.5,Math.floor(this.bound.y+this.bound.C)+0.5,ha);this.parent.t.lineTo(a,Math.floor(this.ob.right+2)+0.5,Math.floor(this.bound.y)+0.5,Math.floor(this.ob.right+2)+0.5,Math.floor(this.bound.y+this.bound.C)+0.5,ha)},kk:function(){this.Re++;80<this.Re&&
(this.Re=0);if(!(40>this.Re)){var a=Math.floor(this.bound.x+this.fe-this.Ob);a<=this.parent.da||(this.d.fillStyle="#000000",this.d.fillRect(a,Math.floor(this.bound.y+2),2,Math.floor(this.bound.C-3)))}},Ck:function(a){if(a){var b=Math.floor(this.bound.x-this.Ob+a.D)-this.Ge;a=b+Math.floor(a.N-a.D)+this.Ge;b<this.hb.x&&(b=this.hb.x);a>this.hb.x+this.hb.u&&(a=this.hb.x+this.hb.u);var c=this.parent.da;b<c&&(b=c);c=a-b;this.parent.da>=a||(b>=this.parent.r-24||0>c)||(this.d.fillStyle="#3399FF",this.d.fillRect(b,
Math.floor(this.bound.y+2),c,this.bound.C-3),this.d.save(),this.d.beginPath(),this.d.rect(b,Math.floor(this.bound.y-2),c,this.bound.C+4),this.d.clip(),this.d.fillStyle="#FFFFFF",this.d.fillText(this.text,this.bound.x-this.Ob,this.bound.y+0.75*this.bound.C),this.d.restore())}},Oj:function(){if(this.enable){this.Ed(!0);this.dd=this.d.measureText(this.text).width;this.fe=this.d.measureText(this.text.substring(0,this.aa)).width;this.bound.u=Math.max(this.dd,this.bound.u);this.hb.u=this.bound.u;this.$b&&
(this.bound.x-=this.bound.u+2,this.hb.x=this.bound.x);var a=this.parent.da;this.hb.u=Math.min(this.parent.r-this.hb.x-24,this.hb.u);this.Ge=0;this.xf&&(this.hb.x+this.hb.u>this.bound.x+this.dd-this.Ob&&(this.Ob-=this.hb.x+this.hb.u-(this.bound.x+this.dd-this.Ob)),this.Nj(),this.xf=!1);this.dd<=this.hb.u&&(this.Ob=0);this.ob.left=this.bound.x-this.Ge;this.ob.right=this.ob.left+this.hb.u+this.Ge;this.ob.left<this.hb.x&&(this.ob.left=this.hb.x);this.ob.right>this.hb.x+this.hb.u&&(this.ob.right=this.hb.x+
this.hb.u);this.ob.left<a&&(this.ob.left=a);this.Ed(!1)}},Nj:function(){this.enable&&(this.Ed(!0),this.fe=this.d.measureText(this.text.substring(0,this.aa)).width,this.hb.u+this.Ob<this.fe?this.Ob=this.fe-this.hb.u:this.Ob>this.fe&&(this.Ob=this.fe),this.Ed(!1))},reset:function(a){this.bound={x:0,y:0,u:0,C:0};this.Sd=this.qd=this.text="";this.enable=!1;this.Yb=void 0;this.Lb&&(this.Lb.Ac=!1,a||this.parent.Bb().gd(!0));this.$b&&(this.$b.Ac=!1,a||this.parent.Bb().gd(!0));this.xg=this.$b=this.Lb=null;
this.parent.sa.style.cursor="";this.parent.v.reset();this.parent.H.reset();this.parent.w.save();this.parent.update();this.parent.ta=-1;this.parent.la=-1;this.parent.xa=-1;this.parent.Jb=!0;this.parent.$=!0;this.parent.Oa=void 0;this.parent.n=void 0;this.parent.Wa=O;this.parent.oa=-1;this.select={D:0,N:0};this.Vf=!1},tb:function(a,b){return this.bound.x>a||a>this.bound.x+this.bound.u||this.bound.y>b||b>this.bound.y+this.bound.C},Ta:function(a,b,c,d){if(this.enable){var e=this.bound.u,f=this.bound.x;
this.bound={x:a,y:b,u:Math.max(100,c),C:d};this.hb={x:a,y:b,u:Math.max(100,c),C:d};this.Tg=!0;this.Oj();if(this.bound.u!==e||this.bound.x!==f)this.xf=!0}},Ze:function(a,b){return this.$b&&this.Yb&&5>Math.abs(a-(this.bound.x+this.bound.u))&&b-(this.bound.y+this.bound.C)<this.parent.j?!0:this.bound.x-5<=a&&a<=this.bound.x+this.bound.u+5&&this.bound.y<=b&&b<=this.bound.y+this.bound.C},cancel:function(a,b){if(this.Lb||this.$b)this.qd.length?a&&this.parent.L.Qb(0):(this.Me(),this.parent.L.Qb(0)),this.reset(b)},
Me:function(){-1===this.c?this.parent.f.b[this.b].a.splice(this.a,1):(this.$b?this.parent.f.b[this.b].c.splice(this.c,1):this.parent.f.b[this.b].c[this.c].a.splice(this.a,1),this.xg&&this.xg.rb())},complete:function(){this.text=this.text.replace(/^\s+/,"").replace(/\s+$/,"");250<this.text.length&&(this.text=this.text.substring(0,250));0===this.text.length&&0<this.Sd.length&&(this.text=this.Sd);if(this.Oe&&!this.text.length)return this.Me(),this.reset(),this.parent.L.Qb(0),!0;this.qd.length&&!this.text.length&&
(this.text=this.qd);var a=null;this.Lb&&(a=this.Lb,this.Lb.Q=this.text,this.Lb.Ac=!1,this.Lb.update(),this.Lb=null);this.$b&&(a=this.$b,this.$b.Ac=!1,this.$b.Q=this.text,this.$b.update());this.text.length?this.qd!==this.text||this.Oe?this.parent.L.kc(0,a):this.parent.L.Qb(0):(this.Me(),this.parent.L.Qb(0));this.reset();return!1},onkeypress:function(a){a=y.event||a;var b=a.keyCode?a.keyCode:a.which?a.which:a.charCode;this.dh=0;switch(b){case 13:return this.complete();case 46:if(0===a.charCode)return!0;
break;case 35:case 36:case 37:case 8:case 27:case 38:case 40:case 33:if(a.shiftKey)break;else return!1;case 34:return!1}if(a.ctrlKey||a.metaKey)return!0;this.select.D!==this.select.N&&(this.text=this.text.substring(0,this.select.D)+this.text.substring(this.select.N,this.text.length),this.Pa(this.select.D));a=String.fromCharCode(b);this.aa!==this.text.length?(this.text=this.text.substring(0,this.aa)+a+this.text.substring(this.aa,this.text.length),this.Pa(this.aa+1)):(this.text+=a,this.Pa(this.text.length));
return!0},onkeydown:function(a){var b,c;a=y.event||a;b=!1;var d;c=a.keyCode?a.keyCode:a.which?a.which:a.charCode;this.dh=0;switch(c){case 35:a.shiftKey?(d=this.aa,b=this.select.D,c=this.select.N,this.Pa(this.text.length),this.select=b!==c?1===this.ac?{D:b,N:this.text.length}:{D:c,N:this.text.length}:{D:d,N:this.text.length}):(this.Pa(this.text.length),this.ac=0,this.Ub=this.aa,this.select={D:this.aa,N:this.aa});b=!0;break;case 36:a.shiftKey?(d=this.aa,b=this.select.D,c=this.select.N,this.Pa(0),this.select=
b!==c?1===this.ac?{D:0,N:b}:{D:0,N:c}:{D:0,N:d}):(this.Pa(0),this.ac=0,this.Ub=this.aa,this.select={D:this.aa,N:this.aa});b=!0;break;case 37:a.ctrlKey||a.metaKey?this.Pa(this.lh(this.text,this.aa)):a.shiftKey?(-1===this.ac?this.select.N>this.Ub?(this.select.N--,this.select.N=Math.min(this.select.N,this.text.length),d=this.select.N):(this.select.D--,this.select.D=Math.max(this.select.D,0),d=this.select.D):this.select.N<=this.Ub?(this.select.D--,this.select.D=Math.max(this.select.D,0),d=this.select.D):
(this.select.N--,this.select.N=Math.min(this.select.N,this.text.length),d=this.select.N),b=this.select.D,c=this.select.N,this.Pa(d),this.select={D:b,N:c}):(this.select.D!==this.select.N?this.Pa(this.select.D):this.Pa(this.aa-1),this.ac=0,this.Ub=this.aa,this.select={D:this.aa,N:this.aa});b=!0;break;case 39:a.ctrlKey||a.metaKey?this.select.D!==this.select.N?this.Pa(this.lh(this.text,this.select.N,!0)):this.Pa(this.lh(this.text,this.aa,!0)):a.shiftKey?(-1===this.ac?this.select.D<this.Ub?(this.select.D++,
this.select.D=Math.min(this.select.D,this.Ub),d=this.select.D):(this.select.N++,this.select.N=Math.min(this.select.N,this.text.length),d=this.select.N):this.select.D>=this.Ub?(this.select.N++,this.select.N=Math.min(this.select.N,this.text.length),d=this.select.N):(this.select.D++,this.select.D=Math.max(this.select.D,0),d=this.select.D),b=this.select.D,c=this.select.N,this.Pa(d),this.select={D:b,N:c}):(this.select.D!==this.select.N?this.Pa(this.select.N):this.Pa(this.aa+1),this.ac=0,this.Ub=this.aa,
this.select={D:this.aa,N:this.aa});b=!0;break;case 8:this.text.length&&(this.select.D!==this.select.N?(this.text=this.text.substring(0,this.select.D)+this.text.substring(this.select.N,this.text.length),this.Pa(this.select.D)):(this.text=this.text.substring(0,this.aa-1)+this.text.substring(this.aa,this.text.length),this.Pa(this.aa-1)),this.ac=0,this.Ub=this.aa,this.select={D:this.aa,N:this.aa});b=!0;break;case 46:this.text.length&&(this.select.D!==this.select.N?(this.text=this.text.substring(0,this.select.D)+
this.text.substring(this.select.N,this.text.length),this.Pa(this.select.D)):(this.text=this.text.substring(0,this.aa)+this.text.substring(this.aa+1,this.text.length),this.Pa(this.aa)),this.ac=0,this.Ub=this.aa,this.select={D:this.aa,N:this.aa});b=!0;break;case 27:this.qd.length||this.Me();this.parent.L.Qb(0);this.reset();b=!0;break;case 65:if(a.ctrlKey||a.metaKey)this.Pa(this.text.length),this.select={D:0,N:this.text.length},this.ac=1,this.Ub=0,b=!0;break;case 86:if((a.ctrlKey||a.metaKey)&&y.clipboardData&&
(c=y.clipboardData.getData("Text"))&&(c=this.og(c),c.length))return this.select.D!==this.select.N&&(this.text=this.text.substring(0,this.select.D)+this.text.substring(this.select.N,this.text.length),this.aa=this.select.D),a=this.text.length,this.text=this.text.substring(0,this.aa)+c+this.text.substring(this.aa,a),this.Pa(this.aa+c.length),this.parent.$=!0;break;case 67:if((a.ctrlKey||a.metaKey)&&(this.select.D!==this.select.N&&this.dg)&&(c=this.text.substring(this.select.D,this.select.N),c.length))return this.dg.Wj(c),
!0;break;case 88:if(a.ctrlKey||a.metaKey)return this.text.length&&this.select.D!==this.select.N&&(this.text=this.text.substring(0,this.select.D)+this.text.substring(this.select.N,this.text.length),this.Pa(this.select.D),this.parent.$=!0),N(a),!1}b&&N(a);this.parent.$=!0;return!1},onmousedown:function(a){if(null!==this.Lb||null!==this.$b)if(this.Ze(a.x,a.y)){if(!this.parent.bd){var b=(new Date).getTime();if(this.kg){if(b-=this.kg.getTime(),this.kg=null,350>b){this.Pa(this.text.length);this.select=
{D:0,N:this.text.length};this.ac=1;this.Ub=0;this.Zg=new Date;return}}else if(this.Zg&&350>b-this.Zg.getTime()){this.ondblclick(a);this.Zg=new Date;return}this.Kl(a.x+this.Ob);this.Ub=this.aa;this.Vf=this.qe=!0;this.Yg=this.aa;this.parent.$=!0}}else{if(this.qd.length)this.qd===this.text&&void 0==this.Oe?this.parent.L.Qb(0):this.Oe&&!this.text.length?(this.parent.L.Qb(0),this.Me(),this.reset()):this.Lb&&this.parent.L.kc(0,this.Lb);else{if(0!==this.text.length)return this.complete();this.Me();this.parent.L.Qb(0)}this.reset();
this.qe=!0}},onmouseup:function(a){if(this.Vf){this.Ed(!0);var b=this.bound.x;this.dd>=this.bound.u&&(b=this.bound.x+this.bound.u-this.dd);a=this.Hg(this.d,this.text,a.x-b+this.Ob);void 0!==a&&(b=this.Yg,this.Pa(a),this.select={D:Math.min(b,a),N:Math.max(b,a)},this.ac=0,this.Ub>this.aa&&(this.ac=-1),this.Ub<this.aa&&(this.ac=1))}this.Vf=this.qe=!1},onmousemove:function(a){if(null===this.Lb&&null===this.$b)return!1;if(this.Vf){this.Ed(!0);var b=this.bound.x;this.dd>=this.bound.u&&(b=this.bound.x+this.bound.u-
this.dd);var c=this.select.D,d=this.select.N;a=this.Hg(this.d,this.text,a.x-b+this.Ob);void 0!==a&&(b=this.Yg,this.Pa(Math.max(b,a)),this.select={D:Math.min(b,a),N:Math.max(b,a)},this.select.D<c?(this.Pa(this.select.D),this.select={D:Math.min(b,a),N:Math.max(b,a)}):this.select.N>d?(this.Pa(this.select.N),this.select={D:Math.min(b,a),N:Math.max(b,a)}):this.select.N===this.select.D&&(this.select={D:this.aa,N:this.aa}),this.parent.$=!0)}return!0},ondblclick:function(a){if(this.Ze(a.x,a.y)){this.kg=new Date;
var b=this.bound.x;this.dd>=this.bound.u&&(b=this.bound.x+this.bound.u-this.dd);this.Ed(!0);a=this.Hg(this.d,this.text,a.x-b+this.Ob);void 0!==a&&(a=this.pl(this.text,a))&&(this.select.D===a.D&&this.select.N===a.N?(this.Pa(this.text.length),this.select={D:0,N:this.text.length},this.ac=1,this.Ub=0):(this.Pa(a.N),this.select={D:a.D,N:a.N},this.ac=1,this.Ub=a.D))}},Kl:function(a){this.Ed(!0);var b=this.bound.x;this.dd>=this.bound.u&&(b=this.bound.x+this.bound.u-this.dd);a=this.Hg(this.parent.s,this.text,
a-b);void 0!==a&&(this.Pa(a),this.select={D:a,N:a})},Rj:function(a,b,c,d){return c===d?void 0:{D:a.measureText(b.substring(0,c)).width,N:a.measureText(b.substring(0,d)).width}},Hg:function(a,b,c){var d=b.length,e=0,f=0,g=0,k="",m=0;if(0!==d){if(0>=c)return 0;if(a.measureText(b).width<=c)return d;for(e=0;e<d;++e){k+=b[e];m=g;g=a.measureText(k).width;m=0.5*(g-m)+m;if(f<=c&&c<=g)return c>=m?e+1:e;f=g}}},pl:function(a,b){var c,d=a.length,e="",f,g=b,k=b+1;if(d&&(e+=a[b],-1===" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(e))){for(c=
b+1;c<d;++c){f=a[c];if(-1!==" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(f))break;e+=f;k++}for(c=b-1;0<=c;--c){f=a[c];if(-1!==" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(f))break;e=f+e;--g}}return{hm:e,D:g,N:k}},lh:function(a,b,c){var d=a.length,e=b;if(d)if(c){if(-1===" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b]))for(;b<d&&(e=b,-1===" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b]));++b);else for(;b<d&&(e=b,-1!==" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b]));++b);for(b=e;b<d;++b)if(-1===" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b])){if(b===
d-1)break;return b}}else{0<b&&-1!==" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b-1])&&--b;if(-1===" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b])){for(;0<=b;--b)if(e=b,-1!==" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b]))return b+1;for(b=e;0<=b;--b)if(-1===" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b]))return b}else{for(;0<=b&&(e=b,-1!==" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b]));--b);for(b=e;0<=b;--b)if(-1!==" .,<>?;:{}[]~!@#$%^&&*()_+*=-".indexOf(a[b]))return b+1}return 0}return d},onpaste:function(a){var b,
c;if(a.clipboardData)if(a.clipboardData.types)for(var d=0;d<a.clipboardData.types.length;)b=a.clipboardData.types[d],"text/plain"===b&&(c=a.clipboardData.getData(b))&&(c=this.og(c),c.length&&(this.select.D!==this.select.N&&(this.text=this.text.substring(0,this.select.D)+this.text.substring(this.select.N,this.text.length),this.aa=this.select.D),b=this.text.length,this.text=this.text.substring(0,this.aa)+c+this.text.substring(this.aa,b),this.Pa(this.aa+c.length))),++d;else if(c=a.clipboardData.getData("text/plain"))c=
this.og(c),c.length&&(this.select.D!==this.select.N&&(this.text=this.text.substring(0,this.select.D)+this.text.substring(this.select.N,this.text.length),this.aa=this.select.D),b=this.text.length,this.text=this.text.substring(0,this.aa)+c+this.text.substring(this.aa,b),this.Pa(this.aa+c.length));y.clipboardData&&(c=y.clipboardData.getData("Text"))&&(c=this.og(c),c.length&&(this.select.D!==this.select.N&&(this.text=this.text.substring(0,this.select.D)+this.text.substring(this.select.N,this.text.length),
this.aa=this.select.D),b=this.text.length,this.text=this.text.substring(0,this.aa)+c+this.text.substring(this.aa,b),this.Pa(this.aa+c.length)))},oncopy:function(a){if(this.dg)this.dg.oncopy(a)},og:function(a){return a.replace(/(\r\n|\n|\r)/gm," ")}};Aa.prototype={zc:function(a,b,c,d){this.Ya=b;this.cg=a;this.cb=c+this.Kf;this.r=d;this.U=this.d.canvas.height;this.el()},refresh:function(){0===this.cb||1>this.cb-this.Ya||(this.cb-this.Ya<this.Ya-50?(this.Qa=this.Ya-(this.cb-this.Ya),this.step=1):(this.Qa=
50,this.step=(this.cb-this.Ya)/(this.Ya-50)),-1!=this.He&&(this.position=this.He/this.step,this.He=-1),this.d.fillStyle="rgba(0, 0, 0, 0.1)",this.d.fillRect(this.r-8-2,this.cg,8,this.U-12-this.cg),this.d.fillStyle=this.Xa&&this.sf?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.25)",this.p.t.Fe(this.d,this.r-8-2,this.cg+this.position,8,this.Qa,2),this.d.fill())},value:W("Gb"),md:function(){return this.cb-this.Ya},save:function(a){this.He=this.position*this.step;this.Qg=a},di:function(){0<this.step&&(this.position>
(this.cb-this.Ya)/this.step&&this.me(),this.p&&this.p.update())},onmousemove:function(a){return 0!=this.cb&&this.Xa?(this.ba=a,this.Wi=!0,this.sf&&(this.position+=(this.ba.y-this.ef.y)/this.p.j*this.p.j,this.ef.y=this.ba.y),this.sf=!0,this.me(),a=this.p,this.Gb=(this.position*this.step/a.j>>0)*a.j-1E-4,this.p&&this.p.update(),!0):!1},onmousedown:function(a){return 0!=this.cb&&this.Ff(a)?(this.ba.y>=this.cg+this.position&&this.ba.y<this.cg+this.position+this.Qa&&(this.ef.y=this.ba.y,this.sf=this.Xa=
!0,this.Wi=!1,a=this.p,this.Gb=(this.position*this.step/a.j>>0)*a.j-1E-4,a.update()),!0):!1},onmouseup:function(a){this.Wi=this.Xa=!1;return 0!=this.cb&&this.Ff(a)?(a=this.p,this.Gb=(this.position*this.step/a.j>>0)*a.j-1E-4,a.update(),!0):!1},onmousewheel:function(a){if(1>this.cb-this.Ya)return!1;a=a||y.event;var b=a.deltaY||a.detail||a.wheelDelta;a.deltaY&&(b*=-1);a.detail&&(b*=-1);a=this.p;return 0!=this.cb&&0!=b?(b=-b/Math.abs(b),a.Y?this.position+=40*b/this.step:(b=((this.position*this.step+b*
a.j)/a.j+0.5>>0)*a.j,b=Math.max(b,0),b=Math.min(b,this.cb-this.Ya),b=(b/a.j>>0)*a.j-1E-4,this.Fg(b)),this.me(),a.update(),a.ya(),a.Te=!0):!1},Zi:function(a,b){0!==a&&("home"===b?(this.position=(this.cb-this.Ya)/this.step,this.Gb=this.position*this.step):"end"===b?this.Gb=this.position=0:(this.position=this.Wg(a),this.Gb=this.position*this.step,this.me()),this.p&&this.p.update())},Wg:function(a){return this.position-a/Math.abs(a)*(this.Ya/(this.cb-this.Ya))*(this.cb-this.Ya)/this.step},nh:function(a){0<
this.step?(this.position-=a/this.step,this.me(),a=this.p,this.Gb=this.position*this.step,a.update()):this.Gb=this.position=0},Fg:function(a,b){0<this.step?(this.position=a/this.step,this.me(b),this.Gb=this.position*this.step):this.Gb=this.position=0},yl:function(){this.Gb=this.position=0},Ff:function(a){this.ba=a;return this.ba.x>=this.r-8-4&&this.ba.x<this.r},el:function(){-1!=this.He&&(0==this.cb||1>this.cb-this.Ya?this.Gb=this.position=0:(this.cb-this.Ya<this.Ya-50?(this.Qa=this.Ya-(this.cb-this.Ya),
this.step=1):(this.Qa=50,this.step=(this.cb-this.Ya)/(this.Ya-50)),this.position=this.He/this.step,this.Gb=this.position*this.step,this.me()),this.He=-1)},Ch:V("Kf"),focus:V("sf"),me:function(a){this.position=Math.max(this.position,0);a&&this.position>(this.cb-this.Ya)/this.step?this.nh((this.md()/this.p.j>>0)*this.p.j-1E-4):(this.position=Math.min(this.position,(this.cb-this.Ya)/this.step),this.Gb=this.position*this.step,this.Qg&&(this.Gb=((this.Gb+1E-4)/this.p.j>>0)*this.p.j-1E-4,this.position=
this.Gb/this.step,this.Qg=!1));this.cb<this.Ya&&(this.Gb=this.position=0)}};Ba.prototype={Jh:function(a,b,c){this.eb=a.eb;this.end=a.end;this.r=b-16;this.U=c;this.Rc=this.p.da+2},refresh:function(){if(!(51>this.r-this.Rc)&&this.eb<this.end){this.d.fillStyle="rgba(0, 0, 0, 0.1)";this.d.fillRect(0,this.U-10,this.r,8);this.d.fillStyle=this.Xa?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.25)";var a=this.cd(),b=a*(this.end-this.eb),c=this.Rc+a*this.eb;50>b&&(b=50,c=0.5*(this.end+this.eb),c=0.5+(c-0.5)*(1+(this.end-
this.eb)),c=this.Rc+(a-b)*c);this.p.t.Fe(this.d,c,this.U-10,b,8,2);this.d.fill()}},onmousemove:function(a){if(0!=this.cb&&this.Xa){this.ba=a;a=this.p;var b,c,d,e,f,g;if(a)return a.ja.stop(),e=a.ia.duration,f=a.ia.Nd,b=a.i.R/a.i.B,d=this.Rc/b,c=this.cd(),g=c*(this.end-this.eb),50>g?(c=(this.ba.x-this.anchor-this.Rc)/(c-50),b=a.ia.cf(),d=a.ia.df(),a.offsetX=c*(b-d)+d,a.offsetX=Math.max(a.offsetX,b),a.offsetX=Math.min(a.offsetX,d)):(c=(this.ba.x-this.anchor-this.Rc)/c,c=Math.max(Math.min(f-c,f)*e,(a.ia.eg/
a.ia.cd()-1+f)*e)+d,a.offsetX=c*b/a.i.R),a.ia.uh(),a.bg(),!0}return!1},onmousedown:function(a){if(51>this.r-this.Rc)return!1;if(this.eb<this.end&&this.Ff(a)){a=this.cd();var b=a*(this.end-this.eb),c=this.Rc+a*this.eb;50>b&&(b=0.5*(this.end+this.eb),b=0.5+(b-0.5)*(1+(this.end-this.eb)),c=this.Rc+(a-50)*b);this.Xa=!0;this.anchor=this.ba.x-c;this.p.ya();this.p.yb();return!0}return!1},onmouseup:function(){this.Xa=!1},onmousewheel:function(a){return this.p.onmousewheel(a)},Ff:function(a){if(51>this.r-
this.Rc)return!1;this.ba=a;if(this.ba.y>=this.U-8-4&&this.ba.y<this.U&&this.eb<this.end){a=this.cd();var b=a*(this.end-this.eb),c=this.Rc+a*this.eb;50>b&&(b=50,c=0.5*(this.end+this.eb),c=0.5+(c-0.5)*(1+(this.end-this.eb)),c=this.Rc+(a-b)*c);return this.ba.x>c&&this.ba.x<c+b}return!1},cd:function(){return this.r-this.Rc}};Ca.prototype={create:function(a){if(this.element=document.createElement("input")){this.element.id="editControl";this.element.type="text";this.element.value="";this.element.style.position=
"absolute";this.element.style.backgroundColor="white";this.element.style.width="100px";this.element.style.height="20px";this.element.style.border="solid";this.element.style.borderColor="#CCCCCC";this.element.style.borderWidth="1px";this.element.style.outline="none";this.show(!1);var b=this;this.element.onkeypress=function(a){a=y.event||a;a=a.keyCode?a.keyCode:a.which?a.which:a.charCode;this.dh=0;switch(a){case 13:a=this.value.replace(/^\s+/,"").replace(/\s+$/,"");250<a.length&&(a=a.substring(0,250));
b.ce.length&&!a.length&&(a=b.ce);var d=null;b.l&&(d=b.l,b.l.Q=a,b.l.Ac=!1,b.l.update(),b.l=null);a.length?b.ce===a?b.p.L.Qb(0):b.p.L.kc(0,d):b.p.L.Qb(0);b.close();b.p.yb();return!1}return!0};this.element.onkeydown=function(a){a=y.event||a;switch(a.keyCode?a.keyCode:a.which?a.which:a.charCode){case 27:return b.p.L.Qb(0),b.close(),b.p.yb(),!1;case 13:a=this.value.replace(/^\s+/,"").replace(/\s+$/,"");250<a.length&&(a=a.substring(0,250));b.ce.length&&!a.length&&(a=b.ce);var d=null;b.l&&(d=b.l,b.l.Q=
a,b.l.Ac=!1,b.l.update(),b.l=null);a.length?b.ce===a?b.p.L.Qb(0):b.p.L.kc(0,d):b.p.L.Qb(0);b.close();b.p.yb();return!1}return!0};a?a.appendChild(this.element):document.body.appendChild(this.element)}},nf:G(),zl:function(a){this.element&&(this.ce=a)},xl:function(a,b,c,d){this.l=a;this.anchor={b:b,c:c,a:d};this.enable=void 0!==this.anchor.b||void 0!==this.anchor.c||void 0!==this.anchor.a},Il:function(){this.element&&(this.element.value="",this.element.value=this.ce,this.element.focus(),this.element.selectionStart=
this.element.selectionEnd=this.element.value.length)},show:function(a){a?""!==this.element.style.display&&(this.element.style.overflow="",this.element.style.zIndex=1E3,this.element.style.display="",this.Il()):"none"!==this.element.style.display&&(this.element.style.display="none",this.element.style.overflow="hidden",this.element.style.zIndex=-1E3)},close:function(){this.p.yb();this.l&&(this.p.L.Qb(0),this.l=null);this.anchor={b:void 0,c:void 0,a:void 0};this.enable=!1;this.show(!1)},Ze:function(a){return this.enable&&
this.element.style.left<=a.clientX&&this.element.style.left+this.element.style.width>=a.clientX},qh:function(a,b,c){return a===this.anchor.b&&b===this.anchor.c&&c===this.anchor.a}};Da.prototype={F:{elements:[],Rl:[],Xl:[],ra:[]},select:{b:void 0,a:void 0,c:void 0},Ia:{b:void 0,a:void 0,c:void 0},width:250,maxWidth:250,kh:50,yc:10,Mf:-7,Li:52,rows:[{name:"Name",enable:!0,minWidth:265,wa:null,Sa:0,mb:!1,translate:"Name"},{name:"Responsibility",enable:!0,minWidth:140,wa:document.createElement("div"),
Sa:0,mb:!1,translate:"Responsible(-s)"},{name:"BeginDate",enable:!1,minWidth:95,wa:document.createElement("div"),Sa:0,mb:!1,translate:"Begin Date"},{name:"EndDate",enable:!1,minWidth:95,wa:document.createElement("div"),Sa:0,mb:!1,translate:"End Date"},{name:"Status",enable:!1,minWidth:60,wa:document.createElement("div"),Sa:0,mb:!1,translate:"Status"},{name:"Priority",enable:!1,minWidth:65,wa:document.createElement("div"),Sa:0,mb:!1,translate:"Priotity"}],ea:[],Oh:-1,mi:!1,zc:function(a){var b=this,
c=this.h;this.ub=a;this.Rg&&(this.wa=document.createElement("div"))&&(this.Ci=this.Je.jl("line-project","font"),this.wa.className="left-panel",this.Rg.appendChild(this.wa),this.Jc=document.createElement("div"),this.Jc.style.width="100%",this.Jc.style.height="100%",this.Jc.style.position="absolute",this.wa.appendChild(this.Jc),this.wa.onmouseout=function(){c.Bb().ua.zf()},this.wa.onmousewheel=function(a){b.Ia=void 0;b.h.g.enable&&b.Ye(b.h.g.b,-1===b.h.g.c?void 0:b.h.g.c,-1===b.h.g.a?void 0:b.h.g.a);
c.onmousewheel(a);return!0},this.wa.addEventListener("MozMousePixelScroll",function(a){b.Ia=void 0;b.h.g.enable&&b.Ye(b.h.g.b,-1===b.h.g.c?void 0:b.h.g.c,-1===b.h.g.a?void 0:b.h.g.a);c.onmousewheel(a)},!1),this.Jc.oncontextmenu=aa(!1),this.Kj(this.Rg),this.Lj(this.wa),this.Jj(),this.Pj(),this.Pe(void 0),this.g=new Ca(this.h),this.g.create(this.Jc))},Pj:function(){this.yg=y.Gantt.Localize_strings.noResponsible;this.rows[1].minWidth=Math.max(140,this.yc+this.Je.width(y.Gantt.Localize_strings.responsibles2||
"Responsible(-s)","row-tab"));this.rows[2].minWidth=Math.max(95,this.yc+this.Je.width(y.Gantt.Localize_strings.beginDate||"Begin Date","row-tab"));this.rows[3].minWidth=Math.max(95,this.yc+this.Je.width(y.Gantt.Localize_strings.endDate||"End Date","row-tab"));this.rows[4].minWidth=Math.max(60,this.yc+this.Je.width(y.Gantt.Localize_strings.status||"Status","row-tab"));this.rows[5].minWidth=Math.max(65,this.yc+this.Je.width(y.Gantt.Localize_strings.priotity||"Priotity","row-tab"));this.Je.clear()},
ul:function(a){this.wa&&this.Oh!=a&&(this.Oh=a,this.wa.style.height=a-60-1+"px")},Kj:function(a){var b=this,c=document.createElement("div");if(c){c.oncontextmenu=aa(!1);c.className="header-element";a.appendChild(c);a=document.createElement("div");a.style.cssText="height:100%; width:100%;position:absolute;";c.appendChild(a);var c=a,d=document.createElement("div");d.style.cssText="height:100%; width:100%;overflow:hidden;position:relative;background:#D3D3D3;border-right: 1px solid #CCCCCC;";c.appendChild(d);
c=d;d=document.createElement("div");d.className="header-element-down";c.appendChild(d);for(var e=!1,f=this.h,g={},k=1;k<this.rows.length;++k){this.rows[k].wa.className="row-tab";this.rows[k].wa.style.top="26px";c.appendChild(this.rows[k].wa);d=document.createElement("div");d.className="cell-text-button";this.rows[k].wa.appendChild(d);var m=document.createElement("div");m.className="cell-close-button";this.rows[k].wa.appendChild(m);d.onmousedown=function(){return function(a){e=!0;g=void 0;b.Pb();a=
a.clientX-f.d.canvas.offsetLeft;for(var c=b.rows[0].minWidth,d=0;d<b.ea.length;++d){if(a>=c&&a<=c+b.ea[d].width){g={};g.index=d;g.name=b.ea[d].name;break}c+=b.ea[d].width}if(!g)return!1;document.onmousemove=function(a){for(var c=0,d=1E3,e=0,h=a.clientX-f.d.canvas.offsetLeft,k=b.rows[0].minWidth,c=0;c<b.ea.length&&!b.Hi(b.ea[c].name).mb;++c)d=Math.min(d,b.ea[c].width);for(c=0;c<b.ea.length&&!b.Hi(b.ea[c].name).mb;++c){e=k+0.5*b.ea[c].width;if(h>=e-0.5*d&&h<=e+0.5*d&&g.name!==b.ea[c].name){d=[];e=b.ea[c].name;
for(h=0;h<b.ea.length;++h)d.push(b.ea[h].name);d[g.index]=e;d[c]=g.name;g.index=c;c=b.Ve();b.ea=[];for(e=0;e<d.length;++e)b.Pe(d[e]);b.lf(c);b.Bc(void 0);if(b.ub.onfieldsfilter)b.ub.onfieldsfilter(a,!0,0,0,b.qg());break}k+=b.ea[c].width}};document.onmouseup=function(a){if(e){b.Bc(void 0);if(b.ub.onfieldsfilter)b.ub.onfieldsfilter(a,!0,0,0,b.rg(),b.Ve());document.onmousemove=function(a){f.onmousemove(a)};document.onmouseup=function(a){f.onmouseup(a)}}};return!0}}(k);d.onmouseup=function(){return function(a){e=
!0;if(b.ub.onfieldsfilter)b.ub.onfieldsfilter(a,!0,0,0,b.qg());document.onmousemove=function(a){f.onmousemove(a)};document.onmouseup=function(a){f.onmouseup(a)};return!0}}(k);m.onclick=function(a){var c=k;return function(){var d=b.Ve(b.rows[c].name);b.Pb();b.$j(b.rows[c].name);b.lf(d);b.Bc(void 0);if(b.ub.onfieldsfilter)b.ub.onfieldsfilter(a,!0,0,0,b.qg());return!0}}(k)}this.Qf=this.Pf=this.gl=this.fl=0;if(d=document.createElement("div")){d.id="gantt-filter-projects";d.className="filter-projects";
a.appendChild(d);var h=document.createElement("div");if(h){h.id="gantt-filter-fields";h.className="filter-fields";h.style.top="26px";a.appendChild(h);h.onclick=function(a){b.Pb();if(!b.mi){var c=b.Fa.getBoundingClientRect();if(b.ub.onfieldsfilter)b.ub.onfieldsfilter(a,!1,c.left+c.width,c.top+c.height,b.qg())}return!0};var u=document.createElement("div");u&&(u.className="filter-fields",u.style.top="26px",c.appendChild(u));this.fl=d.offsetLeft+d.offsetWidth+this.h.d.canvas.offsetLeft;this.gl=d.offsetTop+
d.offsetHeight+this.h.d.canvas.offsetTop;this.Pf=h.offsetLeft+h.offsetWidth+this.h.d.canvas.offsetLeft;this.Qf=h.offsetTop+h.offsetHeight+this.h.d.canvas.offsetTop}var q=document.createElement("div");q&&(q.id="gantt-filter-hidden-fields",q.className="filter-hidden-fields",q.style.top="26px",q.style.display="none",a.appendChild(q),q.onclick=function(a){b.Pb();if(b.ub.onhiddenfieldsfilter)b.ub.onhiddenfieldsfilter(a,!1,b.Bg,b.Cg,b.rg(),b.Ve());return!0},this.bm=d.offsetLeft+2*d.offsetWidth+this.h.d.canvas.offsetLeft,
this.cm=d.offsetTop+d.offsetHeight+this.h.d.canvas.offsetTop,this.Bg=h.offsetLeft+h.offsetWidth+this.h.d.canvas.offsetLeft,this.Cg=h.offsetTop+h.offsetHeight+this.h.d.canvas.offsetTop)}this.We=c;this.Ij=d;this.Fa=h;this.wf=u;this.Hb=q}},Jj:function(){for(var a=this,b=null,c=0;c<this.kh;++c)if(b=document.createElement("div"))b.style.top=(30*c|0)+"px",b.style.height="29px",b.className="line-element",this.Bj(c,b),this.yj(c,b),this.Dj(c,b),this.wj(c,b),this.Aj(c,b),this.Ej(c,b),this.Cj(c,b),this.xj(c,
b),this.zj(c,b),this.Jc.appendChild(b),this.F.elements.push(b),b.onmouseover=function(){var b=c;return function(c){return a.ca(c,a,b)}}(c),b.onmouseout=function(){return function(b){if(a.g.enable)return!0;b=S(b);"line-element"!==b.className&&(b=b.parentNode);b.style.background="#F3F3F3";a.Ia=void 0;return!0}}(c),b.onclick=function(){return a.g.enable?(a.Pb(),!0):!1},b.onmouseup=function(){var d=c,e=b;return function(b){2===b.button&&(N(b),a.h.g.enable&&a.h.g.cancel(),a.Pb(),a.select={b:a.F.ra[d].b,
c:a.F.ra[d].c,a:a.F.ra[d].a,oc:d},a.ub.Bl(b,a.select,e))}}(c)},Lj:function(a){var b=document.createElement("div");if(b){b.className="gantt-splitter-fake";a.appendChild(b);var c=document.createElement("div");if(c){c.className="gantt-splitter";a.appendChild(c);var d=this.h,e=this,f=!1,g=!1,k=!1,m=0,h=0;c.onmousemove=function(){e.zf()};c.onmousedown=function(a){0!==e.ea.length&&(h=a.clientX,f=!0,m=h-c.getBoundingClientRect().left,N(a),0!==e.ea.length&&(document.onmousemove=function(a){if(h!=a.clientX){h=
a.clientX;if(!g){e.zf();a=e.rows[0].minWidth;for(var b=0;b<e.ea.length;++b)e.Xe(e.ea[b].name,!0),a+=e.ea[b].width+e.yc;e.wf.style.left=a-4+"px";e.Hb.style.display="none";e.Bc(void 0);g=!0}k=!0;a=Math.min(Math.max(h-m-8,e.rows[0].minWidth),e.maxWidth);c.style.left=a-250-50+"px";c.style.width="584px";e.wa.style.width=a+"px";e.We.style.width=a+"px";e.width=a;e.Fa.style.display="none";e.zf();d.$=!0}},document.onmouseup=function(a){if(f){if(k){for(var b=e.rows[0].minWidth,h=Math.min(Math.max(a.clientX,
b),e.maxWidth),m=b,u=0,l=0,p=!0;u<e.ea.length;++u){b=m;m+=e.ea[u].width+e.yc;if(h>=b&&h<m){h=b;p=!1;break}u+1===e.ea.length&&h>m-e.yc&&(h=e.maxWidth)}for(;l<e.ea.length;++l)e.Xe(e.ea[l].name,l<u);p||(h+=e.Li,e.Hb.style.display="",e.Hb.style.left=h-e.Fa.offsetWidth-59+"px");c.style.left=h-250+"px";c.style.width="584px";e.wa.style.width=h+"px";e.We.style.width=h+"px";e.width=h;e.Fa.style.left=e.width-e.Fa.offsetWidth-34+"px";e.wf.style.left=e.Fa.style.left;e.Pf=e.Fa.offsetLeft+e.Fa.offsetWidth+e.h.d.canvas.offsetLeft;
e.Qf=e.Fa.offsetTop+e.Fa.offsetHeight+e.h.d.canvas.offsetTop;e.Bg=e.Hb.offsetLeft+e.Hb.offsetWidth+e.h.d.canvas.offsetLeft;e.Cg=e.Hb.offsetTop+e.Hb.offsetHeight+e.h.d.canvas.offsetTop;d.$=!0;c.style.left.replace("px","");c.style.width.replace("px","");c.style.left=h-16+"px";c.style.width="16px";e.Bc(void 0);if(e.ub.onhiddenfieldsfilter)e.ub.onhiddenfieldsfilter(a,!0,0,0,e.rg(),e.Ve());e.Fa.style.display="";f=g=!1}k=!1;document.onmousemove=function(a){d.onmousemove(a)};document.onmouseup=function(a){d.onmouseup(a)}}}))};
c.onmouseup=function(a){if(f){if(k){for(var b=e.rows[0].minWidth,h=Math.min(Math.max(a.clientX-0,b),e.maxWidth),m=b,r=0,n=0,l=!0;r<e.ea.length;++r){b=m;m+=e.ea[r].width+e.yc;if(h>=b&&h<m){h=b;l=!1;break}r+1===e.ea.length&&h>m-e.yc&&(h=e.maxWidth)}for(;n<e.ea.length;++n)e.Xe(e.ea[n].name,n<r);l||(h+=e.Li,e.Hb.style.display="",e.Hb.style.left=h-e.Fa.offsetWidth-59+"px");c.style.left=h-250+"px";c.style.width="584px";e.wa.style.width=h+"px";e.We.style.width=h+"px";e.width=h;e.Fa.style.left=e.width-e.Fa.offsetWidth-
34+"px";e.wf.style.left=e.width-e.Fa.offsetWidth-34+"px";e.Pf=e.Fa.offsetLeft+e.Fa.offsetWidth+e.h.d.canvas.offsetLeft;e.Qf=e.Fa.offsetTop+e.Fa.offsetHeight+e.h.d.canvas.offsetTop;e.Bg=e.Hb.offsetLeft+e.Hb.offsetWidth+e.h.d.canvas.offsetLeft;e.Cg=e.Hb.offsetTop+e.Hb.offsetHeight+e.h.d.canvas.offsetTop;d.$=!0;c.style.left.replace("px","");c.style.width.replace("px","");c.style.left=h-16+"px";c.style.width="16px";e.Bc(void 0);if(e.ub.onhiddenfieldsfilter)e.ub.onhiddenfieldsfilter(a,!0,0,0,e.rg(),e.Ve());
e.Fa.style.display="";f=g=!1}k=!1;document.onmousemove=function(a){d.onmousemove(a)};document.onmouseup=function(a){d.onmouseup(a)}}};this.Yf=c;this.ej=b}}},Bj:function(a,b){function c(a,b){d.Pb();d.F.ra[b].Cf||(d.select={b:d.F.ra[b].b,c:d.F.ra[b].c,a:d.F.ra[b].a,oc:b},d.ub.Gk(d.select))}var d=this,e=0,f=document.createElement("span");f&&(f.className="name-column",b.appendChild(f),f.ondblclick=function(){return function(b){if(void 0!==d.F.ra[a].b&&void 0===d.F.ra[a].c&&void 0===d.F.ra[a].a){var c=
d.h.f.b[d.F.ra[a].b].id();N(b);y.open("tasks.aspx?prjID="+c);return!0}e=2;d.Pb();d.select={b:d.F.ra[a].b,c:d.F.ra[a].c,a:d.F.ra[a].a,oc:a};d.Al(d)}}(a),f.onclick=function(){return function(){var b=this;setTimeout(function(){var d=e;0<d?e=d-1:c.call(b,0,a)},300)}}(a),f.onmousemove=function(){return function(b){return d.ca(b,d,a)}}(a))},yj:function(a,b){var c=document.createElement("span");c&&(c.className="name-column-counter",b.appendChild(c))},Dj:function(a,b){var c=this,d=document.createElement("span");
d&&(d.className="name-column-resp",b.appendChild(d),d.onclick=function(){return function(b){N(b);c.h.g.enable||(c.Pb(),c.select={b:c.F.ra[a].b,c:c.F.ra[a].c,a:c.F.ra[a].a,oc:a},c.ub.Sj(b,c.select,S(b)))}}(a))},wj:function(a,b){var c=this,d=document.createElement("span");d&&(d.className="name-column-begin-date",b.appendChild(d),d.onclick=function(){return function(b){N(b);c.h.g.enable||(c.Pb(),c.select={b:c.F.ra[a].b,c:c.F.ra[a].c,a:c.F.ra[a].a,oc:a},c.ub.ci(b,c.select,S(b),!1))}}(a))},Aj:function(a,
b){var c=this,d=document.createElement("span");d&&(d.className="name-column-end-date",b.appendChild(d),d.onclick=function(){return function(b){N(b);c.h.g.enable||(c.Pb(),c.select={b:c.F.ra[a].b,c:c.F.ra[a].c,a:c.F.ra[a].a,oc:a},c.ub.ci(b,c.select,S(b),!0))}}(a))},Ej:function(a,b){var c=this,d=document.createElement("span");d&&(d.className="name-column-status",b.appendChild(d),d.onclick=function(){return function(b){N(b);c.h.g.enable||(c.Pb(),c.select={b:c.F.ra[a].b,c:c.F.ra[a].c,a:c.F.ra[a].a,oc:a},
c.ub.Tj(b,c.select,S(b)))}}(a))},Cj:function(a,b){var c=document.createElement("span");c&&(c.className="name-column-priority",b.appendChild(c))},xj:function(a,b){var c=this,d=document.createElement("div");d&&(d.className="button-colapse-open",b.appendChild(d),d.onclick=function(){return function(b){N(b);c.Pb();c.select={b:c.F.ra[a].b,c:c.F.ra[a].c,a:c.F.ra[a].a,oc:a,Cf:c.F.ra[a].Cf};c.ub.Uj(b,c.select)}}(a))},zj:function(a,b){var c=this.h,d=this,e,f,g=void 0,k=null,m=document.createElement("div");
m&&(m.className="button-drag-drop",b.appendChild(m),m.onmousedown=function(){return function(h){N(h);var m=b.getBoundingClientRect();e=h.clientX-m.left;f=h.clientY-m.top;if(g=b.cloneNode(!0)){g.className="element-drag-drop";g.style.background="";g.style.zIndex="1000";g.style.width=d.rows[0].minWidth+"px";g.style.left=-e+h.clientX+"px";g.style.top=-f+h.clientY+"px";for(h=1;h<g.childNodes.length-1;++h)g.childNodes[h].style.display="none";if(document.body.appendChild(g)){document.body.style.overflow=
"hidden";if(k=document.createElement("div"))k.style.zIndex="990",k.style.position="absolute",k.style.background="transparent",k.style.left="0",k.style.top="0",k.style.width="100%",k.style.height="100%",k.style.cursor="pointer",document.body.appendChild(k);"onmousewheel"in document?(k.onmousewheel=function(a){c.onmousewheel(a);return!0},g.onmousewheel=function(a){c.onmousewheel(a);return!0}):(g.addEventListener("MozMousePixelScroll",function(a){c.onmousewheel(a);return!0},!1),k.addEventListener("MozMousePixelScroll",
function(a){c.onmousewheel(a);return!0},!1));void 0!==d.Zb&&(d.F.elements[d.Zb].childNodes[8].style.display="none",d.F.elements[d.Ia.oc].style.background="#F3F3F3",d.Zb=void 0,d.zf());c.K={};c.K.b=void 0!==d.F.ra[a].b?d.F.ra[a].b:-1;c.K.c=void 0!==d.F.ra[a].c?d.F.ra[a].c:-1;c.K.a=void 0!==d.F.ra[a].a?d.F.ra[a].a:-1;d.hh=!0;c.Wa=200;void 0===d.F.ra[a].a&&(c.lc().ii(!1),c.lc().collapse(!0),c.yb(),c.Jb=!0,c.Kd());document.onmousemove=function(a){c.ba=c.Fd(a.clientX,a.clientY);c.ba.Sg=a;g.style.left=
-e+a.clientX+"px";g.style.top=-f+a.clientY+"px";c.Qe(a);d.Ye(c.ca.b,-1===c.ca.c?void 0:c.ca.c,c.ca.a+1);d.Kh();g.style.border=c.K.b===c.ca.b?"2px solid #bdda7f":"2px solid #ff0000";(a=c.f.lb(c.ca.b))&&-1!==c.ca.a&&(-1===c.ca.c?a.collapse&&(a.collapse=!1,c.yb(),c.Jb=!0,c.Kd()):(a=a.ma(c.ca.c),a.collapse&&(a.Mc(!1),c.yb(),c.Jb=!0,c.Kd())))};document.onmouseup=function(a){d.hh=void 0;c.Wa=O;b.getBoundingClientRect();c.ka={x:a.clientX,y:a.clientY-2*c.j,width:0,height:c.G,Ld:0,Ic:0};c.Qe(a);c.K.b===c.ca.b&&
(c.Xi(a,c.ca),c.yb());document.body.removeChild(k);document.body.removeChild(g);k=null;document.body.style.overflow="";document.onmousemove=function(a){c.onmousemove(a)};document.onmouseup=function(a){c.onmouseup(a)}}}}}}(a))},ql:function(a){this.mi=a;this.Yf&&(this.Yf.style.display=a?"none":"");this.ej&&(this.ej.style.display=a?"none":"");this.Fa&&(this.Fa.className=a?"filter-fields-disable":"filter-fields");a&&(this.Pe(void 0),this.lf([]))},ca:function(a,b,c){void 0!==b.Zb&&(b.F.elements[b.Zb].childNodes[8].style.display=
"none",b.Zb=void 0);if(b.g.enable)return!0;if(b.h.g.enable)return b.Ye(b.h.g.b,-1===b.h.g.c?void 0:b.h.g.c,-1===b.h.g.a?void 0:b.h.g.a),!0;a=S(a);"line-element"!==a.className&&(a=a.parentNode);if(b.F.ra[c].disabled)return b.Kh(),!0;a.style.background="#E1E1E1";b.Ia={b:b.F.ra[c].b,c:b.F.ra[c].c,a:b.F.ra[c].a,oc:c};(a=b.h.f.lb(b.Ia.b))&&(0===a.status()&&void 0!==b.F.ra[c].a&&void 0===b.hh)&&(a=b.h.f.A(b.Ia.b,b.Ia.c,b.Ia.a),void 0!==a&&t!==a.o&&(b.F.elements[c].childNodes[8].style.display="",b.Zb=c));
b.Kh();return!0},Bc:function(a){function b(){c.h.g.enable&&c.Ye()}if(this.Ol)this.Jc.style.top=-this.h.w.value()+"px";else{var c=this,d=this.h,e=y.Gantt.Localize_strings.taskWithoutMilestones||"Task Without Milestones",f=y.Gantt.Localize_strings.highPriority||"high",g=y.Gantt.Localize_strings.openStatus||"open",k=y.Gantt.Localize_strings.closeStatus||"close",m=y.Gantt.Localize_strings.addDate||"add",h,u,q,l=0,s,r=0,n,F,p;for(h=this.kh-1;0<=h;--h)this.F.elements[h].className="line-element",this.F.elements[h].style.display=
"none",this.F.elements[h].style.background="#F3F3F3",this.F.elements[h].childNodes[0].style.font="",this.F.elements[h].childNodes[0].style.color="#333333",this.F.elements[h].childNodes[1].style.color="#333333",this.F.elements[h].childNodes[2].style.color="#333333",this.F.elements[h].childNodes[3].style.color="#333333",this.F.elements[h].childNodes[4].style.color="#333333",this.F.elements[h].childNodes[5].style.color="#333333",this.F.elements[h].childNodes[0].className="name-column",this.F.elements[h].childNodes[2].className=
"name-column-resp",this.F.elements[h].childNodes[3].className="name-column-begin-date",this.F.elements[h].childNodes[4].className="name-column-end-date",this.F.elements[h].childNodes[5].className="name-column-status",this.F.elements[h].childNodes[6].className="name-column-priority",this.F.elements[h].childNodes[1].textContent="",this.F.elements[h].childNodes[2].textContent="",this.F.elements[h].childNodes[3].textContent="",this.F.elements[h].childNodes[4].textContent="",this.F.elements[h].childNodes[5].textContent=
"",this.F.elements[h].childNodes[6].textContent="",this.F.elements[h].childNodes[7].style.display="none",this.F.elements[h].childNodes[8].style.display="none";var v=25,z=34;if(void 0!==y.netscape||void 0!==y.clipboardData)--z,--v;var v=v+"px",z=z+"px",D=void 0!==Teamlab&&void 0!==Teamlab.getDisplayDate;a=d.w.value();this.F.ra=[];this.ql(0===d.f.b.length);var w=-((d.w.value()+0.5)%d.j)+1;h=d.j;a=(a+0.5)/h>>0;var B=Math.min(d.U/h+1,this.kh-1);d.w.value();d.i.height();d.i.height();var x=!1,C=d.f.b,E=
C.length,A=this.rows[1].Sa+"px",H=this.rows[2].Sa+"px",K=this.rows[3].Sa+"px",I=this.rows[4].Sa+"px",L=this.rows[5].Sa+"px",J=!this.rows[1].mb,N=!this.rows[2].mb,M=!this.rows[3].mb,T=!this.rows[4].mb,P=!this.rows[5].mb;for(u=0;u<E;++u){x=C[u].$e()||C[u].Ni();if(l>=a&&(p=this.F.elements[r],q=C[u].Q,q=q.substring(0,30),p.style.top=(30*r+w|0)+"px",p.childNodes[0].textContent=q,p.childNodes[0].title=C[u].Q,p.childNodes[0].style.left="16px",p.childNodes[0].style.font=this.Ci,J&&(p.childNodes[2].style.left=
A,p.childNodes[2].textContent=da(C[u],this.yg),p.childNodes[2].className="name-column-resp gantt-cell-disable"),p.childNodes[7].className=C[u].Rb?"button-colapse-close":"button-colapse-open",p.childNodes[7].style.display="",x&&(p.childNodes[0].style.color="#83888d",p.childNodes[1].style.color="#83888d",p.childNodes[2].style.color="#83888d",p.childNodes[0].className="name-column gantt-cell-pointer",p.childNodes[2].className="name-column-resp gantt-cell-disable"),C[u].$e()&&(p.childNodes[2].className=
"name-column-resp gantt-cell-disable",p.childNodes[7].style.display="none"),C[u].Qh&&(p.className="line-element icon-private"),p.style.display="",this.F.ra.push({b:u,c:void 0,a:void 0,text:q,disabled:!0}),++r,B<r)){b();this.Jc.style.display="";return}++l;if(!C[u].Rb){for(h=0;h<C[u].c.length;++h)if(!C[u].c[h].filter){if(l>=a&&(p=this.F.elements[r],q=C[u].c[h].Q,q=q.substring(0,30),n=1===C[u].c[h].o?ka:0>=C[u].c[h].m?la:fa,p.style.top=(30*r+w|0)+"px",p.childNodes[0].textContent=q,p.childNodes[0].title=
C[u].c[h].Q,p.childNodes[0].style.fontWeight="bold",p.childNodes[0].style.left="26px",x||(p.childNodes[0].style.color=n),p.childNodes[1].textContent=Z(C[u].c[h].a),x||(p.childNodes[1].style.color=n),J&&(p.childNodes[2].style.left=A,p.childNodes[2].textContent=da(C[u].c[h],this.yg),x||(p.childNodes[2].style.color=n),t-1===C[u].c[h].o&&(p.childNodes[2].className="name-column-resp gantt-cell-disable")),M&&(p.childNodes[4].textContent=R(C[u].c[h].bb,D),p.childNodes[4].style.left=K,x||(p.childNodes[4].style.color=
n),t-1===C[u].c[h].o&&(p.childNodes[4].className="name-column-end-date gantt-cell-disable")),T&&(p.childNodes[5].style.left=I,p.childNodes[5].textContent=t-1===C[u].c[h].o?k:g),C[u].c[h].a.length&&(p.childNodes[7].className=C[u].c[h].collapse?"button-colapse-close":"button-colapse-open",p.childNodes[7].style.display=""),x&&(p.childNodes[0].style.color="#83888d",p.childNodes[1].style.color="#83888d",p.childNodes[2].style.color="#83888d",p.childNodes[3].style.color="#83888d",p.childNodes[4].style.color=
"#83888d",p.childNodes[5].style.color="#83888d",p.childNodes[6].style.color="#83888d",p.childNodes[7].style.color="#83888d",p.childNodes[0].className="name-column gantt-cell-pointer",p.childNodes[2].className="name-column-resp gantt-cell-disable",p.childNodes[3].className="name-column-begin-date gantt-cell-disable",p.childNodes[5].className="name-column-status gantt-cell-disable",p.childNodes[6].className="name-column-priority gantt-cell-disable"),p.style.display="",this.F.ra.push({b:u,c:h,a:void 0,
text:q}),this.g.enable&&this.g.qh(u,h,void 0)?(this.g.element.style.left=v,this.g.element.style.top=(30*r+w|0)+3+"px",this.g.element.className="milestone-edit",this.g.element.style.display="",p.style.background="#E1E1E1"):this.Ia&&(this.Ia.b===u&&this.Ia.c===h&&void 0===this.Ia.a)&&(p.style.background="#E1E1E1"),++r,B<r)){b();this.Jc.style.display="";return}++l;if(d.Y||!C[u].c[h].collapse)for(s=0;s<C[u].c[h].a.length;++s)if(!C[u].c[h].a[s].filter){if(l>=a&&(p=this.F.elements[r],F=C[u].c[h].a[s],q=
F.Q,q=q.substring(0,30),n=ea(F,h),p.style.top=(30*r+w|0)+"px",p.childNodes[0].textContent=q,p.childNodes[0].title=F.Q,p.childNodes[0].style.left="35px",p.childNodes[0].style.fontWeight="",x||(p.childNodes[0].style.color=n),J&&(p.childNodes[2].style.left=A,p.childNodes[2].textContent=ca(F,this.yg),x||(p.childNodes[2].style.color=n),t===F.o&&(p.childNodes[2].className="name-column-resp gantt-cell-disable")),N&&(p.childNodes[3].textContent=F.ab?m:R(F.vd(),D),p.childNodes[3].style.left=H,x||(p.childNodes[3].style.color=
n),t===F.o&&(p.childNodes[3].className="name-column-begin-date gantt-cell-disable")),M&&(p.childNodes[4].textContent=F.P?m:R(F.hd(),D),p.childNodes[4].style.left=K,x||(p.childNodes[4].style.color=n),t===F.o&&(p.childNodes[4].className="name-column-end-date gantt-cell-disable")),T&&(p.childNodes[5].style.left=I,p.childNodes[5].textContent=t===F.o?k:g),F.tf&&P&&(p.childNodes[6].textContent=f,p.childNodes[6].style.left=L,x||(p.childNodes[6].style.color=n)),x&&(p.childNodes[0].style.color="#83888d",p.childNodes[1].style.color=
"#83888d",p.childNodes[2].style.color="#83888d",p.childNodes[3].style.color="#83888d",p.childNodes[4].style.color="#83888d",p.childNodes[5].style.color="#83888d",p.childNodes[6].style.color="#83888d",p.childNodes[7].style.color="#83888d",p.childNodes[0].className="name-column gantt-cell-pointer",J&&(p.childNodes[2].className="name-column-resp gantt-cell-disable"),M&&(p.childNodes[3].className="name-column-begin-date gantt-cell-disable"),M&&(p.childNodes[4].className="name-column-end-date gantt-cell-disable"),
T&&(p.childNodes[5].className="name-column-status gantt-cell-disable"),p.childNodes[6].className="name-column-priority gantt-cell-disable"),p.style.display="",this.F.ra.push({b:u,c:h,a:s,text:q}),this.g.enable&&this.g.qh(u,h,s)?(this.g.element.style.left=z,this.g.element.style.top=(30*r+w|0)+3+"px",this.g.element.className="task-edit",this.g.element.style.display="",p.style.background="#E1E1E1"):this.Ia&&(this.Ia.b===u&&this.Ia.c===h&&this.Ia.a===s)&&(p.style.background="#E1E1E1"),++r,B<r)){b();this.Jc.style.display=
"";return}++l}}if(l>=a){p=this.F.elements[r];p.style.top=(30*r+w|0)+"px";p.childNodes[0].textContent=e;p.childNodes[0].title="";p.childNodes[0].style.fontWeight="bold";p.childNodes[0].style.left="26px";p.childNodes[1].textContent=Z(C[u].a);p.childNodes[7].style.display="";C[u].a.length?(p.childNodes[7].className=C[u].collapse?"button-colapse-close":"button-colapse-open",p.childNodes[7].style.display=""):p.childNodes[7].style.display="none";x&&(p.childNodes[0].style.color="#83888d",p.childNodes[1].style.color=
"#83888d");p.childNodes[0].className="name-column gantt-cell-disable";p.style.display="";this.F.ra.push({b:u,c:void 0,a:void 0,text:q,disabled:!0,Cf:!0});++r;if(B<r){b();this.Jc.style.display="";return}++l}++l;if(!C[u].collapse)for(s=0;s<C[u].a.length;++s)if(!C[u].a[s].filter){if(l>=a&&(p=this.F.elements[r],F=C[u].a[s],q=F.Q,q=q.substring(0,30),n=ea(F,-1),p.style.top=(30*r+w|0)+"px",p.childNodes[0].textContent=q,p.childNodes[0].title=F.Q,p.childNodes[0].style.left="35px",p.childNodes[0].style.fontWeight=
"",x||(p.childNodes[0].style.color=n),J&&(p.childNodes[2].style.left=A,p.childNodes[2].textContent=ca(F,this.yg),x||(p.childNodes[2].style.color=n),t===F.o&&(p.childNodes[2].className="name-column-resp gantt-cell-disable")),N&&(p.childNodes[3].textContent=F.ab?m:R(F.vd(),D),p.childNodes[3].style.left=H,x||(p.childNodes[3].style.color=n),t===F.o&&(p.childNodes[3].className="name-column-begin-date gantt-cell-disable")),M&&(p.childNodes[4].textContent=F.P?m:R(F.hd(),D),p.childNodes[4].style.left=K,x||
(p.childNodes[4].style.color=n),t===F.o&&(p.childNodes[4].className="name-column-end-date gantt-cell-disable")),T&&(p.childNodes[5].style.left=I,p.childNodes[5].textContent=t===F.o?k:g),F.tf&&P&&(p.childNodes[6].textContent=f,p.childNodes[6].style.left=L,p.childNodes[6].style.color=n),x&&(p.childNodes[0].style.color="#83888d",p.childNodes[1].style.color="#83888d",p.childNodes[2].style.color="#83888d",p.childNodes[3].style.color="#83888d",p.childNodes[4].style.color="#83888d",p.childNodes[5].style.color=
"#83888d",p.childNodes[0].className="name-column gantt-cell-pointer",J&&(p.childNodes[2].className="name-column-resp gantt-cell-disable"),N&&(p.childNodes[3].className="name-column-begin-date gantt-cell-disable"),M&&(p.childNodes[4].className="name-column-end-date gantt-cell-disable"),T&&(p.childNodes[5].className="name-column-status gantt-cell-disable"),p.childNodes[6].className="name-column-priority gantt-cell-disable"),p.style.display="",this.F.ra.push({b:u,c:void 0,a:s,text:q}),this.g.enable&&
this.g.qh(u,void 0,s)?(this.g.element.style.left=z,this.g.element.style.top=(30*r+w|0)+3+"px",this.g.element.className="task-edit",this.g.element.style.display="",p.style.background="#E1E1E1"):this.Ia&&(this.Ia.b===u&&void 0===this.Ia.c&&this.Ia.a===s)&&(p.style.background="#E1E1E1"),++r,B<r)){b();this.Jc.style.display="";return}++l}}}b()}},Pe:function(a){for(var b=0,c=0,c=0;c<this.ea.length;++c)b+=this.ea[c].width+this.yc;if(void 0===a){this.ea=[];for(c=1;c<this.rows.length;++c)this.rows[c].Sa=-1E3,
this.rows[c].wa.style.left=this.rows[c].Sa+"px",this.Xe(c,!0);this.Hb.style.display="none"}else"Responsibility"===a?(this.ea.push({width:this.rows[1].minWidth,name:"Responsibility"}),this.rows[1].Sa=this.rows[0].minWidth+b,this.rows[1].translate=y.Gantt.Localize_strings.responsibles2||"Responsible(-s)",this.rows[1].wa.style.left=this.rows[1].Sa+this.Mf+"px",this.rows[1].wa.style.width=this.rows[1].minWidth+"px",this.rows[1].wa.childNodes[0].textContent=this.rows[1].translate):"BeginDate"===a?(this.ea.push({width:this.rows[2].minWidth,
name:"BeginDate"}),this.rows[2].Sa=this.rows[0].minWidth+b,this.rows[2].translate=y.Gantt.Localize_strings.beginDate||"Begin Date",this.rows[2].wa.style.left=this.rows[2].Sa+this.Mf+"px",this.rows[2].wa.style.width=this.rows[2].minWidth+"px",this.rows[2].wa.childNodes[0].textContent=this.rows[2].translate):"EndDate"===a?(this.ea.push({width:this.rows[3].minWidth,name:"EndDate"}),this.rows[3].Sa=this.rows[0].minWidth+b,this.rows[3].translate=y.Gantt.Localize_strings.endDate||"End Date",this.rows[3].wa.style.left=
this.rows[3].Sa+this.Mf+"px",this.rows[3].wa.style.width=this.rows[3].minWidth+"px",this.rows[3].wa.childNodes[0].textContent=this.rows[3].translate):"Status"===a?(this.ea.push({width:this.rows[4].minWidth,name:"Status"}),this.rows[4].Sa=this.rows[0].minWidth+b,this.rows[4].translate=y.Gantt.Localize_strings.status||"Status",this.rows[4].wa.style.left=this.rows[4].Sa+this.Mf+"px",this.rows[4].wa.style.width=this.rows[4].minWidth+"px",this.rows[4].wa.childNodes[0].textContent=this.rows[4].translate):
"Priority"===a&&(this.ea.push({width:this.rows[5].minWidth,name:"Priority"}),this.rows[5].Sa=this.rows[0].minWidth+b,this.rows[5].translate=y.Gantt.Localize_strings.priotity||"Priotity",this.rows[5].wa.style.left=this.rows[5].Sa+this.Mf+"px",this.rows[5].wa.style.width=this.rows[5].minWidth+"px",this.rows[5].wa.childNodes[0].textContent=this.rows[5].translate);for(c=b=0;c<this.ea.length;++c)b+=this.ea[c].width+this.yc;this.maxWidth=this.width=this.rows[0].minWidth+b+this.Fa.offsetWidth+this.yc;this.wa.style.width=
this.width+"px";this.We.style.width=this.width+"px";this.Fa.style.left=this.width-this.Fa.offsetWidth-14+"px";this.wf.style.left=this.Fa.style.left;this.Pf=this.Fa.offsetLeft+this.Fa.offsetWidth+this.h.d.canvas.offsetLeft;this.Qf=this.Fa.offsetTop+this.Fa.offsetHeight+this.h.d.canvas.offsetTop;this.Yf.style.left=this.width-16+"px"},$j:function(a){var b=[],c=0,d=0;for(b.push(void 0);c<this.ea.length;++c)a!==this.ea[c].name&&b.push(this.ea[c].name);for(;d<b.length;++d)this.Pe(b[d]);this.Bc(this.h.w.value());
this.h.$=!0},qg:function(){for(var a=0,b=[];a<this.ea.length;++a)b.push(this.ea[a].name);return b},lf:function(a){var b=0;if(a){if(a.length!==this.ea.length)for(b=0;b<this.ea.length;++b)this.Xe(this.ea[b].name,!1);for(b=0;b<a.length;++b)this.Xe(a[b],!0);for(var c=b=0,c=0;c<this.ea.length;++c){var d;a:{for(d=this.rows.length-1;0<=d;--d)if(this.rows[d].name===this.ea[c].name){d=this.rows[d];break a}d=null}d&&!d.mb&&(b+=this.ea[c].width+this.yc)}a.length!==this.ea.length&&(b+=22,this.Hb.style.display=
"",this.Hb.style.left=this.rows[0].minWidth+b-this.Fa.offsetWidth-39+30+"px");this.width=this.rows[0].minWidth+b+this.Fa.offsetWidth+this.yc;this.wa.style.width=this.width+"px";this.We.style.width=this.width+"px";this.Fa.style.left=this.width-this.Fa.offsetWidth-14+"px";this.wf.style.left=this.Fa.style.left;this.Pf=this.Fa.offsetLeft+this.Fa.offsetWidth+this.h.d.canvas.offsetLeft;this.Qf=this.Fa.offsetTop+this.Fa.offsetHeight+this.h.d.canvas.offsetTop;this.Bg=this.Hb.offsetLeft+this.Hb.offsetWidth+
this.h.d.canvas.offsetLeft;this.Cg=this.Hb.offsetTop+this.Hb.offsetHeight+this.h.d.canvas.offsetTop;this.Yf.style.left=this.width-16+"px"}},Xe:function(a,b){if("Responsibility"===a||1===a)this.rows[1].wa.style.display=b?"":"none",this.rows[1].mb=!b;else if("BeginDate"===a||2===a)this.rows[2].wa.style.display=b?"":"none",this.rows[2].mb=!b;else if("EndDate"===a||3===a)this.rows[3].wa.style.display=b?"":"none",this.rows[3].mb=!b;else if("Status"===a||4===a)this.rows[4].wa.style.display=b?"":"none",
this.rows[4].mb=!b;else if("Priority"===a||5===a)this.rows[5].wa.style.display=b?"":"none",this.rows[5].mb=!b},rg:function(){for(var a=null,b=0,c=[];b<this.ea.length;++b){a:{for(a=this.rows.length-1;0<=a;--a)if(this.rows[a].name===this.ea[b].name){a=this.rows[a];break a}a=null}a&&a.mb&&c.push(this.ea[b].name)}return c},Ve:function(a){for(var b=[],c=0;c<this.ea.length;++c){var d;a:{for(d=this.rows.length-1;0<=d;--d)if(this.rows[d].name===this.ea[c].name){d=this.rows[d];break a}d=null}d&&!d.mb&&a!==
this.ea[c].name&&b.push(this.ea[c].name)}return b},Hi:function(a){for(var b=this.rows.length-1;0<=b;--b)if(this.rows[b].name===a)return this.rows[b];return null},Al:function(a){var b=a.h;if(b.Ea)return!1;var c=J(a.select);b.g.cancel();if(void 0!==a.select.b&&0!==b.f.lb(a.select.b).status())return!1;a.select=J(c);var d=c=null;if(void 0!==a.select.a){if(d=b.f.A(a.select.b,a.select.c,a.select.a))t!==d.o?(c=b.f.jc(a.select.b,a.select.c,a.select.a),b.L.add(700,{b:a.select.b,c:a.select.c,a:d,index:a.select.a,
ha:c.a,fa:c.c,ga:c.b,Nc:!0})):(d=null,this.select=void 0)}else if(d=b.f.ma(a.select.b,a.select.c))t-1!==d.o?(c=b.f.$c(a.select.b,a.select.c),b.L.add(800,{b:this.select.b,c:a.select.c,a:d,index:a.select.a,ha:c.a,fa:c.c,ga:c.b,Nc:!0})):(d=null,this.select=void 0);return d?(a.g.element.style.width="175px",a.g.element.style.height=0.6*b.j+"px",a.g.xl(d,this.select.b,this.select.c,this.select.a),a.g.zl(d.Q),b.la=void 0===a.g.anchor.a?-1:a.g.anchor.a,b.xa=void 0===a.g.anchor.c?-1:a.g.anchor.c,b.ta=a.g.anchor.b,
b.$=!0,a.g.show(!0),a.Bc(void 0),!0):!1},Pb:function(a,b){this.g.close();if(this.select&&this.select.oc&&(this.F.elements[this.select.oc].style.background="#F3F3F3",b))return;this.Ia=this.select=void 0;a&&this.Bc(void 0)},Kh:function(){this.Ia&&this.Ia.oc?this.h.g.enable||(this.h.la=void 0===this.Ia.a?-1:this.Ia.a,this.h.xa=void 0===this.Ia.c?-1:this.Ia.c,this.h.ta=this.Ia.b):(this.h.la=-1,this.h.xa=-1,this.h.ta=-1);this.h.$=!0},Ye:function(a,b,c){this.Ia&&this.Ia.oc&&(this.F.elements[this.Ia.oc].style.background=
"#F3F3F3",this.F.elements[this.Ia.oc].childNodes[8].style.display="none",this.Ia=void 0,void 0!==this.Zb&&(this.F.elements[this.Zb].childNodes[8].style.display="none",this.Zb=void 0));this.h.g.enable&&(a=this.h.g.b,b=-1===this.h.g.c?void 0:this.h.g.c,c=-1===this.h.g.a?void 0:this.h.g.a);for(var d=this.F.ra.length-1;0<=d;--d)if(this.F.ra[d].b===a&&this.F.ra[d].c===b&&this.F.ra[d].a===c){this.Ia={b:a,c:b,a:c,oc:d};this.F.elements[d].style.background="#E1E1E1";void 0===this.hh&&void 0!==this.Ia.a&&t!==
this.h.f.A(this.Ia.b,this.Ia.c,this.Ia.a).o&&(this.F.elements[d].childNodes[8].style.display="");void 0!==this.Zb&&(this.F.elements[this.Zb].childNodes[8].style.display="none",this.Zb=void 0);break}},zf:function(){if(-1!==this.h.la||-1!==this.h.xa||-1!==this.h.ta)this.h.la=-1,this.h.xa=-1,this.h.ta=-1,this.h.$=!0;void 0!==this.Zb&&(this.F.elements[this.Zb].childNodes[8].style.display="none",this.Zb=void 0)}};ma.prototype={th:void 0,ua:void 0,zc:function(){(this.ua=new Da(this.h,this.Hj,this.th))&&
this.ua.zc(this)},kf:function(a){this.ua&&this.ua.Bc(a)},Bc:function(){this.ua&&this.ua.Bc(void 0)},vj:function(a){this.ua.Pe(void 0);if(a)for(var b=0;b<a.length;++b)this.ua.Pe(a[b]);this.ua.Bc(this.h.w.value());this.h.$=!0},lf:function(a){this.ua.lf(a);this.ua.Bc(this.h.w.value());this.h.$=!0},gd:function(a,b){this.ua.Pb(a,b)},Mg:function(a,b,c){this.ua.Ye(a,b,c)},fi:function(){void 0!==this.ua.Zb&&(this.ua.F.elements[this.ua.Zb].childNodes[8].style.display="none",this.ua.Zb=void 0)},Gk:function(a){this.ua.Pb();
void 0===a.a&&(void 0!==a.c&&void 0!==a.b)&&this.h.ja.Lc(this.h.f.ma(a.b,a.c).m);void 0!==a.a&&(void 0!==a.c&&void 0!==a.b)&&this.h.ja.Lc(this.h.f.A(a.b,a.c,a.a).k);void 0!==a.a&&(void 0===a.c&&void 0!==a.b)&&this.h.ja.Lc(this.h.f.A(a.b,void 0,a.a).k);if(void 0===a.a&&void 0===a.c&&void 0!==a.b){var b,c=this.h,d=this.h.f.lb(a.b);for(a=0;a<d.c.length;++a)for(b=0;b<d.c[a].a.length;++b)if(t!=d.c[a].a[b].status()){d.Wf(!1);d.c[a].Mc(!1);c.yb();c.Jb=!0;c.Kd();c.lc().fg(d.c[a].a[b].id(),!1,function(){c.Zd()});
return}for(b=0;b<d.a.length;++b)if(t!=d.a[b].status()){d.Mc(!1);d.Wf(!1);c.yb();c.Jb=!0;c.Kd();c.lc().fg(d.a[b].id(),!1,function(){c.Zd()});break}}},Sj:function(a,b,c){if(void 0!==b.b&&0!==this.h.f.lb(b.b).status())return!1;this.ua.Pb();var d=null,d=null,d=c.getBoundingClientRect();c={left:d.left,top:d.top+1.2*d.height};var e=this.h.J["503"];if(!e)return!1;if(void 0===b.a&&void 0!==b.c&&void 0!==b.b){d=this.h.f.ma(b.b,b.c);if(t-1===this.h.f.b[b.b].c[b.c].status())return!1;this.h.Za.O={b:b.b,c:b.c,
a:void 0,status:this.h.f.b[b.b].c[b.c].status(),l:this.h.f.b[b.b].c[b.c],na:this.h.f.$c(b.b,b.c)};N(a);e(d,c,!0);return!0}if(void 0!==b.a&&void 0!==b.c&&void 0!==b.b){d=this.h.f.A(b.b,b.c,b.a);if(t===d.status())return!1;this.h.Za.O={b:b.b,c:b.c,a:b.a,status:d.status(),l:d,fc:!0,na:this.h.f.jc(b.b,b.c,b.a)};e(d,c,!0);return!0}if(void 0!==b.a&&void 0===b.c&&void 0!==b.b){d=this.h.f.A(b.b,void 0,b.a);if(t===d.status())return!1;this.h.Za.O={b:b.b,c:b.c,a:b.a,status:d.status(),l:d,fc:!0,na:this.h.f.jc(b.b,
b.c,b.a)};e(d,c,!0);return!0}return!1},Tj:function(a,b,c){this.ua.Pb();if(void 0!==b.b&&0!==this.h.f.lb(b.b).status())return!1;var d=null,d=null;a=this.h.J["500"];c=c.getBoundingClientRect();c={left:c.left,top:c.top+1.2*c.height};return a?void 0===b.a&&void 0!==b.c&&void 0!==b.b?(d=this.h.f.ma(b.b,b.c),this.h.Za.O={b:b.b,c:b.c,a:void 0,status:this.h.f.b[b.b].c[b.c].status(),l:this.h.f.b[b.b].c[b.c],na:this.h.f.$c(b.b,b.c)},a(d,c,!0),!0):void 0!==b.a&&void 0!==b.c&&void 0!==b.b?(d=this.h.f.A(b.b,b.c,
b.a),this.h.Za.O={b:b.b,c:b.c,a:b.a,status:d.status(),l:d,fc:!0,na:this.h.f.jc(b.b,b.c,b.a)},a(d,c,!0),!0):void 0!==b.a&&void 0===b.c&&void 0!==b.b?(d=this.h.f.A(b.b,void 0,b.a),this.h.Za.O={b:b.b,c:b.c,a:b.a,status:d.status(),l:d,fc:!0,na:this.h.f.jc(b.b,b.c,b.a)},a(d,c,!0),!0):!1:!1},ci:function(a,b,c,d){if(this.onchangetimes){this.ua.Pb();if(void 0!==b.b&&0!==this.h.f.lb(b.b).status())return!1;var e=a=a=null;c=c.getBoundingClientRect();c={left:c.left,top:c.top+1.2*c.height};if(void 0===b.a&&void 0!==
b.c&&void 0!==b.b){a=this.h.f.ma(b.b,b.c);if(t-1===this.h.f.b[b.b].c[b.c].status())return!1;this.h.Za.O={b:b.b,c:b.c,a:void 0,status:this.h.f.b[b.b].c[b.c].status(),l:this.h.f.b[b.b].c[b.c],na:this.h.f.$c(b.b,b.c)};this.onchangetimes(c,a,!1);return!0}if(void 0!==b.a&&void 0!==b.c&&void 0!==b.b){a=this.h.f.A(b.b,b.c,b.a);if(t===a.status())return!1;this.h.Za.O={b:b.b,c:b.c,a:b.a,status:a.status(),l:a,fc:!0,na:this.h.f.jc(b.b,b.c,b.a)};if(e=this.h.J["500"])return this.onchangetimes(c,a,d),!0}if(void 0!==
b.a&&void 0===b.c&&void 0!==b.b){a=this.h.f.A(b.b,void 0,b.a);if(t===a.status())return!1;this.h.Za.O={b:b.b,c:b.c,a:b.a,status:a.status(),l:a,fc:!0,na:this.h.f.jc(b.b,b.c,b.a)};this.onchangetimes(c,a,d);return!0}}return!1},Uj:function(a,b){if(this.h.g.enable)return!1;var c=null,c=null;return void 0===b.a&&void 0!==b.c&&void 0!==b.b?(c=this.h.f.ma(b.b,b.c),a.ctrlKey||a.metaKey?this.h.lc().collapse(!c.collapse):c.Mc(!c.collapse),this.h.w.save(!0),this.h.Jb=!0,this.h.yb(),!0):void 0!==b.b&&void 0!==
b.Cf?(c=this.h.f.lb(b.b),a.ctrlKey||a.metaKey?this.h.lc().collapse(!c.collapse):c.Mc(!c.collapse),this.h.w.save(!0),this.h.Jb=!0,this.h.yb(),!0):void 0!==b.b&&void 0===b.Cf&&void 0===b.a&&void 0===b.c?(c=this.h.f.lb(b.b),a.ctrlKey||a.metaKey?this.h.lc().ii(!c.Rb):c.Wf(!c.Rb),this.h.w.save(!0),this.h.Jb=!0,this.h.yb(),!0):!1},Bl:function(a,b,c){if(0!==this.h.f.lb(b.b).status()&&c)return!1;var d=null,d=null,e=this.h.J["502"];c=c.getBoundingClientRect();a={left:a.clientX-this.h.d.canvas.offsetLeft,top:c.top+
1*c.height};if(!e)return!1;this.ua.Pb();return void 0===b.a&&(void 0!==b.c&&void 0!==b.b)&&(d=this.h.f.ma(b.b,b.c),this.h.J["502"]&&!this.h.Ea)?(this.h.Cd().O={b:b.b,c:b.c,a:void 0,na:this.h.f.$c(b.b,b.c),fc:!1,gb:d,l:d},e(a,d,!1,this.h.f.lb(b.b).id()),!0):void 0!==b.a&&(void 0!==b.c&&void 0!==b.b)&&(d=this.h.f.A(b.b,b.c,b.a),this.h.J["502"]&&!this.h.Ea)?(this.h.Cd().O={b:b.b,c:b.c,a:b.a,na:this.h.f.jc(b.b,b.c,b.a),fc:!0,I:d,l:d},e(a,d,!0,this.h.f.lb(b.b).id()),!0):void 0!==b.a&&(void 0===b.c&&void 0!==
b.b)&&(d=this.h.f.A(b.b,void 0,b.a),this.h.J["502"]&&!this.h.Ea)?(this.h.Cd().O={b:b.b,c:void 0,a:b.a,na:this.h.f.jc(b.b,b.c,b.a),fc:!0,I:d,l:d},e(a,d,!0,this.h.f.lb(b.b).id()),!0):!1}};na.prototype={zc:function(a){this.h=a;this.Ma=[];this.La=-1;this.mf=null},reset:function(){this.Tl=null;this.Ma=[];this.La=-1;this.$d()},ji:function(){return this.Ma&&this.Ma.length?this.Ma[this.La]:null},add:function(a,b){999===a&&this.Ma.length&&999===this.Ma.Zc().id||(++this.La,this.nj(),this.Ma.push({id:a,e:J(b)}),
2>this.Ma.length&&this.$d())},Uh:function(a,b){this.mf={id:a,e:J(b)}},li:function(){this.mf=null},Wh:function(){this.mf&&(this.add(this.mf.id,this.mf.e),this.mf=null)},Nf:function(a){-1!==this.La&&(this.h&&this.Ma.length)&&(this.Ag(this.La,void 0,a),this.$d())},kc:function(a,b,c){if(-1!==this.La&&this.h&&this.Ma.length){if(b&&this.La<this.Ma.length&&0<=this.La){var d=this.Ma[this.La];switch(d.id){case 300:b.le||(d.e.Lf=d.e.a.Q,d.e.Af=b.Q,d.e.a.rd(b.k,b.m),d.e.a.Q=b.Q);break;case 400:b.le&&(d.e.Lf=
d.e.a.Q,d.e.Af=b.Q,d.e.a.Q=b.Q);break;case 800:d.e.Lf=d.e.a.Q;d.e.Af=b.Q;break;case 700:d.e.Lf=d.e.a.Q,d.e.Af=b.Q}}this.Ag(this.La,void 0,a,b,c);this.$d()}},Ag:function(a,b,c,d,e){if(!(a>this.Ma.length-1||0>a)){var f=null,g,k,m,h,u=!1,q=!1,l=!1,s=!1,r=this.h.f,n=this.Ma[a];switch(n.id){case 300:if(b){if(this.h.J["111"])this.h.J["111"](n.e.ga,n.e.fa,n.e.ha,d?d:n.e.a,n.e.Eb)}else if(this.h.J["101"])this.h.J["101"](n.e.ga,n.e.fa,n.e.ha,d?d:n.e.a,n.e.Eb);break;case 500:if(b){if(this.h.J["101"])this.h.J["101"](n.e.ga,
n.e.fa,n.e.ha,d?d:n.e.a,n.e.Eb)}else if(this.h.J["111"])this.h.J["111"](n.e.ga,n.e.fa,n.e.ha,d?d:n.e.a,n.e.Eb);break;case 400:if(b){if(this.h.J["112"])this.h.J["112"](n.e.ga,n.e.fa,n.e.a)}else if(this.h.J["102"])this.h.J["102"](n.e.ga,n.e.fa,n.e.a);break;case 600:if(b){if(this.h.J["102"])this.h.J["102"](n.e.ga,n.e.fa,n.e.a)}else if(this.h.J["112"])this.h.J["112"](n.e.ga,n.e.fa,n.e.a);break;case 700:d||(b?(g=n.e.a.Q,n.e.a.Q=n.e.Lf):(g=n.e.a.Q,n.e.a.Q=n.e.Af));if(this.h.J["121"])this.h.J["121"](n.e.ga,
n.e.fa,n.e.ha,d?d:n.e.a);d||(n.e.a.Q=g);break;case 800:d||(b?(g=n.e.a.Q,n.e.a.Q=n.e.Lf):(g=n.e.a.Q,n.e.a.Q=n.e.Af));if(this.h.J["122"])this.h.J["122"](n.e.ga,n.e.fa,d?d:n.e.a);d||(n.e.a.Q=g);break;case 100:if(e)f=[],e.left&&e.left.ud(d?d:n.e.a,function(a,b){b&&(b.change&&!0===b.change)&&(f.push(b),u=!0)}),e.right&&e.right.ud(d?d:n.e.a,function(a,b){b&&(b.change&&!0===b.change)&&(f.push(b),u=!0)});else if((e=n.e.Da)&&e.length)for(f=[],a=0;a<e.length;++a)f.push(r.A(e[a].b,e[a].c,e[a].a));if(c&&!u&&
(m=r.A(n.e.b,n.e.c,n.e.index).k,h=r.A(n.e.b,n.e.c,n.e.index).m,m===n.e.a.k&&h===n.e.a.m)){this.Qb(0);return}d||(b?(q=n.e.a.P,l=n.e.a.kb,s=n.e.a.ab,n.e.a.P=r.A(n.e.b,n.e.c,n.e.index).P):(q=n.e.a.P,n.e.a.P=r.A(n.e.b,n.e.c,n.e.index).P,l=n.e.a.kb,s=n.e.a.ab,m=n.e.a.k,h=n.e.a.m,n.e.a.rd(r.A(n.e.b,n.e.c,n.e.index).k,r.A(n.e.b,n.e.c,n.e.index).m)),n.e.a.kb=r.A(n.e.b,n.e.c,n.e.index).kb,n.e.a.ab=r.A(n.e.b,n.e.c,n.e.index).ab);if(this.h.J["123"])this.h.J["123"](n.e.ga,n.e.fa,n.e.ha,d?d:n.e.a,f);d||(b?n.e.a.P=
q:(n.e.a.P=q,n.e.a.rd(m,h)),n.e.a.kb=l,n.e.a.ab=s);break;case 200:if(c&&(m=r.ma(n.e.b,n.e.c).k,h=r.ma(n.e.b,n.e.c).m,m===n.e.a.k&&h===n.e.a.m)){this.Qb(0);return}if(this.h.J["123"])this.h.J["123"](n.e.ga,n.e.fa,void 0,d?d:n.e.a);break;case 900:if(this.h.J["130"])this.h.J["130"](n.e.ga,n.e.fa,n.e.ha,n.e.De,n.e.od,d?d:n.e.a,n.e.Eb,b);break;case 905:if(this.h.J["150"])this.h.J["150"](b?n.e.Xf:n.e.se,n.e.Dl);break;case 910:d||(b?(k=n.e.a.o,n.e.a.o=n.e.Be):(k=n.e.a.o,n.e.a.o=n.e.xe));if(this.h.J["124"])this.h.J["124"](n.e.ga,
n.e.fa,n.e.ha,d?d:n.e.a);d||(n.e.a.o=k);break;case 920:d||(b?(k=n.e.a.o,n.e.a.o=n.e.Be):(k=n.e.a.o,n.e.a.o=n.e.xe));if(this.h.J["125"])this.h.J["125"](n.e.ga,n.e.fa,d?d:n.e.a);d||(n.e.a.o=k);break;case 950:if(b){if(this.h.J["145"])if(d)this.h.J["145"](d);else b=n.e.link.za||n.e.link.parentTaskId,a=n.e.link.Ca||n.e.link.dependenceTaskId,this.h.J["145"](n.e.link,r.Vb(a).l,r.Vb(b).l)}else if(this.h.J["140"])if(d)this.h.J["140"](d);else b=n.e.link.za||n.e.link.parentTaskId,a=n.e.link.Ca||n.e.link.dependenceTaskId,
this.h.J["140"](n.e.link,r.Vb(a).l,r.Vb(b).l);break;case 955:if(b){if(this.h.J["140"])if(d)this.h.J["140"](d);else b=n.e.link.za||n.e.link.parentTaskId,a=n.e.link.Ca||n.e.link.dependenceTaskId,this.h.J["140"](n.e.link,r.Vb(a).l,r.Vb(b).l)}else if(this.h.J["145"])if(d)this.h.J["145"](d);else b=n.e.link.za||n.e.link.parentTaskId,a=n.e.link.Ca||n.e.link.dependenceTaskId,this.h.J["145"](n.e.link,r.Vb(a).l,r.Vb(b).l);break;case 960:if(!c&&this.h.J["160"])this.h.J["160"](d)}this.$d()}},Qb:function(){-1!==
this.La&&(this.h&&this.Ma.length)&&(--this.La,this.Ma.splice(this.Ma.length-1,1),this.$d())},Bi:function(){return this.Ma.length&&999===this.Ma[this.Ma.length-1].id?(this.Qb(0),!0):!1},ij:function(){this.h.g.enable&&this.h.g.cancel(!0);this.h.Bb().gd();if(-1!==this.La&&this.h&&this.Ma.length){var a=this.h.f,b=this.Ma[this.La],c,d,e,f;e=null;var g;switch(b.id){case 300:this.h.w.save();a.b[b.e.b].Fb(b.e.index,b.e.c);break;case 500:this.h.w.save();a.Nb(b.e.a,b.e.index);f=b.e.Eb.length;if(void 0!==b.e.c)for(c=
0;c<f;++c)e=b.e.Eb[c],e.link.Ca!==b.e.ha&&(d=a.b[b.e.b].c[b.e.c].a[e.La],d.links.splice(e.index,1,e.link));else for(c=0;c<f;++c)e=b.e.Eb[c],e.link.Ca!==b.e.ha&&(d=a.b[b.e.b].a[e.La],d.links.splice(e.index,1,e.link));break;case 700:c=a.A(b.e.b,b.e.c,b.e.index).Q;a.A(b.e.b,b.e.c,b.e.index).Q=b.e.a.Q;b.e.a.Q=c;break;case 400:this.h.w.save();a.b[b.e.b].Tf(b.e.index);break;case 600:this.h.w.save();a.b[b.e.b].a.splice(a.b[b.e.b].a.length-b.e.a.a.length,b.e.a.a.length);a.ne(b.e.a,b.e.index);break;case 800:c=
a.ma(b.e.b,b.e.c).Q;a.ma(b.e.b,b.e.c).Q=b.e.a.Q;b.e.a.Q=c;break;case 100:f=a.A(b.e.b,b.e.c,b.e.index).k;var k=a.A(b.e.b,b.e.c,b.e.index).m,m=a.A(b.e.b,b.e.c,b.e.index).P,h=a.A(b.e.b,b.e.c,b.e.index).kb,u=a.A(b.e.b,b.e.c,b.e.index).ab;a.A(b.e.b,b.e.c,b.e.index).rd(b.e.a.k,b.e.a.m);a.A(b.e.b,b.e.c,b.e.index).P=b.e.a.P;a.A(b.e.b,b.e.c,b.e.index).kb=b.e.a.kb;a.A(b.e.b,b.e.c,b.e.index).ab=b.e.a.ab;b.e.a.k=f;b.e.a.m=k;b.e.a.P=m;b.e.a.kb=h;b.e.a.ab=u;if(e=b.e.Da)for(c=0;c<e.length;++c)d=e[c],f=a.A(d.b,d.c,
d.a).k,k=a.A(d.b,d.c,d.a).m,m=a.A(d.b,d.c,d.a).P,h=a.A(d.b,d.c,d.a).kb,u=a.A(d.b,d.c,d.a).ab,a.A(d.b,d.c,d.a).rd(d.l.k,d.l.m),a.A(d.b,d.c,d.a).P=d.l.P,a.A(d.b,d.c,d.a).kb=d.l.kb,a.A(d.b,d.c,d.a).ab=d.l.ab,d.l.k=f,d.l.m=k,d.l.P=m,d.l.kb=h,d.l.ab=u;void 0===b.e.c&&a.b[b.e.b].Ec();break;case 200:c=J(a.ma(b.e.b,b.e.c));a.b[b.e.b].Tf(b.e.index);a.ne(b.e.a,b.e.index);b.e.a=c;break;case 900:a.b[b.e.Ua].Fb(b.e.ad,b.e.ib);c=J(b.e.a);c.gb=void 0==b.e.Na?-1:b.e.fa;a.Nb(c,b.e.index);if(b.e.Eb)if(f=b.e.Eb.length,
void 0!==b.e.Na)for(c=0;c<f;++c)e=b.e.Eb[c],d=a.b[b.e.Ja].c[b.e.Na].a[e.La],d.links.splice(e.index,0,e.link);else for(c=0;c<f;++c)e=b.e.Eb[c],d=a.b[b.e.Ja].a[e.La],d.links.splice(e.index,0,e.link);break;case 905:e=b.e.group;if("MtoF"===b.e.type){d=a.b[b.e.Ua].c[b.e.Na];for(c=0;c<e.length;++c)e[c].I.gb=b.e.Xf,a.b[b.e.Ja].c[b.e.Na].Nb(e[c].I,e[c].index);a.b[b.e.Ua].a.splice(a.b[b.e.Ua].a.length-e.length,e.length);d.rb();a.b[b.e.Ua].Ec()}if("MtoM"===b.e.type){d=a.b[b.e.Ua].c[b.e.ib];for(c=0;c<e.length;++c)e[c].I.gb=
b.e.Xf,a.b[b.e.Ja].c[b.e.Na].Nb(e[c].I,e[c].index);a.b[b.e.Ua].c[b.e.ib].a.splice(d.a.length-e.length,e.length);d.rb();a.b[b.e.Ua].c[b.e.ib].rb();a.b[b.e.Ua].Ec()}if("FtoM"===b.e.type){d=a.b[b.e.Ua].c[b.e.ib];for(c=0;c<e.length;++c)e[c].I.gb=-1,a.Nb(e[c].I,e[c].index);a.b[b.e.Ua].c[b.e.ib].a.splice(d.a.length-e.length,e.length);d.rb();a.b[b.e.Ua].Ec()}break;case 910:c=a.A(b.e.b,b.e.c,b.e.index).o;a.A(b.e.b,b.e.c,b.e.index).o=b.e.a.o;b.e.a.o=c;break;case 920:c=a.ma(b.e.b,b.e.c).o;a.ma(b.e.b,b.e.c).o=
b.e.a.o;b.e.a.o=c;break;case 950:d=a.A(b.e.b,b.e.c,b.e.a);d.links.splice(b.e.Hf,1);break;case 955:d=a.A(b.e.b,b.e.c,b.e.a);d.links.splice(b.e.Hf,0,b.e.link);break;case 960:if(g=b.e.af?a.ma(b.e.b,b.e.c):a.A(b.e.b,b.e.c,b.e.index))g.$a=J(b.e.wh)}this.Ag(this.La,!0,void 0,g);this.h.ya();this.h.Cb();this.h.Te=!0;this.h.kj();--this.La}this.$d()},$i:function(){this.h.g.enable&&this.h.g.cancel(!0);this.h.Bb().gd();if(this.h&&this.Ma.length&&this.La!==this.Ma.length-1){++this.La;var a=this.h.f,b=this.Ma[this.La],
c,d,e,f;e=null;var g;switch(b.id){case 300:this.h.w.save();a.Nb(b.e.a,b.e.index);break;case 500:this.h.w.save();f=b.e.Eb.length;if(void 0!==b.e.c)for(c=0;c<f;++c)e=b.e.Eb[c],e.link.Ca!==b.e.ha&&(d=a.b[b.e.b].c[b.e.c].a[e.La],d.links.splice(e.index,1));else for(c=0;c<f;++c)e=b.e.Eb[c],e.link.Ca!==b.e.ha&&(d=a.b[b.e.b].a[e.La],d.links.splice(e.index,1));a.b[b.e.b].Fb(b.e.index,b.e.c);break;case 400:this.h.w.save();a.ne(b.e.a,b.e.index);break;case 600:this.h.w.save();d=a.b[b.e.b].a;for(c=0;c<b.e.a.a.length;++c)d.push(b.e.a.a[c]),
d.Zc().gb=-1;a.b[b.e.b].Tf(b.e.index);break;case 700:c=a.A(b.e.b,b.e.c,b.e.index).Q;a.A(b.e.b,b.e.c,b.e.index).Q=b.e.a.Q;b.e.a.Q=c;break;case 800:c=a.ma(b.e.b,b.e.c).Q;a.ma(b.e.b,b.e.c).Q=b.e.a.Q;b.e.a.Q=c;break;case 100:f=a.A(b.e.b,b.e.c,b.e.index).k;var k=a.A(b.e.b,b.e.c,b.e.index).m,m=a.A(b.e.b,b.e.c,b.e.index).P,h=a.A(b.e.b,b.e.c,b.e.index).kb,u=a.A(b.e.b,b.e.c,b.e.index).ab;a.A(b.e.b,b.e.c,b.e.index).rd(b.e.a.k,b.e.a.m);a.A(b.e.b,b.e.c,b.e.index).P=b.e.a.P;a.A(b.e.b,b.e.c,b.e.index).kb=b.e.a.kb;
a.A(b.e.b,b.e.c,b.e.index).ab=b.e.a.ab;b.e.a.k=f;b.e.a.m=k;b.e.a.P=m;b.e.a.kb=h;b.e.a.ab=u;if(e=b.e.Da)for(c=0;c<e.length;++c)d=e[c],f=a.A(d.b,d.c,d.a).k,k=a.A(d.b,d.c,d.a).m,m=a.A(d.b,d.c,d.a).P,h=a.A(d.b,d.c,d.a).kb,u=a.A(d.b,d.c,d.a).ab,a.A(d.b,d.c,d.a).rd(d.l.k,d.l.m),a.A(d.b,d.c,d.a).P=d.l.P,a.A(d.b,d.c,d.a).kb=d.l.kb,a.A(d.b,d.c,d.a).ab=d.l.ab,d.l.k=f,d.l.m=k,d.l.P=m,d.l.kb=h,d.l.ab=u;void 0===b.e.c&&a.b[b.e.b].Ec();break;case 200:c=J(a.ma(b.e.b,b.e.c));a.b[b.e.b].Tf(b.e.index);a.ne(b.e.a,b.e.index);
b.e.a=c;break;case 900:if(b.e.Eb)if(f=b.e.Eb.length,void 0!==b.e.Na)for(c=0;c<f;++c)e=b.e.Eb[c],d=a.b[b.e.Ja].c[b.e.Na].a[e.La],d.links.splice(e.index,1);else for(c=0;c<f;++c)e=b.e.Eb[c],d=a.b[b.e.Ja].a[e.La],d.links.splice(e.index,1);c=b.e.index;void 0===b.e.Na&&void 0===b.e.ib?c=b.e.ad:void 0===b.e.Na&&void 0!==b.e.ib&&(c=b.e.ad);a.b[b.e.Ua].Fb(b.e.index,b.e.Na);d=J(b.e.a);void 0==b.e.Na?(d.gb=void 0===b.e.od?-1:b.e.od,a.Nb(d,c)):(d.gb=b.e.od?b.e.od:-1,a.Nb(d,b.e.ad));break;case 905:d=b.e.group;
if("MtoF"===b.e.type){for(c=0;c<d.length;++c)d[c].I.gb=-1,a.b[b.e.Ja].be(d[c].I,!0);for(c=d.length-1;0<=c;--c)a.b[b.e.Ja].c[b.e.Na].Fb(d[c].index);a.b[b.e.Ja].c[b.e.Na].rb();a.b[b.e.Ja].Ec()}if("MtoM"===b.e.type){for(c=0;c<d.length;++c)d[c].I.gb=b.e.se,a.b[b.e.Ua].c[b.e.ib].a.push(d[c].I);for(c=d.length-1;0<=c;--c)a.b[b.e.Ja].c[b.e.Na].Fb(d[c].index);a.b[b.e.Ja].c[b.e.Na].rb();a.b[b.e.Ua].c[b.e.ib].rb()}if("FtoM"===b.e.type){e=a.b[b.e.Ua].c[b.e.ib];for(c=0;c<d.length;++c)d[c].I.gb=b.e.se,a.b[b.e.Ua].c[b.e.ib].a.push(d[c].I);
for(c=d.length-1;0<=c;--c)a.b[b.e.Ja].Fb(d[c].index);e.rb();a.b[b.e.Ja].Ec()}break;case 910:c=a.A(b.e.b,b.e.c,b.e.index).o;a.A(b.e.b,b.e.c,b.e.index).o=b.e.a.o;b.e.a.o=c;break;case 920:c=a.ma(b.e.b,b.e.c).o;a.ma(b.e.b,b.e.c).o=b.e.a.o;b.e.a.o=c;break;case 950:d=a.A(b.e.b,b.e.c,b.e.a);b.e.link.dependenceTaskId=a.A(b.e.fh.b,b.e.fh.c,b.e.fh.a).q;b.e.link.parentTaskId=a.A(b.e.yh.b,b.e.yh.c,b.e.yh.a).q;d.links.push(b.e.link);break;case 955:d=a.A(b.e.b,b.e.c,b.e.a);d.links.splice(b.e.Hf,1);break;case 960:if(g=
b.e.af?a.ma(b.e.b,b.e.c):a.A(b.e.b,b.e.c,b.e.index))g.$a=J(b.e.vh)}this.Ag(this.La,void 0,void 0,g);this.h.ya();this.h.Cb();this.h.Te=!0;this.h.kj()}this.$d()},nj:function(){this.Ma.length&&(1>this.La&&(this.Ma=[]),this.Ma.splice(this.La,this.Ma.length-this.La))},$d:function(){this.h.J.UndoRedoUI&&(this.Ma.length&&this.Ma.Zc().e.Nc?this.Ma.Zc().e.Nc=void 0:this.h.J.UndoRedoUI(-1<this.La&&this.La<this.Ma.length&&0<this.Ma.length,1<this.Ma.length-this.La&&0<this.Ma.length))}};oa.prototype={zc:function(a,
b){var c=this;this.Fc=a;this.p=b;a instanceof HTMLCanvasElement||(this.Oc=document.createElement("canvas"),this.Oc.id="ZoomBarId",this.Oc.width=this.Fc.clientWidth,this.Oc.height=this.Fc.clientHeight,this.Fc.style.backgroundColor="#ffffff",this.Fc.appendChild(this.Oc));this.Oc&&(this.d=this.Oc.getContext("2d"),this.r=this.d.canvas.width,this.U=this.d.canvas.height,this.Xc=this.d.canvas.getBoundingClientRect(),this.Fc.onmousemove=function(a){c.onmousemove(a)},this.Fc.onmousedown=function(a){c.onmousedown(a)},
this.Fc.onmouseup=function(a){c.onmouseup(a)},this.Fc.ondblclick=function(a){c.ondblclick(a)},this.Fc.oncontextmenu=aa(!1),"onwheel"in this.Fc?this.Fc.addEventListener("wheel",function(a){c.onmousewheel(a)},!1):"onmousewheel"in document?this.Fc.addEventListener("mousewheel",function(a){c.onmousewheel(a)},!1):this.Fc.addEventListener("MozMousePixelScroll",function(a){c.onmousewheel(a)},!1),this.i=b.i,this.$=!0,this.Ga=new Date,this.Ga.setHours(0),this.Ga.setMilliseconds(0),this.Ga.setMinutes(0),this.Ga.setSeconds(0),
this.ic=new Date(this.Ga.getTime()+31104E6),this.Sb=new Date(this.Ga.getTime()-31104E6),this.ic.setUTCDate(0),this.ic.setHours(0),this.ic.setMilliseconds(0),this.ic.setMinutes(0),this.ic.setSeconds(0),this.Sb.setUTCDate(0),this.Sb.setHours(0),this.Sb.setMilliseconds(0),this.Sb.setMinutes(0),this.Sb.setSeconds(1),this.aj=new Date(this.ic.getTime()-1),this.Qi=new Date(this.Sb.getTime()),this.Ig=this.duration=0,this.Xa=!1,this.ba={x:0,y:0},this.ef={x:0,y:0},this.anchor=this.Kc=0,this.Qa={eb:0,end:0,
vf:0},this.Qd=4,this.we=0.5*(this.Qd+2),this.hj=this.rc=this.qc=this.Eg=this.tg=this.gi=this.button=0)},dk:W("Fc"),canvas:W("Oc"),uh:function(){this.Cc=!0},Uf:function(){this.$&&this.d&&(this.Xc=this.d.canvas.getBoundingClientRect(),this.r=this.d.canvas.width,this.U=this.d.canvas.height,this.Vg(),this.Cc&&(this.Cc=!1,this.d.clearRect(0,0,this.r,this.U),this.d.fillStyle=20!==this.qc?"#E2E2E2":"#CCCCCC",this.d.fillRect(this.rc+0.5,2,this.qc,this.U-4),20!==this.qc&&(this.d.fillStyle="#CCCCCC",this.d.fillRect(this.rc+
0.5-1,2,1,this.U-4),this.d.fillRect(Math.floor(this.rc+this.qc),2,1,this.U-4),this.d.beginPath(),this.d.moveTo(this.rc+0.5,0.5*this.U-this.Qd),this.d.lineTo(this.rc-this.Qd-0.5,0.5*this.U),this.d.lineTo(this.rc+0.5,0.5*this.U+this.Qd),this.d.closePath(),this.d.fill(),this.d.beginPath(),this.d.moveTo(Math.floor(this.rc+this.qc),0.5*this.U-this.Qd),this.d.lineTo(Math.floor(this.rc+this.qc+this.Qd+1),0.5*this.U),this.d.lineTo(Math.floor(this.rc+this.qc),0.5*this.U+this.Qd),this.d.closePath(),this.d.fill()),
this.ll(),this.d.fillStyle="#6699FF",this.d.fillRect(this.Zj,0,1,this.U),this.kl()))},kl:function(){function a(a){var c="",d=a.getDate(),e=a.getMonth()+1,c=10>d?c+("0"+d):c+d;return c=(10>e?c+(".0"+e):c+("."+e))+("."+String(a.getUTCFullYear()).substring(2,4))}this.d.fillStyle="#999999";this.d.fillText(a(this.Qi),5,0.6*this.U);this.d.fillText(a(this.aj),this.r-50,0.6*this.U)},ll:function(){var a,b,c,d,e=!0,f=!1,g,k=this.p.f.b,m=k.length;if(m){a=this.cd();var h=a*this.Nd+this.we,u=this.U-this.Qd,q=
a/this.duration;this.d.lineWidth=1;this.d.strokeStyle="#E2E2E2";for(b=0;b<m;++b)for(g=k[b].c.length,a=0;a<g;++a)c=(q*k[b].c[a].m+h>>0)+0.5,d=0>=k[b].c[a].m?va:"#7e7e7e",1===k[b].c[a].o&&(d=ga),d!==this.d.strokeStyle&&(f=!0,0<a&&this.d.stroke(),this.d.beginPath(),this.d.strokeStyle=d),e&&(this.d.beginPath(),this.d.strokeStyle=d,e=!1),this.d.moveTo(c,this.Qd),this.d.lineTo(c,u);f&&this.d.stroke()}},releaseCapture:function(){this.Xa=!1;this.Kc=0},vl:function(a){if(a){var b=this.Ga.getTime()+Math.abs(36E5*
a)+54432E5;a=this.Ga.getTime()-Math.abs(36E5*a)-54432E5;if(b>this.ic.getTime()||a<this.Sb.getTime())this.Sb=new Date(a),this.ic=new Date(b),this.ic.setUTCDate(0),this.ic.setHours(0),this.ic.setMilliseconds(0),this.ic.setMinutes(0),this.ic.setSeconds(0),this.Sb.setUTCDate(0),this.Sb.setHours(0),this.Sb.setMilliseconds(0),this.Sb.setMinutes(0),this.Sb.setSeconds(1),this.aj=new Date(this.ic.getTime()-1),this.Qi=new Date(this.Sb.getTime())}this.Cc=!0},Vg:function(){var a=this.p;this.duration=(this.ic.getTime()-
this.Sb.getTime())/36E5;this.Ig=(this.Ga.getTime()-this.Sb.getTime())/36E5;this.Nd=(this.Ga.getTime()-this.Sb.getTime())/36E5/this.duration;var b=this.cd(),c=this.i.R/this.i.B,d=(a.r-a.da)/c,a=a.da/c;this.Zj=Math.floor(Math.abs(this.Ig/this.duration*b)+this.we);this.Qa.eb=(this.Ig-this.i.Uc*this.i.B+a)/this.duration;this.Qa.end=(this.Ig-this.i.Uc*this.i.B+d+a)/this.duration;this.Qa.vf=d/this.duration;this.tg=this.Qa.eb*b+this.we;this.Eg=this.Qa.end*b+this.we;this.Gf=Math.floor(this.tg);this.Ah=Math.floor(this.Eg);
this.eg=Math.floor(this.Qa.vf*b);this.qc=this.Eg-this.tg;this.rc=Math.floor(this.Gf)+0.5;this.hj=0.5*(this.Eg+this.tg);20>=this.qc&&(this.qc=20,this.rc=Math.floor(this.hj-0.5*this.qc)+0.5,d=0.5*(this.Qa.end+this.Qa.eb),d=0.5+(d-0.5)*(1+(this.Qa.end-this.Qa.eb)),this.rc=(b-this.qc)*d+this.we)},mj:function(a,b){return{x:a-this.Xc.left*(this.r/this.Xc.width),y:b-this.Xc.top*(this.U/this.Xc.height)}},Mi:function(a){this.ba=this.mj(a.clientX,a.clientY);return 20===this.qc?this.ba.x>this.rc&&this.ba.x<
this.rc+this.qc:this.ba.x>=this.Gf&&this.ba.x<=this.Ah},Yh:function(a){this.ba=this.mj(a.clientX,a.clientY);20===this.qc?this.ba.x>this.rc&&this.ba.x<this.rc+this.qc&&(this.Kc=0):this.Kc=7>Math.abs(this.ba.x-this.Gf)?-1:7>Math.abs(this.ba.x-this.Ah)?1:0;return this.Kc},cd:function(){return this.r-2*this.we},cl:function(){var a,b,c,d,e=0,f=this.p,g=f.f.b,k=g.length;if(!k)return!1;var m=this.cd(),h=this.duration*this.Nd/this.duration*m+this.we,u=m/this.duration,m=f.j;for(b=0;b<k;++b)if(!g[b].kd()){d=
g[b].c.length;for(a=0;a<d;++a){c=(u*g[b].c[a].m+h>>0)+0.5-this.ba.x;if(5>M(c))return f.ja.Lc(g[b].c[a].m),0===a&&0===b&&(e=1E-4),g=(f.w.md()/m>>0)*m,f.Y||(e=(e/m>>0)*m-1E-4),f.ja.Ib(Math.min(e,g-1E-4)),f.ya(),f.Cb(),this.Cc=!0;e+=m+g[b].c[a].a.length*m;0===g[b].c[a].a.length&&f.Y&&(e+=f.j)}g[b].a.length&&(e+=g[b].a.length*m+f.G)}return!1},cf:function(){var a=this.p,b=a.i.R/a.i.B;return((this.eg/this.cd()-1+this.Nd)*this.duration+a.da/b)*b/this.i.R},df:function(){var a=this.p,b=a.i.R/a.i.B;return(this.Nd*
this.duration+a.da/b)*b/this.i.R},onmousedown:function(a){this.Kc=0;this.button=a.button;if(this.Mi(a)||0!==this.Yh(a))this.Xa=!0,this.ef.x=this.ba.x,this.Vg(),this.anchor=this.ba.x-this.Gf;this.gi=this.Kc},onmousemove:function(a){if(2!==this.button){var b=this.p,c=this.Mi(a),d=this.cd(),e,f;f=this.duration;var g=this.Nd,k=e=0;0!==b.f.b.length&&(b.wd.onmouseup(a),b.w.onmouseup(a),this.Xa?(a=b.i.R/b.i.B,c=b.da/a,0===this.Kc?(b.ja.stop(),e=(this.ba.x-this.anchor)/d,e=0.5-((-g+0.5)*(g-e)/g+0.5*e/g),
f=Math.max(Math.min(e,g)*f,(this.eg/d-1+g)*f)+c,b.offsetX=f*a/this.i.R,b.bg(),this.Oc.style.cursor="pointer",this.Cc=!0):-1===this.Kc?(b.ja.stop(),d=this.ba.x/d,0<this.Qa.end-d&&(d=this.Qa.end-d,a=d/this.Qa.vf,d=d+g-this.Qa.end,c=b.i.B,b.i.B*=a,d>=g?(b.B=c,b.update()):(28>=b.i.B&&(a*=28/b.i.B,b.i.B=28),270<=b.i.B&&(a*=270/b.i.B,b.i.B=270),d=this.Qa.vf*a,d=g-(this.Qa.end-d),a=b.i.R/b.i.B,c=b.da/a,b.offsetX=(d*f+c)*a/b.i.R,b.bg()),b.Gd.yf()),this.Oc.style.cursor="w-resize"):1===this.Kc&&(b.ja.stop(),
d=this.ba.x/d,0<d-this.Qa.eb&&(d-=this.Qa.eb,a=d/this.Qa.vf,d=g-this.Qa.eb,c=b.i.B,b.i.B*=a,29>b.i.B||270<b.i.B||d>=g?(b.i.B=c,b.update()):(a=b.i.R/b.i.B,c=b.da/a,b.offsetX=(d*f+c)*a/b.i.R,b.bg()),b.Gd.yf()),this.Oc.style.cursor="w-resize"),e=(b.w.md()/b.j>>0)*b.j,k=b.Ji().height-b.j*!b.Y,b.Y||(k=(k/b.j>>0)*b.j-1E-4),b.vc>=b.U-2*b.j&&(b.ja.Ib(Math.min(k,e-1E-4)),b.ya(),b.Cb()),this.Cc=!0):c?this.Oc.style.cursor="pointer":this.Yh(a)?this.Oc.style.cursor="w-resize":this.Oc.style.cursor="")}},onmouseup:function(){if(0!==
this.p.f.b.length){var a=this.p,b,c,d,e;this.releaseCapture();2===this.button?(this.cl(),this.button=0):a&&(b=this.cd(),c=this.duration,e=this.Nd,d=0.5*this.eg/b,0===this.gi&&(-7>this.ba.x-this.Gf||7<this.ba.x-this.Ah)&&(b=this.ba.x/b,b=0.5-((0.5-e)*(e-b)/e+0.5*b/e),c=Math.max(Math.min(b,e-d)*c,(e-1+d)*c),a.ja.stop(),a.ja.Lc(-c),a.bg(),this.Cc=!0))}},ondblclick:G(),onmousewheel:function(a){if(0!==this.p.f.b.length){a=a||y.event;var b=a.deltaY||a.detail||a.wheelDelta;a.deltaY&&(b*=-1);a.detail&&(b*=
-1);a=this.p.i.B;0<b?(a-=24,28>a&&28<this.p.i.B?this.p.lc().Ud(28):this.p.lc().Ud(Math.min(Math.max(a,28),270))):(a+=24,28>this.p.i.B?this.p.lc().Ud(28):this.p.lc().Ud(Math.min(Math.min(a,500),270)));this.Cc=!0}}};Ea.prototype={nf:function(){this.font=this.Md+"pt "+K},Db:function(a){this.Uc=a;this.$h()},height:function(){return 2*this.p.j},lj:function(){if(3===this.Kb)return null;var a=(new Date).getDay();--a;-1===a&&(a=6);return{x:24*(6-a-1)*this.R/this.B,width:48*this.R/this.B,hc:168*this.R/this.B}},
update:G(),Dh:function(a){this.zoom=Math.max(0.1,a);this.Fh=15*this.zoom;this.R=35*this.zoom;this.Md=9*this.zoom;this.font=this.Md+"pt "+K;this.ld=this.p.j;this.Od=0.55*this.ld;this.Wc=1.65*this.ld},refresh:function(){this.r=this.d.canvas.width;this.U=this.d.canvas.height;var a=new Date;this.tc=a.getDay();--this.tc;-1===this.tc&&(this.tc=6);this.zd=a.getUTCDate();this.pc=a.getMonth();this.cc=a.getFullYear();this.$h()},te:function(){this.d.strokeStyle="#CCCCCC";this.d.lineWidth=1;this.d.fillStyle=
"#999999";this.d.font=this.font;this.d.beginPath();2===this.Kb?this.Dk():1===this.Kb?this.mk():0===this.Kb?this.qk():3===this.Kb&&this.yk();this.d.closePath();this.d.stroke()},qk:function(){var a,b,c,d,e,f,g=!1,k=this.r,m=this.R/this.B*this.fb,h=this.r/m+2*this.fb,u=this.Uc*this.B/this.fb,q=this.xc(this.pc+1,this.cc),l=this.zd,s=this.R*this.Uc/m>>0;d=this.pc;e=this.cc;b=0;a=this.tc;for(c=0;b<h-s;++b,c+=this.fb){f=(b+u)*m;if(f>k+100)break;24<=c&&(c=0,++a,6<a&&(a=0),g=!0,l++,l>=q+1&&(d++,12<=d&&(d=
0,e++),l-=q,q=this.xc(d+1,e)));f<-m||(g&&(this.d.moveTo(f+0.5,2+this.wg),this.d.lineTo(f+0.5,this.Fh+2+this.wg),g=!1),this.d.fillText(c,f+0.5+2,1.7*this.Fh+2+this.wg))}},mk:function(){var a,b,c,d,e,f,g=!1,k=this.r,m=this.R/this.B*this.fb,h=k/m,u=this.Uc*this.B/this.fb,q=this.R*this.Uc/m>>0,l=this.xc(this.pc+1,this.cc),s=this.zd;e=-m*this.xb;var r=Math.floor(h-q)+this.xb,n=9<=this.xb?y.Gantt.Teamlab_shortmonths:y.Gantt.Teamlab_months,F=340<this.B,p=0.5*(m-this.d.measureText("0").width);f=0.5*(m-this.d.measureText("10").width);
var v=!0;if(1===this.xb){a=0;b=this.pc+1;c=this.cc;for(e=this.tc;a<h-q;++a,++s,++e)d=(a+u)*m,s>l&&(s=1,b++,12<b&&(b=1,++c),l=this.xc(b,c)),6<e&&(e=0),d<3*-m||(this.d.fillStyle=5==e||6==e?"#FFC78F":"#999999",1===s&&(this.d.fillStyle="#D9D9D9",this.d.fillRect(d>>0,0,1,this.p.j),this.d.fillStyle="#999999",this.d.fillText(n[b-1]+" "+c,d+0.25*this.ld,this.Od)),this.d.fillText(s,d+(10<=s?f:p),this.Wc));s=this.zd;a=0;b=this.pc+1;c=this.cc;for(e=this.tc;a>=-q-h;--a,--s,--e)d=(a+u)*m,1>s&&(--b,1>b&&(b=12,
--c),s=this.xc(b,c)),0>e&&(e=6),d<3*-m||d>k||(this.d.fillStyle=5==e||6==e?"#FFC78F":"#999999",1===s&&(this.d.fillStyle="#D9D9D9",this.d.fillRect(d>>0,0,1,this.p.j),this.d.fillStyle="#999999",this.d.fillText(n[b-1]+" "+c,d+0.25*this.ld,this.Od)),v&&0===a&&(this.d.fillStyle="#666666",this.d.font="bold "+this.Md+"pt "+K),this.d.fillText(s,d+(10<=s?f:p),this.Wc),v&&(v=!1,0===a&&(this.d.font=this.font)))}else{l=this.xc(this.pc+1,this.cc);s=this.zd;a=0;b=this.pc;for(c=this.cc;a<r;++a,s+=this.xb){d=(a+u)*
m;if(d>k+100)break;s>=l&&(g=!0,b++,12<=b&&(b=0,++c),s-=l,l=this.xc(b+1,c));d<-m||(g&&(this.d.fillStyle="#D9D9D9",this.d.fillRect(d>>0,0,1,this.p.j),this.d.fillStyle="#999999",f=F?c%100:c,1===f.length&&(f="0"+f),this.d.fillText(n[b]+" "+f,d+0.25*this.ld,this.Od),g=!1),0===s&&++s,this.d.fillText(s,d+0.5+2-p*(10<s?0.75:1),this.Wc))}s=this.zd;a=0;b=this.pc+1;for(c=this.cc;a>=-q-h;--a,s-=this.xb){d=(a+u)*m;if(d<e)break;1>s&&(g=!0,--b,0>b&&(b=11,--c),l=this.xc(b+1,c),s+=l);d>k||(g&&(this.d.fillStyle="#D9D9D9",
this.d.fillRect(d>>0,0,1,this.p.j),this.d.fillStyle="#999999",f=F?c%100:c,1===f.length&&(f="0"+f),this.d.fillText(n[b]+" "+f,d+0.25*this.ld,this.Od),g=!1),0===s&&++s,this.d.fillText(s,d+0.5+2-p*(10<s?0.75:1),this.Wc))}}},Dk:function(){var a,b,c,d,e,f=!1,g=0,k=this.r,m=this.R/this.B*this.fb,h=k/m,u=this.Uc*this.B/this.fb,q=this.R*this.Uc/m>>0,l=this.xc(this.pc+1,this.cc),s=this.zd-this.tc;e=this.Fi(new Date);var r=this.oh(this.cc),n=-m*this.xb,F=Math.floor(h-q)+this.xb,p=y.Gantt.Teamlab_shortmonths,
v=y.Gantt.Localize_strings.week||"week",z=0.5*(m-this.d.measureText(v+" ").width),t=0.5*(m-this.d.measureText(v+" 10").width),w=this.Ki(new Date),B=m/this.xb;a=0;b=this.pc;for(c=this.cc;a<F;++a,s+=this.xb,e+=this.xb){d=(a+u)*m;if(d>k+2*m)break;0<=e-r&&(e=new Date("31 Dec "+c),e=e.getDay(),r=this.oh(c+1),w=1);s>=l&&(f=!0,b++,12<=b&&(b=0,++c),s-=l,l=this.xc(b+1,c),g=d+(1-s-this.tc)*B);d<2*-m||(f&&(this.d.fillStyle="#D9D9D9",this.d.fillRect(g>>0,0,1,this.p.j),this.d.fillStyle="#999999",this.d.fillText(p[b]+
" "+c,g+0.5*this.ld,this.Od),f=!1),10<=w?this.d.fillText(v+" "+w,d+t+m-this.tc*B,this.Wc):this.d.fillText(v+" "+w,d+z+m-this.tc*B,this.Wc));++w}F=!0;w=this.Ki(new Date)-1;s=this.zd-this.tc;e=this.Fi(new Date)+1;this.oh(this.cc);a=0;b=this.pc+1;for(c=this.cc;a>=-q-h;--a,s-=this.xb,e+=this.xb){d=(a+u)*m;if(d<n)break;0>=w&&(w=this.Mk(c-1));0>s&&(f=!0,--b,0>b&&(b=11,--c),l=this.xc(b+1,c),s+=l,g=d+(l-s-this.tc+1+b%2)*B);d>k?--w:(f&&(this.d.fillStyle="#D9D9D9",this.d.fillRect(g>>0,0,1,this.p.j),this.d.fillStyle=
"#999999",this.d.fillText(p[b]+" "+c,g+0.5*this.ld,this.Od),f=!1),F?F=!1:(10<=w?this.d.fillText(v+" "+w,d+t+m-this.tc*B,this.Wc):this.d.fillText(v+" "+w,d+z+m-this.tc*B,this.Wc),--w))}},yk:function(){for(var a=0,b=0,c=0,d=0,d="",e=this.p.j,f=!1,g=!1,k=0,m=this.r,h=this.R/this.B*this.fb,u=m/h,q=this.Uc*this.B/this.fb,l=this.R*this.Uc/h>>0,s=this.xc(this.pc+1,this.cc),r=this.zd,n=Math.floor(u-l)+32,t=9<=this.xb?y.Gantt.Teamlab_shortmonths:y.Gantt.Teamlab_months,p=y.Gantt.Localize_strings.year||"year",
v=340<this.B,z=48*h,D=0,w=q*h+-r*h,B=void 0,x=!0,a=0,b=this.pc,c=this.cc;a<=n;++a,r+=this.xb,++D){d=(a+q)*h;if(d>m+z)break;r>=s&&(f=!0,k=w,b++,12<=b&&(b=0,++c,g=!0),r-=s,s=this.xc(b+1,c),w=q*h+(D+1)*h,k=w-k);d<2*-h||!f||(this.d.fillStyle="#D9D9D9",this.d.fillRect(w>>0,e,1,this.U),d=v?c%100:c,1===d.length&&(d="0"+d),d=t[b]+" "+d,this.d.fillStyle="#999999",this.d.fillText(d,w+0.5*k-0.5*this.d.measureText(d).width,this.Wc),g&&(this.d.fillStyle="#D9D9D9",this.d.fillRect(w+k>>0,0,1,e),g=!1),6===b&&(d=
p+" "+c,this.d.fillStyle="#999999",this.d.fillText(d,w+0.5*k-0.5*this.d.measureText(d).width,this.Od)),void 0===B&&(B=w),f=!1)}r=this.zd;D=this.tc-1;w=(this.xc(this.pc,this.cc)+q)*h;a=0;b=this.pc+1;for(c=this.cc;a>=-l-u;--a,r-=this.xb,--D){d=(a+q)*h;if(d<-z)break;0>r&&(k=w,--b,0>b&&(b=11,--c,g=!0),s=this.xc(b+1,c),r+=s,f=!0,w=q*h+D*h+(b%2-1)*h,k-=w);d>m+z||!f||(this.d.fillStyle="#D9D9D9",this.d.fillRect(w>>0,e,1,this.U),d=v?c%100:c,1===d.length&&(d="0"+d),d=t[b]+" "+d,this.d.fillStyle="#999999",x?
(B&&this.d.fillText(d,0.5*(w+B)-0.5*this.d.measureText(d).width,this.Wc),x=!1):this.d.fillText(d,w+0.5*k-0.5*this.d.measureText(d).width,this.Wc),f=!1,g&&(this.d.fillStyle="#D9D9D9",this.d.fillRect(w+k>>0,0,1,e),g=!1),6===b&&(d=p+" "+c,this.d.fillStyle="#999999",this.d.fillText(d,w+0.5*k-0.5*this.d.measureText(d).width,this.Od)))}},vk:function(){if(3!==this.Kb){var a,b;a=(new Date).getDay();--a;-1===a&&(a=6);var c=this.R/this.B*this.fb,d=this.r/c+2;b=this.Uc*this.B/this.fb;var e=this.p.j+0.5,f=Math.floor(b),
g=b-f;this.Ql=b-f;this.d.strokeStyle="#D9D9D9";this.d.lineWidth=1;this.d.beginPath();if(2===this.Kb)for(f=c/7*a,a=0;a<d;++a)b=Math.floor((a+g)*c-f)+0.5,this.d.moveTo(b,e),this.d.lineTo(b,this.U);this.d.closePath();this.d.stroke()}},$h:function(){this.Kb=0;this.xb=7;this.fb=1;1.5<=this.B&&3>this.B?(this.Kb=0,this.fb=2):3<=this.B&&4>this.B?(this.Kb=0,this.fb=4):4<=this.B&&8>this.B?(this.Kb=0,this.fb=8):8<=this.B&&12>this.B?(this.Kb=0,this.fb=12):12<=this.B&&40>this.B?(this.Kb=1,this.fb=24,this.xb=1):
40<=this.B&&100>this.B?(this.Kb=2,this.fb=168,this.xb=7):100<=this.B&&275>this.B?(this.Kb=3,this.fb=24,this.xb=1):275<=this.B&&5E4>this.B&&(this.Kb=3,this.fb=168,this.xb=30)},xc:function(a,b){return 1>a||12<a?0:[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]][0!=b%4||0==b%100&&0!=b%400?0:1][a-1]},Ki:function(a){a.setHours(0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));return Math.ceil(((a-new Date(a.getFullYear(),0,1))/864E5+1)/7)},Fi:function(a){a.setHours(0);a.setMinutes(0);
a.setMilliseconds(0);var b=(new Date).setFullYear((new Date).getFullYear(),0,1);a.setHours(0);a.setMinutes(0);a.setMilliseconds(1);return Math.ceil((a.getTime()-b)/864E5)},oh:function(a){var b=(new Date).setFullYear(a,0,1);a=(new Date).setFullYear(a+1,0,1);return Math.ceil((a-b)/864E5)},Mk:function(a){a=new Date("31 Dec "+a);var b=new Date(a.getFullYear(),0,4);return Math.ceil(((a-b)/864E5+b.getDay()+1)/7)}};E.prototype={q:-1,Vc:-1,gb:-1,Q:"",Of:"",o:I,$a:[],Sh:0,links:[],k:null,m:null,le:!1,Mb:-1,
Ac:!1,Db:function(a){var b=this.m-this.k;this.k=a;this.m=a+b;this.fd()},Yd:function(a,b,c){a+24<this.m||this.P?(this.k=b&&this.P?Math.min(a,b-24):a,this.duration=this.m-this.k,0>this.duration&&this.ab&&(this.ab=!1,this.duration=24,this.m=this.k+this.duration)):(this.k=this.m-24,this.duration=this.m-this.k);c&&!this.P&&(this.kb=c,this.k+=24,this.duration=24,this.m=this.k+24);this.fd(c)},Tc:function(a,b){this.m=a-24>this.k?a:this.k+24;this.duration=this.m-this.k;b&&(this.kb=b);this.fd(b)},jj:function(a,
b){a.setHours(0);a.setMilliseconds(0);a.setMinutes(0);a.setSeconds(0);this.Yd((a.getTime()-E.yd)/36E5,void 0,b)},Lg:function(a,b){a.setHours(0);a.setMilliseconds(0);a.setMinutes(0);a.setSeconds(0);this.Tc((a.getTime()-E.yd)/36E5,b)},rd:function(a,b){this.k=a;this.m=b;this.duration=this.m-this.k;this.fd()},pe:function(a){void 0==E.Ga&&(E.Ga=new Date,E.Ga.setHours(0),E.Ga.setMilliseconds(0),E.Ga.setMinutes(0),E.Ga.setSeconds(0),E.yd=E.Ga.getTime());return(a.getTime()-E.Ga.getTime())/36E5},update:function(){this.Mb=
-1;this.nc=this.Xd=null},mh:function(a){this.zb.setHours(12);a=a?this.zb.eh():this.zb.Bf();this.zb.setHours(0);return a},pg:function(a){if(this.P)return"...";this.bb.setHours(12);var b=new Date(this.bb);this.kb&&b.setDate(b.getDate()-1);a=a?b.eh():b.Bf();this.bb.setHours(0);return a},Lk:function(){this.zb.setHours(12);var a=this.zb.getUTCDate();10>a&&(a="0"+a.toString());var b=this.zb.getMonth()+1;10>b&&(b="0"+b.toString());this.zb.setHours(0);var c=a+"."+b+". - ";this.bb.setHours(12);a=this.bb.getUTCDate();
10>a&&(a="0"+a.toString());b=this.bb.getMonth()+1;10>b&&(b="0"+b.toString());this.bb.setHours(0);c+=a+"."+b+" ("+(this.m-this.k)/24;return c=2>(this.m-this.k)/24?c+(" "+y.Gantt.Localize_strings.day+")"):c+(" "+y.Gantt.Localize_strings.days+")")},ki:function(){return-Math.floor((this.m-24)/24)},Gi:function(a){for(var b,c=this.links.length-1;0<=c;--c)if(b=this.links[c].za||this.links[c].parentTaskId,b==a)return this.links[c]},fd:function(a){void 0==E.Ga&&(E.Ga=new Date,E.Ga.setHours(0),E.Ga.setMilliseconds(0),
E.Ga.setMinutes(0),E.Ga.setSeconds(0),E.yd=E.Ga.getTime());this.zb=new Date(E.yd+36E5*(this.k+12));this.bb=new Date(E.yd+36E5*this.m);this.zb.setHours(0);this.zb.setMilliseconds(0);this.zb.setMinutes(0);this.zb.setSeconds(0);this.bb.setHours(0);this.bb.setMilliseconds(0);this.bb.setMinutes(0);this.bb.setSeconds(0);a||(this.ab=this.kb=!1)},title:W("Q"),id:W("q"),xh:W("Vc"),vd:W("zb"),hd:function(){return this.kb?this.zb:this.bb},description:W("dc"),af:W("le"),status:W("o"),gj:W("Sh"),Dg:W("$a"),Xk:W("P"),
Wk:W("ab")};$.prototype={q:-1,Vc:-1,Q:"",Of:"",le:!0,k:null,m:null,a:[],dj:!1,Mb:-1,Jg:"",collapse:!1,add:function(a){this.a.push(a);this.k=Math.min(this.m-this.jh,Math.min(a.k,this.k));this.duration=this.m-this.k;a.P&&a.Tc(this.m);this.Mb=-1;this.fd()},Nb:function(a,b){a.gb=this.q;this.a.splice(b,0,a)},Fb:function(a){this.a.splice(a,1);this.rb()},update:function(){this.Mb=-1;this.nc=this.Xd=null;this.fd()},Db:function(a){var b=this.m-this.k;this.k=a;this.m=a+b;this.Mb=-1;this.fd()},Yd:G(),Tc:function(a){var b=
!1;if(a<this.m)for(var c=0;c<this.a.length;++c)if(t!==this.a[c].o&&this.m>=this.a[c].m&&a<=this.a[c].m){var d=this.a[c].duration,e=this.a[c].m,f=this.a[c].k;this.a[c].m=a;this.a[c].k=a-d;this.a[c].fd();if(e!==this.a[c].m||f!==this.a[c].k)b=!0}for(c=0;c<this.a.length;++c)this.a[c].P&&this.a[c].Tc(this.m);this.m=a;this.duration=this.m-this.k;this.rb();return b},Lg:function(a){a.setHours(0);a.setMilliseconds(0);a.setMinutes(0);a.setSeconds(0);this.Tc((a.getTime()-E.yd)/36E5)},pe:function(a){void 0==
E.Ga&&(E.Ga=new Date,E.Ga.setHours(0),E.Ga.setMilliseconds(0),E.Ga.setMinutes(0),E.Ga.setSeconds(0),E.yd=E.Ga.getTime());return(a.getTime()-E.Ga.getTime())/36E5},rb:function(){this.k=this.m;this.k=this.m-this.jh;for(var a=0;a<this.a.length;++a)this.k=Math.min(this.m-this.jh,Math.min(this.a[a].k,this.k));this.duration=this.m-this.k;for(var a=!1,b=0;b<this.a.length;++b)this.a[b].P&&this.a[b].Tc(this.m)&&(a=!0);this.Mb=-1;this.fd();return a},mh:function(){return this.zb.Bf()},pg:function(){this.bb.setHours(12);
var a=this.bb.Bf();this.bb.setHours(0);return a},ki:function(){return-Math.floor((this.m-24)/24)},fd:function(){void 0==E.Ga&&(E.Ga=new Date,E.Ga.setHours(0),E.Ga.setMilliseconds(0),E.Ga.setMinutes(0),E.Ga.setSeconds(0),E.yd=E.Ga.getTime());this.zb=new Date(E.yd+36E5*this.k);this.bb=new Date(E.yd+36E5*this.m);var a=this.bb.getMonth()+1;this.Jg=this.Q+" "+(9<this.bb.getDate()?this.bb.getDate():"0"+this.bb.getDate())+"."+(9<a?a:"0"+a)+"."+this.bb.getFullYear()%100},Mc:function(a){this.collapse=a;0===
this.a.length&&(this.collapse=!1)},title:W("Q"),id:W("q"),Cl:W("a"),xh:W("Vc"),vd:W("zb"),hd:W("bb"),description:W("dc"),af:W("le"),status:W("o"),Dg:W("$a")};qa.prototype={be:function(a){for(var b=0;b<this.c.length;++b)if(this.c[b].q==a.gb)return this.c[b].add(a),-1;this.a.push(a);this.Ec();return this.a.length},Nb:function(a,b){this.a.splice(b,0,a)},Ne:function(a){this.c.push(a);this.Ec()},ne:function(a,b){this.c.splice(b,0,a)},Tf:function(a){0<=a&&a<this.c.length&&this.c.splice(a,1)},Fb:function(a,
b){void 0===b?(0<=a&&a<this.a.length&&this.a.splice(a,1),this.Ec()):0<=b&&b<this.c.length&&this.c[b].Fb(a)},ma:function(a){return this.c[a]},kd:function(){return!(this.a.length||this.c.length)},refresh:G(),Ec:function(){if(this.a.length){this.P=!1;this.k=this.a[0].k;this.m=this.a[0].m;this.a[0].P&&(this.P=!0);for(var a=this.a.length-1;0<=a;--a)this.k=Math.min(this.a[a].k,this.k),this.m=Math.max(this.a[a].m,this.m),this.a[a].P&&(this.P=!0)}},Mc:function(a){this.collapse=a;this.$e()&&(this.collapse=
!0)},Wf:function(a){this.Rb=a;this.$e()&&(this.Rb=!0)},$e:function(){return 1===this.o||2===this.o},Ni:function(){return 1E3===this.o},title:W("Q"),id:W("q"),description:W("dc"),Dg:W("$a"),status:W("o")};Ga.prototype={Pg:function(a){this.Yi=Math.max(this.Yi,a.q);this.b.push(a);var b,c;for(c=0;c<this.c.length;++c)this.c[c].Vc==a.q&&(a.Ne(this.c[c]),this.c.splice(this.c.indexOf(c),1));for(b=0;b<this.a.length;++b)if(a.q===this.a[b].Vc){for(c=a.c.length-1;0<=c;--c)if(a.c[c].q===this.a[b].gb){a.c[c].add(this.a[b]);
a.refresh();return}this.b[b].add(this.a[b])}a.refresh()},Ne:function(a){this.Ri=Math.max(this.Ri,a.q);this.ie=this.ie?Math.min(a.k,this.ie):a.k;this.he=this.he?Math.max(a.m,this.he):a.m;for(b=0;b<this.a.length;++b)this.a[b].gb==a.q&&(a.add(this.a[b]),this.a.splice(this.a.indexOf(b),1));for(var b=this.b.length-1;0<=b;--b)if(this.b[b].q==a.Vc){this.b[b].Ne(a);this.b[b].refresh();return}this.c.push(a)},ne:function(a,b){for(var c=this.b.length-1;0<=c;--c)if(this.b[c].q==a.Vc)return this.b[c].c.splice(b,
0,a),!0;return!1},be:function(a){this.Eh=Math.max(this.Eh,a.q);this.ie=this.ie?Math.min(a.k,this.ie):a.k;this.he=this.he?Math.max(a.P?a.k:a.m,this.he):a.P?a.k:a.m;for(var b=this.b.length-1;0<=b;--b)if(this.b[b].q===a.Vc){for(var c=this.b[b].c.length-1;0<=c;--c)if(this.b[b].c[c].q===a.gb)return this.b[b].c[c].add(a),this.b[b].refresh(),!0;this.b[b].be(a);return!0}this.a.push(a);return!1},Nb:function(a,b){for(var c=this.b.length-1;0<=c;--c)if(this.b[c].q===a.Vc){if(-1===a.gb||void 0===a.gb)return this.b[c].a.splice(b,
0,a),!0;for(var d=this.b[c].c.length-1;0<=d;--d)if(this.b[c].c[d].q===a.gb)return this.b[c].c[d].a.splice(b,0,a),!0}return!1},clear:function(){this.b=[];this.c=[];this.a=[]},Ai:function(){return 0===this.b.length?void 0:this.b.Zc()},A:function(a,b,c){return a>=this.b.length?void 0:void 0===b?c>=this.b[a].a.length?void 0:this.b[a].a[c]:b>=this.b[a].c.length||c>=this.b[a].c[b].a.length?void 0:this.b[a].c[b].a[c]},ma:function(a,b){return this.b[a].c[b]},lb:function(a){return a>=this.b.length?void 0:
this.b[a]},Ok:function(a,b,c){return-1===a||-1===c?null:-1===b?this.b[a].a[c]:this.b[a].c[b].a[c]},Vb:function(a){var b,c,d;for(d=this.b.length-1;0<=d;--d){for(b=this.b[d].a.length-1;0<=b;--b)if(this.b[d].a[b].q===a)return{b:d,c:void 0,a:b,ha:this.b[d].a[b].q,fa:void 0,ga:this.b[d].q,l:this.b[d].a[b]};for(b=this.b[d].c.length-1;0<=b;--b)for(c=this.b[d].c[b].a.length-1;0<=c;--c)if(this.b[d].c[b].a[c].q===a)return{b:d,c:b,a:c,ha:this.b[d].c[b].a[c].q,fa:this.b[d].c[b].q,ga:this.b[d].q,l:this.b[d].c[b].a[c]}}},
Vi:function(a){var b,c;for(c=this.b.length-1;0<=c;--c)for(b=this.b[c].c.length-1;0<=b;--b)if(this.b[c].c[b].q===a)return{b:c,c:b,fa:a,ga:this.b[c].q,l:this.b[c].c[b]}},$c:function(a,b){return{b:this.b[a].q,c:this.b[a].c[b].q}},jc:function(a,b,c){return void 0===b?{b:this.b[a].q,a:this.b[a].a[c].q}:{b:this.b[a].q,c:this.b[a].c[b].q,a:this.b[a].c[b].a[c].q}},Ef:function(){return++this.Eh},Fl:function(a){var b,c,d=[];if(this.b.length){for(b=0;b<this.b[a].c.length;++b)for(c=0;c<this.b[a].c[b].a.length;++c)d.push(this.b[a].c[b].a[c].q);
b=this.b[a].a.length;for(c=0;c<b;++c)d.push(this.b[a].a[c].q)}return d},El:function(a){var b,c,d=[];if(this.b.length)for(c=this.b[a].c.length,b=0;b<c;++b)d.push(this.b[a].c[b].q);return d},Gh:function(a){return{tasks:this.Fl(a),milestones:this.El(a)}},Ug:function(){var a,b,c,d,e,f,g,k,m,h=0;b=0;var u,q;for(a=0;a<this.b.length;++a)if(e=this.b[a],e.Og){f=[];var l=[];d=this.b[a].Og.milestones;if(void 0!==d){if(d.length){k=d.length;for(b=0;b<k;++b)for(g=d[b],m=e.c.length,c=0;c<m;++c)if(e.c[c].id()===
g){f.push(e.c[c]);l.push(c);break}if(this.b[a].c.length>f.length)for(b=0;b<m;++b)-1==l.indexOf(b)&&f.push(e.c[b]);this.b[a].c=f}d=this.b[a].Og.tasks;if(d.length){m=e.c.length;for(c=0;c<m;++c)if(f=[],l=[],k=e.c[c].a.length){b=h+k;for(u=h;u<b;++u)for(g=d[u],q=0;q<k;++q)if(e.c[c].a[q].id()===g){f.push(e.c[c].a[q]);l.push(q);break}if(k>f.length)for(b=0;b<k;++b)-1==l.indexOf(b)&&f.push(e.c[c].a[b]);e.c[c].a=f;h+=k}f=[];l=[];if(k=e.a.length){b=h+k;for(u=h;u<b;++u)for(g=d[u],q=0;q<k;++q)if(e.a[q].id()===
g){f.push(e.a[q]);l.push(q);break}if(k>f.length)for(b=0;b<k;++b)-1==l.indexOf(b)&&f.push(e.a[b]);e.a=f}}}}}};ra.prototype={ae:function(a,b,c){var d=this.p;if(d){var e=d.f.$c(b,c),f=d.f.ma(b,c);this.top={id:a,b:b,c:c,a:void 0,na:e};switch(a){case "220":if(d.J[a])d.J[a](e.b,e.c,f);else this.jg(this.top);break;case "260":if(d.J[a])d.J[a](e.b,e.c,f);else this.hg(this.top)}}},Hc:function(a,b,c,d){var e=this.p;if(e){var f,g;if("280"===a)this.top={id:a,link:b},e.J[a]&&(c=e.f.Vb(b.dependenceTaskId),d=e.f.Vb(b.parentTaskId),
e.J[a](b,c.l,d.l));else if("270"===a){if(this.top={id:a,link:b},e.J[a])e.J[a](b,b.task,b.parent)}else if("300"===a){if(this.top={id:a,move:b},e.J[a])e.J[a](b)}else if("360"===a){if(this.top={id:a,element:b},e.J[a])e.J[a](b)}else switch(g=e.f.jc(b,c,d),f=e.f.A(b,c,d),this.top={id:a,b:b,c:c,a:d,na:g},a){case "200":if(e.J[a])e.J[a](g.b,g.c,g.a,f,this.Ue(b,c,f.q));else this.jg(this.top);break;case "240":if(e.J[a])e.J[a](g.b,g.c,g.a,f);else this.hg(this.top)}}},Ik:function(a){if(this.top){switch(this.top.id){case "200":this.jg(this.top);
break;case "220":this.jg(this.top);break;case "260":this.hg(this.top);break;case "240":this.hg(this.top);break;case "270":this.rj(this.top.link);break;case "280":this.ak(this.top.link);break;case "300":"SaveConnections"===a?this.$k(this.top.move):this.bl(this.top.move)}this.top=null}},clear:function(){var a=this.p;a&&(a.L.reset(),a.f.clear(),a.Oa=void 0,a.ia.uh(),a.Cb(),a.ya(),a.Zd(),a.lc().fj())},jg:function(a){var b=this.p;if(b){var c=null,d=0;void 0===a.b&&(a.b=-1);void 0===a.c&&(a.c=-1);void 0===
a.a&&(a.a=-1);b.w.save();if(-1!==a.c&&(-1===a.a&&-1!==a.b)&&(c=b.f.ma(a.b,a.c))){c.vb=!1;b.L.add(600,{b:a.b,c:a.c,a:c,index:a.c,ha:void 0,fa:a.na.c,ga:a.na.c});b.L.kc(0,c);for(var e=b.f.b[a.b].a,d=0;d<c.a.length;++d)e.push(c.a[d]),e.Zc().gb=-1;b.f.b[a.b].Tf(a.c)}-1===a.c&&(-1!==a.a&&-1!==a.b)&&(b.Aa.tb(null),c=b.f.A(a.b,void 0,a.a))&&(this.Ue(a.b,void 0,a.na.a),this.Sf(a.b,void 0,a.na.a),b.f.b[a.b].Fb(a.a),b.L.reset());-1!==a.c&&(-1!==a.a&&-1!==a.b)&&(b.Aa.tb(null),c=b.f.A(a.b,a.c,a.a))&&(this.Ue(a.b,
a.c,a.na.a),this.Sf(a.b,a.c,a.na.a),b.f.b[a.b].c[a.c].Fb(a.a),b.L.reset());b.ya();b.Cb();b.t.mc(!0);b.Jb=!0;b.Bb().gd();b.update()}},hg:function(a){var b=this.p,c=null,d,e;b&&(void 0===a.b&&(a.b=-1),void 0===a.c&&(a.c=-1),void 0===a.a&&(a.a=-1),-1!==a.c&&(-1===a.a&&-1!==a.b)&&(c=b.f.ma(a.b,a.c))&&(d=e=c.o,e=e!=t-1?t-1:I-1,b.L.add(920,{b:a.b,c:a.c,a:c,index:a.c,xe:e,Be:d,ha:void 0,fa:a.na.c,ga:a.na.c}),c.o=e,b.L.kc(0,c)),-1===a.c&&(-1!==a.a&&-1!==a.b)&&(c=b.f.A(a.b,void 0,a.a))&&(d=e=c.o,e=e!=t?t:
I,b.L.add(910,{b:a.b,c:void 0,a:c,index:a.a,xe:e,Be:d,ha:a.na.a,fa:a.na.c,ga:a.na.c}),c.o=e,b.L.kc(0,c)),-1!==a.c&&(-1!==a.a&&-1!==a.b)&&(c=b.f.A(a.b,a.c,a.a))&&(d=e=c.o,e=e!=t?t:I,b.L.add(910,{b:a.b,c:a.c,a:c,index:a.a,xe:e,Be:d,ha:a.na.a,fa:a.na.c,ga:a.na.c}),c.o=e,b.L.kc(0,c)),b.Bb().gd(),b.yb())},bi:function(a,b,c,d){var e=this.p,f=null;e&&(void 0===a.b&&(a.b=-1),void 0===a.c&&(a.c=-1),void 0===a.a&&(a.a=-1),-1!==a.c&&(-1===a.a&&-1!==a.b)&&(f=e.f.ma(a.b,a.c))&&(e.L.add(200,{b:a.b,c:a.c,a:f,index:a.c,
xe:void 0,Be:void 0,ha:void 0,fa:a.na.c,ga:a.na.c}),f.Lg(b),e.L.kc(0,f)),-1===a.c&&(-1!==a.a&&-1!==a.b)&&(f=e.f.A(a.b,void 0,a.a))&&(e.L.add(100,{b:a.b,c:void 0,a:f,index:a.a,xe:void 0,Be:void 0,ha:a.na.a,fa:a.na.c,ga:a.na.c}),c?(f.Lg(b,d),f.P=!1):f.jj(b,d),e.L.kc(0,f)),-1!==a.c&&(-1!==a.a&&-1!==a.b)&&(f=e.f.A(a.b,a.c,a.a))&&(e.L.add(100,{b:a.b,c:a.c,a:f,index:a.a,xe:void 0,Be:void 0,ha:a.na.a,fa:a.na.c,ga:a.na.c}),c?(f.Lg(b,d),f.P=!1):f.jj(b,d),e.L.kc(0,f)),e.yb())},ai:function(a,b){function c(a,
b){if(a.length!=b.length)return!1;for(var c=a.length,d=[],e=0,e=0;e<c;++e)d.push(a[e].id);for(e=0;e<c;++e)if(-1===d.indexOf(b[e].id))return!1;return!0}var d=this.p,e=null;if(d){void 0===a.b&&(a.b=-1);void 0===a.c&&(a.c=-1);void 0===a.a&&(a.a=-1);if(-1!==a.c&&(-1===a.a&&-1!==a.b)&&(e=d.f.ma(a.b,a.c))){if(a.l.$a&&b&&a.l.$a.id===b.id)return;d.L.add(960,{b:a.b,c:a.c,af:!0,index:a.c,vh:b,wh:a.l.$a,ha:void 0,fa:a.na.c,ga:a.na.c});e.$a=b;d.L.kc(!0,e)}if(-1===a.c&&(-1!==a.a&&-1!==a.b)&&(e=d.f.A(a.b,void 0,
a.a))){if(c(a.l.$a,b))return;d.L.add(960,{b:a.b,c:void 0,index:a.a,vh:b,wh:a.l.$a,ha:a.na.a,fa:a.na.c,ga:a.na.c});e.$a=b;d.L.kc(!0,e)}if(-1!==a.c&&(-1!==a.a&&-1!==a.b)&&(e=d.f.A(a.b,a.c,a.a))){if(c(a.l.$a,b))return;d.L.add(960,{b:a.b,c:a.c,index:a.a,vh:b,wh:a.l.$a,ha:a.na.a,fa:a.na.c,ga:a.na.c});e.$a=b;d.L.kc(!0,e)}d.yb()}},Gj:function(a){var b=this.p,c=null,c=null;b&&(a=parseInt(a),(c=b.L.ji())&&!isNaN(a)&&(c.e.ha=a,c.e.a.q=a,c=b.f.A(c.e.b,c.e.c,c.e.index)))&&(c.q=a)},Fj:function(a,b){var c=this.p,
d;if(c&&(a=parseInt(a),(d=c.L.ji())&&!isNaN(a))){d.e.fa=a;d.e.a.q=a;b&&(d.$a=b);if(d=c.f.ma(d.e.b,d.e.index))d.q=a,b&&(d.$a=b);c.yb()}},be:function(a,b,c,d,e,f,g,k,m,h,u,q,l,s,r){var n=this.p,t=null,t=null;n&&(t=new E(a,b,c,d,e,f,g,k,m,h,u,q,l,r),n.f.be(t),s&&(t=n.f.Vb(a))&&n.L.add(300,{b:t.b,c:t.c,a:t.l,index:t.a,ha:t.ha,fa:t.fa,ga:t.ga}))},Ne:function(a,b,c,d,e,f,g,k,m){var h=this.p,u=null,u=null;h&&(u=new $(a,b,c,d,e,f,g,k),h.f.Ne(u),m&&(u=h.f.Vi(a))&&h.L.add(400,{b:u.b,c:u.c,a:u.l,index:u.c,fa:u.fa,
ga:u.ga}))},Pg:function(a,b,c,d,e,f,g,k){var m=this.p,h=null;m&&(h=new qa(a,b,c,d,e,f,g,k),m.f.Pg(h))},bl:function(a){var b=this.p,c=0,d=0,c=null;b&&("MtoF"===a.type&&(this.Sf(a.Ja,a.Na,a.ha),a.a.gb=-1,c=b.f.b[0].be(a.a),b.f.b[0].c[a.c].Fb(a.index),d=b.jd(0,-1,c),b.ja.Ib(Math.min(Math.max(0,d-0.5*b.U),b.w.cb-b.w.Ya)),a.ad=c-1),"MtoM"===a.type&&(this.Sf(a.Ja,a.Na,a.ha),b.f.b[a.Ua].c[a.ib].Nb(a.a,a.ad),b.f.b[a.Ja].c[a.Na].Fb(a.index),b.f.b[a.Ja].c[a.Na].rb(),b.f.b[a.Ua].c[a.ib].rb()),"FtoM"===a.type?
(this.Sf(a.Ja,a.Na,a.ha),(c=b.f.b[a.Ua].c[a.ib])&&a.a.P&&a.a.k>=c.m&&a.a.Yd(c.m-24),b.f.b[a.Ua].c[a.ib].Nb(a.a,a.ad),b.f.b[a.Ja].Fb(a.index),c.rb(),b.L.add(900,a),a.a.P&&a.a.k>=c.m&&a.a.Yd(c.m-24)):b.L.add(900,a),b.L.Nf(),b.yb())},$k:function(a){var b=this.p,c=0,d,e,f;if(b){c=this.ah(a.Ja,a.Na,a.ha);f=this.bh(a.Ja,a.Na,c);a.group=f;a.Dl=c;if("MtoF"===a.type){a.Xf=b.f.b[a.Ja].c[a.Na].q;a.se=void 0;for(c=0;c<f.length;++c)f[c].I.gb=-1,e=b.f.b[a.Ja].be(f[c].I,!0),a.ha===f[c].id&&(d=e);for(c=f.length-
1;0<=c;--c)b.f.b[a.Ja].c[a.Na].Fb(f[c].index);b.f.b[a.Ja].c[a.Na].rb();b.f.b[a.Ja].Ec();c=b.jd(0,-1,d);b.ja.Ib(Math.min(Math.max(0,c-0.5*b.U),b.w.cb-b.w.Ya))}if("MtoM"===a.type){a.Xf=b.f.b[a.Ja].c[a.Na].q;a.se=b.f.b[a.Ua].c[a.ib].q;for(c=0;c<f.length;++c)f[c].I.gb=a.se,b.f.b[a.Ua].c[a.ib].a.push(f[c].I);for(c=f.length-1;0<=c;--c)b.f.b[a.Ja].c[a.Na].Fb(f[c].index);b.f.b[a.Ja].c[a.Na].rb();b.f.b[a.Ua].c[a.ib].rb()}if("FtoM"===a.type){a.Xf=void 0;a.se=b.f.b[a.Ua].c[a.ib].q;d=b.f.b[a.Ua].c[a.ib];for(c=
0;c<f.length;++c)f[c].I.P&&f[c].I.k>=d.m&&f[c].I.Yd(d.m-24),f[c].I.gb=a.se,b.f.b[a.Ua].c[a.ib].a.push(f[c].I);for(c=f.length-1;0<=c;--c)b.f.b[a.Ja].Fb(f[c].index);d.rb();b.f.b[a.Ja].Ec()}b.L.add(905,a);b.L.Nf()}},rj:function(a){var b=this.p,c=L,d=0,e=0,f=null,g={},d=e=f=null;b&&(-10===a.parentSide&&10===a.side?(f=a.parent,d=a.task.q,e=a.parent.q):(-10===a.parentSide&&-10===a.side?c=0:10===a.parentSide&&10===a.side&&(c=1),f=a.task,d=a.parent.q,e=a.task.q),L===c&&(g={},g.dependenceTaskId=e,g.linkType=
c,g.parentTaskId=d,g.type="link",f.links.push(g),f=b.f.Vb(e)))&&(e=b.f.Vb(e),d=b.f.Vb(d),b.L.add(950,{b:f.b,c:f.c,a:f.a,link:f.l.links[f.l.links.length-1],Hf:f.l.links.length-1,ha:f.ha,fa:f.fa,ga:f.ga,fh:e,yh:d}))},ak:function(a){var b=this.p,c=0,d,e,f,g,k=null,m=-1;if(b&&a&&(c=a.Ca||a.dependenceTaskId,k=b.f.Vb(c))){for(c=k.l.links.length-1;0<=c;--c)if(d=a.Ca||a.dependenceTaskId,e=a.za||a.parentTaskId,f=k.l.links[c].Ca||k.l.links[c].dependenceTaskId,g=k.l.links[c].za||k.l.links[c].parentTaskId,f===
d&&g===e){m=c;break}-1!==m&&(b.L.add(955,{b:k.b,c:k.c,a:k.a,link:k.l.links[m],Hf:m,ha:k.ha,fa:k.fa,ga:k.ga}),k.l.links.splice(m,1),b.yb())}},Ue:function(a,b,c){var d=this.p,e=[],f=0,g=null,k=0,m=0,h=0,u=null,u=null;if(d)for(u=void 0!==b?d.f.ma(a,b):d.f.b[a],f=u.a.length-1;0<=f;--f)for(k=u.a[f].links.length-1;0<=k;--k)g=u.a[f].links[k],h=g.za||g.parentTaskId,m=g.Ca||g.dependenceTaskId,c!==m&&c!==h||u.a[f].id()!==m||e.push({link:g,index:k,La:f});return e},Sf:function(a,b,c){var d=this.p,e=0,f=null,
g=0,k=f=0,m=null,m=null;if(d)for(m=void 0!==b?d.f.ma(a,b):d.f.b[a],e=m.a.length-1;0<=e;--e)for(g=m.a[e].links.length-1;0<=g;--g)f=m.a[e].links[g],k=f.za||f.parentTaskId,f=f.Ca||f.dependenceTaskId,c!==f&&c!==k||m.a[e].links.splice(g,1)},ah:function(a,b,c){var d,e,f,g=[],k={},m,h,u;e=null;f=[];h=[];if(this.p){f=this.sg(a,b);if(0===f.length)return g;for(a=f.length-1;0<=a;--a)for(e=f[a].links.length-1;0<=e;--e){b=f[a].links[e];h=b.za||b.parentTaskId;u=b.Ca||b.dependenceTaskId;k[u]||(k[u]={links:[]});
if(m=k[u].links){d=!0;for(b=m.length-1;0<=b;--b)if(m[b]===h){d=!1;break}d&&m.push(h)}k[h]||(k[h]={links:[]});if(m=k[h].links){d=!0;for(b=m.length-1;0<=b;--b)if(m[b]===u){d=!1;break}d&&m.push(u)}}e=k[c];if(!e)return[];f=[];g.push(c);f.push(c);for(a=e.links.length-1;0<=a;--a)f.push(e.links[a]),g.push(e.links[a]);for(;;){h=[];for(a=f.length-1;0<=a;--a)if(c!==f[a])for(e=k[f[a]],b=e.links.length-1;0<=b;--b)-1===g.indexOf(e.links[b])&&(h.push(e.links[b]),g.push(e.links[b]));if(0===h.length)break;f=h}return g}return[]},
sg:function(a,b){return void 0!==b?this.p.f.ma(a,b).a:this.p.f.b[a].a},bh:function(a,b,c){var d=0,e=[];a=this.sg(a,b);b=a.length;for(d=0;d<b;++d)-1!==c.indexOf(a[d].q)&&e.push({I:a[d],index:d,id:a[d].q});return e},$g:function(a,b,c){function d(a){for(var b=0,c=a.length-1;0<=c;--c)a[c].links.length&&++b;return b}function e(c,d){++r;for(var f=0,f=0;f<p.length;++f)if(p[f].links.length&&(p[f].q!==c.data.id&&d!==p[f].q)&&(h=n.indexOf(p[f].q),-1!==h&&(m=p[f].Gi(c.data.id))&&(m.Sc||m.linkType)==L&&p[f].o!==
t)){u={b:a,c:b,a:f,l:p[f],id:p[f].q};var g=c.createNode();g.root=p[f];g.data=u;if(s<r){l=!0;return}e(g,p[f].q);if(l)return}--r}function f(c){++r;for(var d=0,d=0;d<c.data.l.links.length;++d)if((m=c.data.l.links[d])&&(m.Sc||m.linkType)==L)for(g=0;g<p.length;++g)if(p[g].q===(m.za||m.parentTaskId)&&p[g].o!==t){u={b:a,c:b,a:g,l:p[g],id:p[g].q};q=c.createNode();q.root=p[g];q.data=u;if(s<r){l=!0;return}p[g].links.length&&f(q);if(l)return;break}--r}var g=0,k=0,m=null,h=-1,u=[],q=null,l=!1,s=0,r=0,n=null,
y=this.p.f.Vb(c).l,p=this.sg(a,b),v=new ba,z=new ba,n=this.Vj(a,b,c);if(n.length)for(v.root=y,s=d(p),k=r=0;k<p.length;++k)p[k].links.length&&p[k].q!==c&&(h=n.indexOf(p[k].q),-1!==h&&(m=p[k].Gi(c))&&((m.Sc||m.linkType)==L&&p[k].o!==t)&&(u={b:a,c:b,a:k,l:p[k],id:p[k].q},q=v.createNode(),q.root=p[k],q.data=u,e(q,p[k].q)));if(l)return null;z.root=y;s=d(p);for(k=r=0;k<y.links.length;++k)if((m=y.links[k])&&(m.Sc||m.linkType)==L)for(g=0;g<p.length;++g)if(p[g].q===(m.za||m.parentTaskId)&&p[g].o!==t){u={b:a,
c:b,a:g,l:p[g],id:p[g].q};q=z.createNode();q.root=p[g];q.data=u;p[g].links.length&&f(q);break}return l?null:{right:v,left:z}},Vj:function(a,b,c){var d=this.p,e,f,g,k,m=[],h={},u,q;k=null;g=-1;q=null;g=[];q=[];if(d){k=this.sg(a,b);if(0===k.length)return m;for(a=k.length-1;0<=a;--a)for(b=k[a].links.length-1;0<=b;--b)if(g=k[a].links[b],q=g.Sc||g.linkType,q===L){q=g.Ca||g.dependenceTaskId;g=g.za||g.parentTaskId;h[q]||(h[q]={links:[]});if(u=h[q].links){f=!0;for(e=u.length-1;0<=e;--e)if(u[e]===g){f=!1;
break}f&&u.push(g)}h[g]||(h[g]={links:[]});if(u=h[g].links){f=!0;for(e=u.length-1;0<=e;--e)if(u[e]===q){f=!1;break}f&&u.push(q)}}k=h[c];if(!k)return[];q=d.f.Vb(c);for(b=q.l.links.length-1;0<=b;--b)g=q.l.links[b].za||q.l.links[b].parentTaskId,g=k.links.indexOf(g),-1!==g&&k.links.splice(g,g);g=[];m.push(c);g.push(c);for(a=k.links.length-1;0<=a;--a)g.push(k.links[a]),m.push(k.links[a]);for(;;){q=[];for(a=g.length-1;0<=a;--a)if(c!==g[a])for(k=h[g[a]],d=k.links.length-1;0<=d;--d)-1===m.indexOf(k.links[d])&&
(q.push(k.links[d]),m.push(k.links[d]));if(0===q.length)break;g=q}return m}return[]},sl:function(a){var b=this.p;b&&(b.L.reset(),b.Oa=void 0,this.ei(!1),this.Hl(a),b.Zd(!0),b.lc().Hh(),b.Cb())},Hl:function(a){var b,c,d,e=this.p.f.b,f;if(e.length){for(d=e.length-1;0<=d;--d){for(b=e[d].c.length-1;0<=b;--b)for(a(e[d].c[b]),c=e[d].c[b].a.length-1;0<=c;--c)a(e[d].c[b].a[c]);for(b=e[d].a.length-1;0<=b;--b)a(e[d].a[b])}for(d=e.length-1;0<=d;--d){for(b=e[d].c.length-1;0<=b;--b)for(c=e[d].c[b].a.length-1;0<=
c;--c)if(e[d].c[b].a[c].filter)for(a=this.ah(d,b,e[d].c[b].a[c].id()),f=this.bh(d,b,a),a=f.length-1;0<=a;--a)if(!f[a].I.filter){e[d].c[b].a[c].filter=void 0;e[d].c[b].a[c].ug=!0;break}for(b=e[d].a.length-1;0<=b;--b)if(e[d].a[b].filter)for(a=this.ah(d,void 0,e[d].a[b].id()),f=this.bh(d,void 0,a),a=f.length-1;0<=a;--a)if(!f[a].I.filter){e[d].a[b].filter=void 0;e[d].a[b].ug=!0;break}}}},ei:function(a){var b,c,d,e=this.p.f.b;if(e.length)for(d=e.length-1;0<=d;--d){for(b=e[d].c.length-1;0<=b;--b)for(e[d].c[b].filter=
void 0,c=e[d].c[b].a.length-1;0<=c;--c)e[d].c[b].a[c].filter=void 0,e[d].c[b].a[c].ug=void 0;for(b=e[d].a.length-1;0<=b;--b)e[d].a[b].filter=void 0,e[d].a[b].ug=void 0}a&&(this.p.Zd(!0),this.p.lc().Hh())},sj:function(a){var b=this.p,c=null,d={};b&&(c=b.f.Vb(a.dependenceTaskId))&&(d.dependenceTaskId=a.dependenceTaskId,d.linkType=a.linkType,d.parentTaskId=a.parentTaskId,d.type="link",c.l.links.push(d),b.L.add(950,{b:c.b,c:c.c,a:c.a,link:c.l.links[c.l.links.length-1],Hf:c.l.links.length-1,ha:c.ha,fa:c.fa,
ga:c.ga}))},Kk:function(a){this.O&&(void 0!==this.O.a?(a=a?t:I,a!==this.O.status&&this.Hc("240",this.O.b,this.O.c,this.O.a)):(a=a?t-1:I-1,a!==this.O.status&&this.ae("260",this.O.b,this.O.c)),this.O=null)},Jk:function(a,b){var c=this.p;if(c&&this.O){if(this.O.fc)if("edit"===a)c.mg(this.O.b,void 0===this.O.c?-1:this.O.c,this.O.a);else if("delete"===a)this.Hc("200",this.O.b,this.O.c,this.O.a);else if("open"===a)this.O.l&&t===this.O.l.status()&&this.Hc("240",this.O.b,this.O.c,this.O.a);else if("closed"===
a)this.O.l&&t!==this.O.l.status()&&this.Hc("240",this.O.b,this.O.c,this.O.a);else if("addlink"===a){if(t!==this.O.I.o&&c.J["350"])c.J["350"](c.f.A(this.O.b,this.O.c,this.O.a))}else if("responsible"===a)this.ai(this.O,b);else{if("timechanage"===a){var d,c=!1,c=b.time;if(b.direction){d=this.O.l.hd();if(d.getUTCDate()===c.getUTCDate()&&d.getMonth()===c.getMonth()&&d.getFullYear()===c.getFullYear())return;d=this.O.l.vd();c=d.getUTCDate()===c.getUTCDate()&&d.getMonth()===c.getMonth()&&d.getFullYear()===
c.getFullYear();this.O.l.vd().getTime()>=b.time.getTime()&&(c=!0)}else{d=this.O.l.vd();if(d.getUTCDate()===c.getUTCDate()&&d.getMonth()===c.getMonth()&&d.getFullYear()===c.getFullYear())return;d=this.O.l.hd();c=d.getUTCDate()===c.getUTCDate()&&d.getMonth()===c.getMonth()&&d.getFullYear()===c.getFullYear();this.O.l.hd().getTime()<=b.time.getTime()&&(c=!0)}this.bi({b:this.O.b,c:this.O.c,a:this.O.a,na:this.O.na},b.time,b.direction,c)}}else"edit"===a?c.mg(this.O.b,this.O.c,-1):"delete"===a?this.ae("220",
this.O.b,this.O.c):"open"===a?this.O.l&&t-1===this.O.l.status()&&this.ae("260",this.O.b,this.O.c):"closed"===a?this.O.l&&t-1!==this.O.l.status()&&this.ae("260",this.O.b,this.O.c):"addMilestoneTask"===a?c.Th(this.O.b,this.O.c):"fitToScreen"===a?this.p.lc().Ng(this.O.b,this.O.c):"responsible"===a?this.ai(this.O,b):"timechanage"===a&&this.O.l.hd().getTime()!==b.time.getTime()&&this.bi({b:this.O.b,c:this.O.c,a:void 0,na:this.O.na},b.time);this.O=null}},Gh:function(a){if(void 0===a)a=0;else for(var b=
this.p.f.b.length-1;0<=b;--b)if(a===this.p.f.b[b].q){a=b;break}return this.p.f.Gh(a)},Ug:function(){return this.p.f.Ug()}};sa.prototype={Ud:function(a,b,c){var d=this.p;d&&(this.gh=void 0!==c,b?d.ja.scale(a,void 0,void 0,!0):d.ja.scale(a))},fj:function(){var a=this.p;a&&this.Db(a.uc/a.i.R)},Db:function(a){var b=this.p;b&&(b.offsetX=a,b.i&&b.i.Db(a),b.$=!0)},Hh:function(){var a=this.p,b=null,c=0,b=null,b=0;a&&a.ia&&(a.ia.Vg(),b=a.Ji(),a.Y||(b.height=Math.max(1E-4,b.height-a.j)),b.empty?(b=a.Nk(),b.x&&
b.height&&(a.offsetX=(-b.x+24)/a.i.B+a.da/a.i.R,a.i.Db(a.offsetX))):(a.Y||(b.height=(b.height/a.j>>0)*a.j-1E-4),c=(a.w.md()/a.j>>0)*a.j-1E-4,a.w.Fg(Math.min(b.height,c),!0)),b=-Math.max(Math.abs(a.f.ie?a.f.ie:0),Math.abs(a.f.he?a.f.he:0)),a.ia.vl(b))},fg:function(a,b,c,d){var e=this.p;if(e&&a){var f=null;if(f=b?e.f.Vi(a):e.f.Vb(a))a=e.jd(f.b,-1<f.c?f.c:-1,-1<f.a?f.a:-1)-0.5*e.U,b=(e.w.md()/e.j>>0)*e.j,a=(a/e.j>>0)*e.j,e.ja.Ib(Math.min(Math.max(1E-4,a),b),c),void 0===d&&e.ja.Lc(f.l.k)}},Mj:function(a){var b=
this.p;return b&&a?(b.ia||(b.ia=new oa(a,b),b.Jb=!0),b.ia):null},Hk:function(a){var b=this.p;b&&(b.ja.Gg=a,b.ja.Ud=a,b.ja.scrollTo=a)},Ng:function(a,b){var c=this.p,d=0,e=0,f=0,g=0,f=0;c&&c.ia&&(d=c.f.ma(a,b).k,e=c.f.ma(a,b).m,f=(c.ia.ic.getTime()-c.ia.Sb.getTime())/36E5,g=(c.ia.Qa.eb-0.5)*f,f*=c.ia.Qa.end-0.5,f-g<e-d?(this.gh=!1,g=c.i.B*1.05*((e-d)/(f-g)),g=Math.min(Math.max(g,28),270),c.ja.al(g,0.5*(e+d))):c.ja.Lc(0.5*(e+d)))},Y:function(){var a=this.p;a&&(a.ya(),a.Cb(),a.t.mc(!0),a.Jb=!0,a.$=!0)},
ck:function(a){if(void 0!==a){var b=this.p;b&&(b.td=!a,b.ya(),b.Xa=!1,b.$=!0)}},collapse:function(a){var b=this.p;if(b&&!b.Y){a=a||!1;for(var c=b.f.b.length-1;0<=c;--c){for(var d=b.f.b[c].c.length-1;0<=d;--d)b.f.b[c].c[d].Mc(a);b.f.b[c].Mc(a)}}},ii:function(a){var b=this.p;if(b&&!b.Y){a=a||!1;for(var c=b.f.b.length-1;0<=c;--c)b.f.b[c].Wf(a)}},nl:function(){return this.p.i.B},ml:function(){var a=this.p;if(a&&(this.position={Sa:a.offsetX,Ce:a.w.value(),collapse:[],Di:!1},a.f.b.length)){for(var b=a.f.b[0].c.length,
c=0;c<b;++c)this.position.collapse.push({id:a.f.b[0].c[c].id(),status:a.f.b[0].c[c].collapse});this.position.Di=a.f.b[0].collapse}},Yk:function(a){var b=this.p;if(b&&(this.position&&void 0===a)&&(b.offsetX=this.position.Sa,b.w.Fg(this.position.Ce),b.f.b.length)){a=this.position.collapse;var c=b.f.b[0].c,d=a.length,e=b.f.b[0].c.length;if(0<e&&0<d)for(var f=0;f<d;++f)for(var g=0;g<e;++g)a[f].id===c[g].id()&&(c[g].collapse=a[f].status);b.f.b[0].collapse=this.position.Di}this.position=null},yf:function(){if(!this.gh&&
this.onchangetimescale)this.onchangetimescale(this.p.i.B)}};Ha.prototype={update:function(){var a=this.p;if(a){if(0!=this.sd){var b=this.sd-a.offsetX;0<b?0.01>b?(a.offsetX=this.sd,this.sd=0):a.offsetX+=0.15*b:-0.01<b?(a.offsetX=this.sd,this.sd=0):a.offsetX+=0.15*b;a.i.Db(a.offsetX);a.$=!0;a.ia&&(a.ia.Cc=!0)}0!=this.Wd&&(b=this.Wd-this.Dd,0<b?0.5>b?(this.Dd=Math.max(this.Wd,0),this.Wd=0,this.Hd&&(this.Hd(),this.Hd=null)):this.Dd+=0.2*b:-0.5<b?(this.Dd=Math.max(this.Wd,0),this.Wd=0,this.Hd&&(this.Hd(),
this.Hd=null)):this.Dd+=0.2*b,a.w.Fg(this.Dd),a.$=!0,a.ia&&(a.ia.Cc=!0),a.Ka&&a.Ka.kf(a.w.value()));if(0!=this.Td){var b=a.i.B,c=this.Td-a.i.B;0<c?0.15>c?(a.i.B=this.Td,this.Td=0,this.$f=!0,this.Vd=void 0):a.i.B+=0.15*c:-0.15<c?(a.i.B=this.Td,this.Td=0,this.$f=!0,this.Vd=void 0):a.i.B+=0.15*c;if(this.$f)b/=a.i.B,a.offsetX=(a.uc-(-a.offsetX*a.i.R+a.uc)*b)/a.i.R,this.de.D!==this.de.N&&(this.de.D=a.ia.df(),this.de.N=a.ia.cf(),a.offsetX=Math.max(a.offsetX,this.de.N),a.offsetX=Math.min(a.offsetX,this.de.D)),
a.i.Db(a.offsetX);else if(void 0!=this.Vd){var b=b/a.i.B,c=a.i.B*a.offsetX,d=Math.abs(this.Vd-c);c<this.Vd?(a.offsetX+=(c-d*(1-b))/a.i.B,c=a.i.B*a.offsetX,c>this.Vd&&(a.offsetX=this.Vd/a.i.B)):a.offsetX=this.Vd/a.i.B;a.i.Db(a.offsetX)}this.ke&&(this.sd=a.uc/a.i.R-this.ke/a.i.B);a.Gd.yf();a.$=!0;a.ia&&(a.ia.Cc=!0)}}},stop:function(){this.sd=0;this.Hd=null;this.ke=0},Lc:function(a){var b=this.p;b&&(a=b.uc/b.i.R-a/b.i.B,this.ke=0,this.Gg?this.sd=a:(b.offsetX=a,b.i.Db(a),b.update()))},uf:function(a){var b=
this.p;b&&(a=b.offsetX-a,this.ke=0,this.Gg?this.sd=a:(b.offsetX=a,b.i.Db(a),b.update()))},Ib:function(a,b,c){if(b){if(this.Hd)return;this.Hd=b}if(b=this.p)this.scrollTo&&!c?(this.Dd=b.w.value(),this.Wd=a):(this.Dd=this.Wd=a,b.w.nh(a))},scale:function(a,b,c,d){var e=this.p;e&&a&&(b&&(this.$f=!1),c&&(this.Vd=c),this.ke=0,b=e.i.B/a,this.Ud&&!d?(this.Td=a,this.$=!0,e.ia&&(this.de.D=e.ia.df(),this.de.N=e.ia.cf())):(this.o=1,e.i.B=Math.max(1,a),c&&(e.offsetX=c/e.i.B),this.$f&&(e.offsetX=(e.uc-(-e.offsetX*
e.i.R+e.uc)*b)/e.i.R,e.i&&e.i.Db(e.offsetX)),e.Gd.yf(),e.$=!0))},al:function(a,b){var c=this.p;c&&(this.Gg&&this.Ud?(this.ke=b,this.sd=c.uc/c.i.R-this.ke/c.i.B,this.Td=a):(c.i.B=a,c.offsetX=c.uc/c.i.R-b/c.i.B,c.i.Db(c.offsetX),c.Gd.yf()),c.$=!0)},status:function(){return 0!==this.Td},Vk:function(){return 0!==this.Wd}};Ia.prototype={hl:function(){this.ye=this.a.i.R*this.a.offsetX;this.scrollY=this.a.w.value()>>0;this.Dc=this.a.i.R/this.a.i.B},yi:function(a,b,c,d,e,f,g){this.wb=this.ye+a.k*this.Dc;
this.Wb=a.duration*this.Dc;this.rel=b-this.scrollY;var k=this.a.G;if(!(this.rel+this.a.G<=this.a.Xb)){a.P&&-1===e&&(this.Wb=-this.wb+this.a.r-45,this.Wb=Math.max(this.Wb,45),this.wb<=this.a.da-1&&(this.Wb=Math.min(-this.wb+0.75*this.a.r,this.Wb)));var m=!1,h=!1,u=!1,q=ua,l="#9EB56C";t===a.o?(q=ua,l="#9EB56C",this.a.g.enable||this.a.Ka.ua.g.enable||(this.a.la===f&&(this.a.xa===e&&this.a.ta===d)&&(q="#9AC54A",l="#729335",u=!0),c&&(this.a.la===f&&-1===this.a.xa&&this.a.ta===d)&&(q="#9AC54A",l="#729335",
u=!0),this.a.oa===f&&(this.a.qa===e&&this.a.X===d)&&(q="#9AC54A",l="#729335",u=m=!0))):0>=a.m&&(!a.P||-1!==e)?(q=La,l="#872200",this.a.g.enable||this.a.Ka.ua.g.enable||(this.a.la===f&&(this.a.xa===e&&this.a.ta===d)&&(q="#B00600",l="#840701",u=!0),c&&(this.a.la===f&&-1===this.a.xa&&this.a.ta===d)&&(q="#B00600",l="#840701",u=!0),this.a.oa===f&&(this.a.qa===e&&this.a.X===d)&&(q="#B00600",l="#840701",u=m=!0))):(q="#A4C7E5",l="#82A0B9",this.a.g.enable||this.a.Ka.ua.g.enable||(c&&(q="#A4C7E5"),this.a.la===
f&&(this.a.xa===e&&this.a.ta===d)&&(q="#78A8D6",l="#567da1",u=!0),c&&(this.a.la===f&&-1===this.a.xa&&this.a.ta===d)&&(q="#78A8D6",l="#567da1",u=!0),this.a.oa===f&&(this.a.qa===e&&this.a.X===d)&&(q="#78A8D6",l="#567da1",u=m=!0)));this.wb>this.a.r-24&&this.a.Xb<this.rel&&(this.a.d.fillStyle=q,this.a.t.oi(this.a.r-30,this.rel+2,16,16));this.wb+this.Wb<this.a.da+2&&this.a.Xb<this.rel&&(this.a.d.fillStyle=q,this.a.t.pi(this.a.da-2,this.rel+2,16,16));if(this.wb>this.a.r||0>this.wb+this.Wb||this.rel>this.a.U)a.vb&&
this.a.Aa.set(this.wb,this.rel+this.a.G,a,null);else if(this.a.g.enable&&d==this.a.g.b&&e==this.a.g.c&&f===this.a.g.a)this.a.g.Ta(this.wb,this.rel,this.Wb,this.a.G),this.a.d.font=this.a.Kg,this.a.d.fillStyle="#999999",this.a.d.strokeStyle="#999999",this.a.d.fillText(a.Lk(),this.wb,this.rel+this.a.G+this.a.Ra);else if(!(0>=this.rel)){if(0<this.a.Xb){k=this.rel+k-this.a.Xb-1;if(0>=k)return;k<this.a.G?this.rel+=this.a.G-k:k=this.a.G}300===this.a.Wa&&this.a.n&&(this.a.n.gf===d&&(this.a.n.ff===e&&this.a.n.Rf===
f)&&(h=!0),this.a.n.b===d&&(this.a.n.c===e&&this.a.n.a===f)&&(h=!0));c=(this.wb>>0)+0.5;e=(this.rel>>0)+0.5;f=this.Wb>>0;var s=k>>0;this.a.ja.status()&&(c=this.wb+0.5,e=this.rel+0.5,f=this.Wb+0.5,s=k+0.5);this.a.d.fillStyle=a.ug?"rgba(0, 0, 0, 0)":q;this.a.d.fillRect(c,e,f,s);q=0<a.links.length;if(!q)for(var r=g.length-1;0<=r;--r)for(var n=g[r].links.length-1;0<=n;--n)if(a.q===(g[r].links[n].za||g[r].links[n].parentTaskId)){q=!0;break}q||h?(g=A,h?(this.a.d.strokeStyle="#24547E",g=Ua,this.a.d.lineWidth=
2,c=this.wb>>0,e=this.rel>>0,f=this.Wb>>0,s=k>>0):(this.a.t.xi(this.a.d,c,e,this.Wb>>0,k>>0,"#FFFFFF"),this.a.d.strokeStyle="#4980C3",this.a.d.lineWidth=1),this.a.ja.status()&&(c=(this.wb>>0)+0.5,e=(this.rel>>0)+0.5,f=(this.Wb>>0)+0.5,s=k>>0),this.a.t.Qc(this.a.d,c,e,c+f,e,g),this.a.t.Qc(this.a.d,c,e+s,c+f,e+s,g),this.a.t.Yc(this.a.d,c,e,c,e+s,g),this.a.t.Yc(this.a.d,c+f,e,c+f,e+s,g)):this.a.t.xi(this.a.d,c,(this.rel>>0)+0.5,this.Wb>>0,k>>0,l);d=0!==this.a.f.lb(d).status();h=!1;!u||(this.a.Ea||d)||
(u=(e>>0)+0.5,t!==a.o&&(this.a.d.fillStyle="#628BAE",this.a.d.fillRect(c-8-2>>0,u+0.5*k-4+1>>0,8,8),this.a.d.fillStyle="#FFFFFF",this.a.d.fillRect(c-4-3>>0,u+0.5*k-0.5>>0,2,2),h=!0,a.P||(this.a.d.fillStyle="#628BAE",this.a.d.fillRect(c+3+f>>0,u+0.5*k-4+1>>0,8,8),this.a.d.fillStyle="#FFFFFF",this.a.d.fillRect(c+3+f+3>>0,u+0.5*k-0.5>>0,2,2),h=!0)));!this.a.Ea&&(this.a.Ha&&!h)&&(this.a.Ha.bf&&this.a.Ha.bf===a.q)&&(this.a.d.fillStyle="#628BAE",this.a.d.fillRect(c-8-2>>0,e+0.5*k-4+1>>0,8,8),this.a.d.fillStyle=
"#FFFFFF",this.a.d.fillRect(c-4-3>>0,e+0.5*k>>0,2,2),this.a.Ha.I.P||(this.a.d.fillStyle="#628BAE",this.a.d.fillRect(c+3+f>>0,e+0.5*k-4+1>>0,8,8),this.a.d.fillStyle="#FFFFFF",this.a.d.fillRect(c+3+f+3>>0,e+0.5*k-0.5>>0,2,2)));a.tf&&!h&&this.Wb>0.8*this.a.G&&this.a.t.rk(this.a.d,this.wb,this.rel,this.a.G,"#FFFFFF");a.vb?(this.a.Aa.set(this.wb,this.rel+this.a.G,a,l),this.a.Mh=b,this.a.Lh=this.wb):(this.a.Y&&0<this.wb+this.Wb&&(this.a.d.fillStyle="#333333",this.a.d.strokeStyle="#333333",this.a.d.lineWidth=
1,this.a.d.fillText(a.Q,Math.max(this.wb+this.a.Ie*this.a.zoom,0),this.rel+this.a.G+this.a.Ra)),-1===a.Mb&&(a.Mb=this.a.d.measureText(a.Q).width/this.a.zoom));this.a.Ea||(!m||this.a.bd||t===a.o||300===this.a.Wa||d)||(a.P||10!==this.a.sb&&0!=this.a.sb||(this.a.d.fillStyle="#FFFFFF",this.a.t.Fe(this.a.d,c+f+13,this.rel+0.5*(this.a.G-15),63,15,4),this.a.d.fill(),this.a.d.strokeStyle="#999999",this.a.t.Fe(this.a.d,c+f+13,this.rel+0.5*(this.a.G-15),63,15,4),this.a.d.stroke(),this.a.d.fillStyle="#999999",
this.a.d.fillText(a.pg(!0),c+f+13+4,this.rel+0.5*(this.a.G-15)+15-4)),-10!==this.a.sb&&0!=this.a.sb)||(this.a.d.fillStyle="#FFFFFF",this.a.t.Fe(this.a.d,c-63-13,this.rel+0.5*(this.a.G-15),63,15,4),this.a.d.fill(),this.a.d.strokeStyle="#999999",this.a.t.Fe(this.a.d,c-63-13,this.rel+0.5*(this.a.G-15),63,15,4),this.a.d.stroke(),this.a.d.fillStyle="#999999",this.a.d.fillText(a.mh(!0),c-63-13+4,this.rel+0.5*(this.a.G-15)+15-4));a.P&&this.a.d.drawImage(this.ph,this.wb+this.Wb+5,this.rel+2);this.wb<this.a.da+
2&&this.wb+this.Wb>this.a.da+2&&(this.a.d.fillStyle="#FFFFFF",this.a.t.pi(this.a.da-2,this.rel+2,16,16))}}},xk:function(a,b,c,d,e){var f=b-this.scrollY,g=this.ye+a.k*this.Dc,k=a.duration*this.Dc,m=f+this.a.G;if(g>this.a.r||0>g+k||f>this.a.U)a.vb&&this.a.Tb.set(g+k,0,a,null);else{var h=0===e&&this.a.Y?1.5*this.a.j:(e+0.5)*this.a.j,h=h+this.a.Xb;if(!(0>=f+h||!this.a.Y&&2>=f+h-this.a.j)){if(this.a.Va.enable||this.a.Va.b==c&&this.a.Va.c==d){if(!this.a.Y&&(f=b-this.scrollY-0.5*this.a.G>>0,m=f+this.a.G,
h=0===e&&this.a.Y?1.5*this.a.j:(e+0.5)*this.a.j,m<this.a.Xb&&(e=2*this.a.j-m,m=2*this.a.j,h-=e,0>h)))return;if(this.a.Y||!a.collapse)this.a.d.fillStyle=Ma,this.a.d.fillRect(g,m,k,h)}m=f+this.a.G-this.a.nd*this.a.zoom;m<this.a.Xb||(this.a.d.fillStyle=0>=a.m?va:"#7e7e7e",1===a.o&&(this.a.d.fillStyle=ga),this.a.d.fillRect(g,m,k,this.a.nd*this.a.zoom),this.a.d.beginPath(),this.a.d.moveTo(g+k,m),this.a.d.lineTo(g+k,f+this.a.G+2*this.a.nd*this.a.zoom),this.a.d.lineTo(g+k-2*this.a.nd*this.a.zoom,f+this.a.G),
this.a.d.closePath(),this.a.d.fill(),-1===a.Mb&&(a.Mb=this.a.d.measureText(a.Jg).width),this.a.g.enable&&c==this.a.g.b&&d==this.a.g.c&&-1===this.a.g.a?this.a.g.Ta(g+k,f-this.a.nd*this.a.zoom,-1,this.a.G):(c=a.Mb+(a.Ph?this.a.Zk*this.a.zoom:0),d=g+k-c,g+k>this.a.r&&(d=this.a.r-c),a.Ph&&this.a.t.sk(this.a.d,d+c>>0,f+this.a.G+2*!this.a.Y>>0,this.a.zoom),a.o&&(this.a.d.fillStyle="#7e7e7e"),a.vb&&(this.a.Tb.set(g+k,f+0.5*this.a.j+this.a.nd*this.a.zoom-1,a,a.o?ga:this.a.d.fillStyle),this.a.Mh=b,this.a.Lh=
this.wb),this.a.Y&&this.a.d.fillText(a.Jg,d,f+this.a.Ra-this.a.nd*this.a.zoom)))}}},ti:function(a,b,c,d){if(a.length){0<this.a.Xb&&(this.a.d.save(),this.a.d.rect(this.a.da,this.a.Xb,this.a.r,this.a.U),this.a.d.clip());var e,f,g,k,m,h=void 0,u=-1,l=-1;this.a.Z.link&&(u=this.a.Z.link.Ca||this.a.Z.link.dependenceTaskId,l=this.a.Z.link.za||this.a.Z.link.parentTaskId);var t=null,s=this.a.j,r=0.5*this.a.G>>0,n=0,y=0,p=c-d;this.a.d.strokeStyle="#4980C3";this.a.d.lineWidth=1;for(var v=0;v<a.length;++v){c=
a[v];c.filter&&n++;for(var z=0;z<c.links.length;++z)if(y=c.links[z],d=y.za||y.parentTaskId,a[v].q!==d){m=y.Sc||y.linkType;for(var D=y=0;D<a.length;++D)if(a[D].filter&&y++,!(a[D].filter&&a[v].filter||a[D].q!==d)){if(L===m){g=(b+(a[D].k+a[D].duration)*this.Dc+5>>0)-0.5;k=(b+a[v].k*this.Dc-5>>0)-0.5;e=(p+s*(D-y)+r>>0)+0.5;f=(p+s*(v-n)+r>>0)+0.5;if(this.a.M&&m===this.a.M.pa.linkType&&d==this.a.M.pa.parentTaskId&&a[v].q==this.a.M.pa.dependenceTaskId){t={Sc:m,of:g+0.5,qf:e+0.5,pf:k+0.5,rf:f+0.5};continue}if(a[D].k+
a[D].duration>a[v].k){if(d===l&&c.id()===u){h={Sc:m,of:g+0.5,qf:e+0.5,pf:k+0.5,rf:f+0.5,linkColor:"#CC3300"};continue}this.a.d.strokeStyle="#FFFFFF";this.a.ec.ue(m,g,e,k,f);this.a.d.strokeStyle="#CC3300";this.a.ec.ue(m,g,e,k,f,!0);continue}}else 0===m?(g=(b+a[D].k*this.Dc>>0)+0.5,k=(b+a[v].k*this.Dc>>0)+0.5,e=(p+s*(D-y)+r>>0)+0.5,f=(p+s*(v-n)+r>>0)+0.5):1===m&&(g=(b+(a[D].k+a[D].duration)*this.Dc>>0)+0.5,k=(b+(a[v].k+a[v].duration)*this.Dc>>0)+0.5,e=(p+s*(D-y)+r>>0)+0.5,f=(p+s*(v-n)+r>>0)+0.5);this.a.M&&
m===this.a.M.pa.linkType&&d==this.a.M.pa.parentTaskId&&a[v].q==this.a.M.pa.dependenceTaskId?t={Sc:m,of:g+0.5,qf:e+0.5,pf:k+0.5,rf:f+0.5}:d===l&&c.id()===u?h={Sc:m,of:g+0.5,qf:e+0.5,pf:k+0.5,rf:f+0.5,linkColor:"#4980C3"}:(this.a.d.strokeStyle="#FFFFFF",this.a.ec.ue(m,g,e,k,f),this.a.d.strokeStyle="#4980C3",this.a.ec.ue(m,g,e,k,f,!0))}}}t&&(this.a.d.beginPath(),this.a.d.lineWidth=2,this.a.d.strokeStyle="#24547E",A=[6,2],this.a.ec.ue(t.Sc,t.of,t.qf,t.pf,t.rf,!0),A=[4,2],this.a.d.stroke());h&&(this.a.d.beginPath(),
this.a.d.lineWidth=2,this.a.d.strokeStyle="#FFFFFF",this.a.ec.ue(h.Sc,h.of>>0,h.qf>>0,h.pf>>0,h.rf>>0,!0),this.a.d.strokeStyle=h.linkColor,this.a.ec.ue(h.Sc,h.of>>0,h.qf>>0,h.pf>>0,h.rf>>0,!0),this.a.d.stroke());0<this.a.Xb&&this.a.d.restore()}},ue:function(a,b,c,d,e,f){L===a?c<e?b<d?f?(this.a.t.lineTo(this.a.d,b-5,c,b,c,A),this.a.t.lineTo(this.a.d,b,c,b,e,A),this.a.t.lineTo(this.a.d,b,e,d+5+1,e,A)):(this.a.d.beginPath(),this.a.d.moveTo(b-5,c),this.a.d.lineTo(b,c),this.a.d.lineTo(b,e),this.a.d.lineTo(d+
5+1,e),this.a.d.stroke()):f?(this.a.t.lineTo(this.a.d,b-5,c,b,c,A),this.a.t.lineTo(this.a.d,b,c,b,e-this.a.G,A),this.a.t.lineTo(this.a.d,d,e-this.a.G,b,e-this.a.G,A),this.a.t.lineTo(this.a.d,d,e-this.a.G,d,e,A),this.a.t.lineTo(this.a.d,d,e,d+5+1,e,A)):(this.a.d.beginPath(),this.a.d.moveTo(b-5,c),this.a.d.lineTo(b,c),this.a.d.lineTo(b,e-this.a.G),this.a.d.lineTo(d,e-this.a.G),this.a.d.lineTo(d,e),this.a.d.lineTo(d+5+1,e),this.a.d.stroke()):b<d?f?(this.a.t.lineTo(this.a.d,b-5,c,b,c,A),this.a.t.lineTo(this.a.d,
b,e,b,c,A),this.a.t.lineTo(this.a.d,b,e,d+5,e,A)):(this.a.d.beginPath(),this.a.d.moveTo(b-5,c),this.a.d.lineTo(b,c),this.a.d.lineTo(b,e),this.a.d.lineTo(d+5,e),this.a.d.stroke()):f?(this.a.t.lineTo(this.a.d,d,e,d+5+1,e,A),this.a.t.lineTo(this.a.d,d,e,d,c-this.a.G,A),this.a.t.lineTo(this.a.d,d,c-this.a.G,b,c-this.a.G,A),this.a.t.lineTo(this.a.d,b,c-this.a.G,b,c,A),this.a.t.lineTo(this.a.d,b-5,c,b,c,A)):(this.a.d.beginPath(),this.a.d.moveTo(d+5+1,e),this.a.d.lineTo(d,e),this.a.d.lineTo(d,c-this.a.G),
this.a.d.lineTo(b,c-this.a.G),this.a.d.lineTo(b,c),this.a.d.lineTo(b-5,c),this.a.d.stroke()):0===a?c<e?b<d?f?(this.a.t.lineTo(this.a.d,b-5,c,b+1,c,A),this.a.t.lineTo(this.a.d,b-5,c,b-5,e,A),this.a.t.lineTo(this.a.d,b-5,e,d+5,e,A)):(this.a.d.beginPath(),this.a.d.moveTo(b+1,c),this.a.d.lineTo(b-5,c),this.a.d.lineTo(b-5,e),this.a.d.lineTo(d+5,e),this.a.d.stroke()):f?(this.a.t.lineTo(this.a.d,d-5,c,b+1,c,A),this.a.t.lineTo(this.a.d,d-5,c,d-5,e,A),this.a.t.lineTo(this.a.d,d-5,e,d+1,e,A)):(this.a.d.beginPath(),
this.a.d.moveTo(b+1,c),this.a.d.lineTo(d-5,c),this.a.d.lineTo(d-5,e),this.a.d.lineTo(d+1,e),this.a.d.stroke()):b<d?f?(this.a.t.lineTo(this.a.d,b-5,c,b+1,c,A),this.a.t.lineTo(this.a.d,b-5,e,b-5,c,A),this.a.t.lineTo(this.a.d,b-5,e,d+5,e,A)):(this.a.d.beginPath(),this.a.d.moveTo(b+1,c),this.a.d.lineTo(b-5,c),this.a.d.lineTo(b-5,e),this.a.d.lineTo(d+5,e),this.a.d.stroke()):f?(this.a.t.lineTo(this.a.d,d-5,e,d+1,e,A),this.a.t.lineTo(this.a.d,d-5,e,d-5,c,A),this.a.t.lineTo(this.a.d,d-5,c,b+1,c,A)):(this.a.d.beginPath(),
this.a.d.moveTo(d+1,e),this.a.d.lineTo(d-5,e),this.a.d.lineTo(d-5,c),this.a.d.lineTo(b+1,c),this.a.d.stroke()):1===a&&(c<e?b<d?f?(this.a.t.lineTo(this.a.d,d,e,d+5,e,A),this.a.t.lineTo(this.a.d,d+5,c,d+5,e,A),this.a.t.lineTo(this.a.d,b,c,d+5,c,A)):(this.a.d.beginPath(),this.a.d.moveTo(d,e),this.a.d.lineTo(d+5,e),this.a.d.lineTo(d+5,c),this.a.d.lineTo(b,c),this.a.d.stroke()):f?(this.a.t.lineTo(this.a.d,d,e,b+5,e,A),this.a.t.lineTo(this.a.d,b+5,c,b+5,e,A),this.a.t.lineTo(this.a.d,b,c,b+5,c,A)):(this.a.d.beginPath(),
this.a.d.moveTo(d,e),this.a.d.lineTo(b+5,e),this.a.d.lineTo(b+5,c),this.a.d.lineTo(b,c),this.a.d.stroke()):b<d?f?(this.a.t.lineTo(this.a.d,b,c,d+5,c,A),this.a.t.lineTo(this.a.d,d+5,e,d+5,c,A),this.a.t.lineTo(this.a.d,d,e,d+5,e,A)):(this.a.d.beginPath(),this.a.d.moveTo(b,c),this.a.d.lineTo(d+5,c),this.a.d.lineTo(d+5,e),this.a.d.lineTo(d,e),this.a.d.stroke()):f?(this.a.t.lineTo(this.a.d,b,c,b+5,c,A),this.a.t.lineTo(this.a.d,b+5,e,b+5,c,A),this.a.t.lineTo(this.a.d,d,e,b+5,e,A)):(this.a.d.beginPath(),
this.a.d.moveTo(b,c),this.a.d.lineTo(b+5,c),this.a.d.lineTo(b+5,e),this.a.d.lineTo(d,e),this.a.d.stroke()))},gk:function(a,b,c,d){this.a.g.enable&&(a===this.a.g.b&&-1===this.a.g.c&&this.a.g.a===c)&&(2*this.a.j<d&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,d-0.5*this.a.G,this.a.r,this.a.j)),this.a.Jd=d+this.a.G);this.a.Ka.ua.g.enable&&this.a.Ka.ua.g.anchor.b===a&&void 0===this.a.Ka.ua.g.anchor.c&&-1===b&&this.a.Ka.ua.g.anchor.a===
c?(2*this.a.j<d&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)),this.a.Jd=d+this.a.G):(this.a.la===c&&-1===this.a.xa&&this.a.ta===a||this.a.oa===c&&-1===this.a.qa&&this.a.X===a)&&!this.a.g.enable&&(2*this.a.j<d&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,d-0.5*this.a.G,this.a.r,this.a.j)),this.a.Jd=d+this.a.G)},
ik:function(a,b,c,d){this.a.g.enable&&(a==this.a.g.b&&b==this.a.g.c&&this.a.g.a===c)&&(2*this.a.j<d&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)),this.a.Jd=d+this.a.G);this.a.Ka.ua.g.enable&&this.a.Ka.ua.g.anchor.b===a&&this.a.Ka.ua.g.anchor.c===b&&this.a.Ka.ua.g.anchor.a===c?(2*this.a.j<d&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):
this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)),this.a.Jd=d+this.a.G):(this.a.la===c&&this.a.xa===b&&this.a.ta===a||this.a.oa===c&&this.a.qa===b&&this.a.X===a)&&!this.a.g.enable&&(2*this.a.j<d&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)),this.a.Jd=d+this.a.G)},hk:function(a,b,c,d){this.a.g.enable&&(a==this.a.g.b&&b==this.a.g.c&&this.a.g.a===c)&&2*this.a.j<d?(this.a.d.fillStyle=
"rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)):this.a.Ka.ua.g.enable&&this.a.Ka.ua.g.anchor.b===a&&(this.a.Ka.ua.g.anchor.c===b&&void 0===this.a.Ka.ua.g.anchor.a&&-1===c)&&2*this.a.j<d?(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)):(this.a.v.l&&(this.a.v.b===a&&this.a.v.c===b&&!this.a.v.Pd&&
2*this.a.j<d&&!this.a.g.enable)&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)),this.a.la===c&&(this.a.xa===b&&this.a.ta===a)&&(!this.a.g.enable&&!this.a.sh&&2*this.a.j<d&&!this.a.g.enable)&&(this.a.d.fillStyle="rgba(100,100,100,0.15)",this.a.Y?this.a.d.fillRect(0,d,this.a.r,this.a.G):this.a.d.fillRect(0,(d-0.5*this.a.G>>0)-0.5,this.a.r,this.a.j+0.5)))}};Ja.prototype={Ta:function(a,
b,c,d){this.bk||(this.bound=a,this.direction=b,this.gc=c,this.wc="",this.sc={x:0,y:0},0<this.gc?(d&&(this.wc="+"),this.wc+=this.gc+" "+y.Gantt.Localize_strings.dayShort,this.sc.x=18*(0<this.wc.length),this.sc.y=10*(0<this.wc.length)):0>this.gc&&(d?this.wc="-":this.gc=Math.abs(this.gc),this.wc=this.gc+" "+y.Gantt.Localize_strings.dayShort,this.sc.x=18*(0<this.wc.length),this.sc.y=10*(0<this.wc.length)),this.W=b?{x:this.bound.x-12,y:this.bound.y-11-this.sc.y,u:24,C:25+this.sc.y}:{x:this.bound.x+11,
y:this.bound.y-12,u:25+this.sc.x,C:24})},qb:function(a){this.link=a;this.a.$=!0},Uf:function(){this.a.t.mc(!0);this.direction?(this.a.t.oe(this.W.x-24,this.W.y-24,this.W.u+24,this.W.C+24,5),this.a.s.fillStyle="#83888D",this.a.s.lineWidth=1,this.a.s.beginPath(),this.a.s.moveTo(this.W.x>>0,this.W.y+12+this.sc.y>>0),this.a.s.lineTo(this.W.x+0.5*this.W.u>>0,this.W.y+this.W.C>>0),this.a.s.lineTo(this.W.x+this.W.u+2>>0,this.W.y+12+this.sc.y>>0),this.a.s.lineTo(this.W.x+this.W.u+2>>0,this.W.y-12>>0),this.a.s.lineTo(this.W.x>>
0,this.W.y-12>>0),this.a.s.closePath(),this.a.s.fill(),this.a.s.fillStyle="#FFFFFF",this.a.s.fillRect(this.bound.x-8+1>>0,(this.W.y+12>>0)-4-16,16,16),this.a.s.fillStyle="#83888D",this.a.s.beginPath(),this.a.t.ri(this.a.s,this.bound.x-8+1>>0,(this.W.y+12>>0)-4-16,16,16),this.a.s.closePath(),this.a.s.fill(),this.wc.length&&(9999>=this.gc&&-9999<=this.gc)&&(this.a.s.fillStyle="#FFFFFF",this.a.s.font=100>M(this.gc)?"7pt "+K:100<=M(this.gc)&&1E3>M(this.gc)?"6pt "+K:"5pt "+K,this.a.s.fillText(this.wc,
this.W.x+0.5*(this.W.u-this.a.s.measureText(this.wc).width),this.W.y+20.8))):(this.a.t.oe(this.W.x-24,this.W.y,this.W.u+24,this.W.C,5),this.a.s.fillStyle="#83888D",this.a.s.lineWidth=1,this.a.s.beginPath(),this.a.s.moveTo(this.W.x>>0,this.W.y>>0),this.a.s.lineTo(this.W.x-12>>0,this.W.y+0.5*this.W.C>>0),this.a.s.lineTo(this.W.x>>0,this.W.y+this.W.C>>0),this.a.s.lineTo(this.W.x+36-11+this.sc.x>>0,this.W.y+this.W.C>>0),this.a.s.lineTo(this.W.x+36-11+this.sc.x>>0,this.W.y>>0),this.a.s.closePath(),this.a.s.fill(),
this.a.s.fillStyle="#FFFFFF",this.a.s.fillRect(this.bound.x+14+this.sc.x>>0,this.W.y+4>>0,16,16),this.a.s.fillStyle="#83888D",this.a.s.beginPath(),this.a.t.ri(this.a.s,this.bound.x+14-0.5+this.sc.x,this.W.y+4,16,16),this.a.s.closePath(),this.a.s.fill(),this.wc.length&&(9999>=this.gc&&-9999<=this.gc)&&(this.a.s.fillStyle="#FFFFFF",this.a.s.font=100>M(this.gc)?"7pt "+K:100<=M(this.gc)&&1E3>M(this.gc)?"6pt "+K:"5pt "+K,this.a.s.fillText(this.wc,this.W.x+0.5*(this.W.C-this.a.s.measureText(this.wc).width)-
5,this.W.y+15.2)))},reset:function(){this.bound={x:0,y:0,u:0,C:0};this.link=null},ge:function(){return 0<this.bound.u+this.bound.C},Pd:function(){this.bound={x:0,y:0,u:0,C:0};this.W={x:0,y:0,u:0,C:0};this.link=null;this.a.$=!0},re:function(a,b){if(this.direction){if(this.W.x>=a||a>=this.W.x+this.W.u||this.W.y-10>=b||b>=this.W.y+this.W.C)return!1}else if(this.W.x-20>a||a>this.W.x+this.W.u+7||this.W.y-2>b||b>this.W.y+this.W.C)return!1;return!0},onmousedown:function(a,b){if(this.Kc&&this.ge())if(this.direction){if(a>=
this.bound.x-16&&a<=this.bound.x+16&&b<=this.W.y+16&&b>=this.W.y-16)return this.Kc(),!0}else if(a>=this.bound.x+14+this.sc.x&&a<=this.bound.x+14+16+this.sc.x&&b>=this.W.y+4&&b<=this.W.y+4+16)return this.Kc(),!0;return!1},onmousemove:function(a,b){if(this.ge()){if(this.direction){if(a>=this.W.x&&a<=this.W.x+this.W.u&&b>=this.W.y-15&&b<=this.W.y+this.W.C+7)return this.a.sa.style.cursor="pointer",!0}else if(a>=this.W.x-20&&a<=this.W.x+this.W.u&&b>=this.W.y&&b<=this.W.y+this.W.C)return this.a.sa.style.cursor=
"pointer",!0;this.Pd()}return!1}};Ka.prototype={set:function(a,b,c,d){if(this.l){if(this.l.a.q==c.q){this.l.x=a;this.l.y=b;this.l.fill=d;return}this.l.a.vb=!1}this.l={x:a,y:b,a:c,fill:d}},tb:function(a){if(this.l){if(a&&this.l.a.q==a.q)return this.l.a.vb=!1,this.l=null,!1;this.l.a.vb=!1;a||(this.l=null)}return!0},Se:function(a,b){return this.bound.x>a||a>this.bound.x+this.bound.u||this.bound.y>b||b>this.bound.y+this.bound.C},Xg:function(a,b){return this.Ad.x<a&&a<this.Ad.x+this.Ad.u&&this.Ad.y<b&&
b<this.Ad.y+this.Ad.C},gg:function(a){this.l&&(a&&this.l.a.q==a.q)&&(this.l.a.vb=!1,this.l=null)},Bh:V("href"),ge:function(){return null!==this.l}};ta.prototype={Pk:function(a,b){var c=this;a&&(this.canvas=a,this.d=a.getContext("2d"),this.r=this.d.canvas.width,this.U=this.d.canvas.height,this.Xc=this.d.canvas.getBoundingClientRect(),b&&(this.sa=b,this.s=this.sa.getContext("2d"),this.Ih=!1,this.sa.onmouseout=function(){c.Bb().Mg();c.Bb().fi();c.w.focus(!1);c.ta=-1;c.xa=-1;c.la=-1;c.ya();c.t.mc(!0);
c.$=!0}),Qa.src="../projects/app_themes/default/images/small-icons.png",this.oj=new ja(this),this.f=new Ga,this.L=new na(this),this.Gd=new sa(this),this.Za=new ra(this),this.t=new Y(this.d,this.s),this.ja=new Ha(this),this.ec=new Ia(this),(this.Ka=new ma(this,this.f,document.getElementById("ganttCanvasContainer")))&&this.Ka.zc(),this.Ha=null,this.Cc=!0)},Qk:function(){this.Ie=11;this.Ui=3;this.Rd=4;this.Wl=24;this.Ti=1;this.If=4;this.Si=20;this.nd=3;this.Zk=26},Sk:function(){var a=this;this.H={ze:0,
Ae:0,b:-1,c:-1,a:-1,l:null,o:I,bound:{x:0,y:0,u:0,C:0},Df:{x:0,y:0,u:0,C:0},J:[],t:new Y(a.s,null),ni:!1,set:function(a,c,d,e){this.l&&e&&this.l.q===e.q?this.bound=this.Df:(-1!==a&&-1!==d&&-1===c?(this.b=a,this.c=c,this.a=d):(-1!==a&&(this.b=a),-1!==c&&(this.c=c),-1!==d&&(this.a=d)),e&&(this.l=e,this.o=this.l.o,this.bound=this.Df))},Ta:function(a,c,d,e){this.Df={x:a,y:c,u:d,C:e}},tb:function(b,c){return this.bound.x>b||b>this.bound.x+this.bound.u||this.bound.y>c||c>this.bound.y+this.bound.C+a.G?(this.bound.u=
0,this.bound.C=0,!1):!0},re:function(a,c){var d,e=this.bound.x+0.5*this.bound.u;d=I==this.o?48:18;return e-d>a||a>e+d||this.bound.y>c||c>this.bound.y+this.bound.C?!1:!0},reset:function(){this.bound.u=0;this.bound.C=0;this.Df.u=0;this.Df.C=0;this.a=this.c=this.b=-1;this.l=null},Gc:function(a){this.J.push(a)},value:function(a,c,d,e){return d-this.bound.y<=(a.If+16)*a.zoom&&0<this.bound.u?(c-this.bound.x)/(this.bound.u/e>>0)>>0:-1},te:function(){if(0<this.bound.u&&0<this.bound.C){var b=96*a.zoom;this.o==
t&&(b=36*a.zoom);var c=this.bound.x+0.5*this.bound.u-0.5*b;a.s.fillStyle="#888d92";a.s.fillRect(c-7,this.bound.y+1,b+14,30);a.s.beginPath();a.s.moveTo(c+0.5*b,this.bound.y+30+a.Rd*a.zoom+1);a.s.lineTo(c+0.5*b-a.Rd*a.zoom,this.bound.y+30+1);a.s.lineTo(c+0.5*b+a.Rd*a.zoom,this.bound.y+30+1);a.s.closePath();a.s.fill();for(var b=16*a.zoom,d=this.bound.y+7*a.zoom+1,e=this.o==t?2:5,f=0;f<e;++f){var g=c-1+(a.Ti+f*a.Si)*a.zoom;a.s.fillStyle="#fafafa";a.s.fillRect(g,d,b,b);4===f?(a.s.fillStyle="#888d92",a.s.strokeStyle=
"#888d92",this.t.tk(g,d,b,b)):(a.s.fillStyle="#888d92",a.s.beginPath(),0===f?this.o==t?this.t.vi(g,d,b,b):this.t.ui(g,d,b,b):1===f&&(this.o==t?this.t.lg(g,d,b,b):this.t.si(g,d,b,b)),2===f&&this.t.lg(g,d,b,b),3===f&&this.t.qi(g,d,b,b),a.s.closePath(),a.s.fill())}return!0}return!1},onmousemove:function(b,c){return 0===this.bound.u&&0===this.bound.C?!1:this.tb(b,c)?(a.sa.style.cursor="pointer",a.$=!0):!1},onmousedown:function(b,c){if((a.If+16)*a.zoom>=c-this.bound.y&&a.If*a.zoom<=c-this.bound.y&&0<this.bound.u){var d=
(b-this.bound.x)/(this.bound.u/(this.o==t?2:5)>>0)>>0;if(d<this.J.length&&0<=d)this.J[d](this.b,this.c,-1);return!0}return!1}};this.H.Gc(function(){if(t===a.H.l.o)a.Za.Hc("240",a.H.b,-1==a.H.c?void 0:a.H.c,a.H.a),a.H.reset();else{var b=a.f.A(a.H.b,-1==a.H.c?void 0:a.H.c,a.H.a);b&&a.Aa.gg(b);a.bj(a.H.b,-1===a.H.c?void 0:a.H.c,a.H.a)||a.mg(a.H.b,a.H.c,a.H.a);a.Cb();a.$=!0}});this.H.Gc(function(){t===a.H.l.o?a.Za.Hc("200",a.H.b,-1===a.H.c?void 0:a.H.c,a.H.a):a.cj(a.H.b,-1===a.H.c?void 0:a.H.c,a.H.a,
a.H.bound.x+0.5*a.H.bound.u);a.H.reset();a.Xa=!1});this.H.Gc(function(){a.Za.Hc("200",a.H.b,-1===a.H.c?void 0:a.H.c,a.H.a);a.H.reset();a.Xa=!1});this.H.Gc(function(){a.Za.Hc("240",a.H.b,-1==a.H.c?void 0:a.H.c,a.H.a);a.H.reset()});this.H.Gc(function(){t!==a.H.l.o&&a.J["350"]&&(a.J["350"](a.f.A(a.H.b,-1==a.H.c?void 0:a.H.c,a.H.a)),a.Cb(),a.$=!0)});this.v={ze:0,Ae:0,b:-1,c:-1,l:null,o:I,bound:{x:0,y:0,u:0,C:0},Pd:!0,J:[],t:new Y(a.s,null),disable:!1,set:function(a,c,d){-1!==a&&(this.b=a);-1!==c&&(this.c=
c);d&&(this.l=d,this.o=this.l.o)},tb:function(a,c){return this.bound.x>a||a>this.bound.x+this.bound.u||this.bound.y>c||c>this.bound.y+this.bound.C+10?(this.bound.u=0,this.bound.C=0,this.Pd=!0,!1):!0},reset:function(){this.bound.u=0;this.bound.C=0;this.a=this.c=this.b=-1;this.Pd=!0;this.l=null;this.o=I-1;this.disable=!1},Gc:function(a){this.J.push(a)},Ta:function(a,c,d,e){this.bound={x:a,y:c,u:d,C:e}},re:function(a,c){if(this.disable)return!1;var d,e=this.bound.x+0.5*this.bound.u;d=I-1==this.o?58:
28;return e-d>a||a>e+d||this.bound.y>c||c>this.bound.y+this.bound.C?!1:!0},te:function(){if(0<this.bound.u&&0<this.bound.C&&!this.Pd&&!this.disable){var b=116*a.zoom;this.o==t-1&&(b=56*a.zoom);var c=this.bound.x+0.5*this.bound.u-0.5*b,d=30;a.s.fillStyle="#888d92";a.s.fillRect(c-7,this.bound.y+1,b+14,d);d+=7;a.s.beginPath();a.s.moveTo(c+0.5*b,this.bound.y+d+1-a.Rd*a.zoom);a.s.lineTo(c+0.5*b-a.Rd*a.zoom,this.bound.y+d+1-2*a.Rd*a.zoom);a.s.lineTo(c+0.5*b+a.Rd*a.zoom,this.bound.y+d+1-2*a.Rd*a.zoom);a.s.closePath();
a.s.fill();for(var b=16*a.zoom,d=this.bound.y+7*a.zoom+1,e=this.o==t-1?3:6,f=0;f<e;++f){var g=c-1+(a.Ti+f*a.Si)*a.zoom;a.s.fillStyle="#fafafa";a.s.fillRect(g,d,b,b);a.s.fillStyle="#888d92";a.s.beginPath();0===f?this.o==t-1?this.t.vi(g,d,b,b):this.t.ui(g,d,b,b):1===f&&(this.o==t-1?this.t.lg(g,d,b,b):this.t.si(g,d,b,b));2===f&&(this.o==t-1?this.t.ih(g,d,b,b):this.t.lg(g,d,b,b));3===f&&(this.o==t-1?this.t.ih(g,d,b,b):this.t.ek(g,d,b,b));4===f&&this.t.ih(g,d,b,b);5==f&&this.t.qi(g,d,b,b);a.s.closePath();
a.s.fill()}return!0}return!1},onmousemove:function(b,c){return this.disable?(a.sa.style.cursor="pointer",!1):0===this.bound.u&&0===this.bound.C?!1:this.tb(b,c)?(a.sa.style.cursor="pointer",a.$=!0):!1},onmousedown:function(b,c){if(this.disable)return!1;if((a.If+16)*a.zoom>=c-this.bound.y&&a.If*a.zoom<=c-this.bound.y&&0<this.bound.u){if(c<this.bound.y+6*a.zoom)return a.v.reset(),!1;var d=(b-this.bound.x)/((this.o==t-1?56:116)/(this.o==t-1?3:6)>>0)>>0;if(d<this.J.length&&0<=d)this.J[d](this.b,this.c,
-1);return!0}return!1}};this.v.Gc(function(){a.v.l.status()==I-1?(a.bj(a.v.b,-1===a.v.c?void 0:a.v.c,-1)||a.mg(a.v.b,a.v.c,-1),a.Cb()):a.Za.ae("260",a.v.b,a.v.c);a.Xa=!1;a.v.reset()});this.v.Gc(function(){a.v.l.status()==I-1?a.cj(a.v.b,a.v.c,a.v.a,a.v.bound.x+0.5*a.v.bound.u):a.Za.ae("220",a.v.b,a.v.c,a.v.a);a.Xa=!1;a.v.reset()});this.v.Gc(function(){a.v.l.status()==I-1?a.Za.ae("220",a.v.b,a.v.c,a.v.a):a.Gd.Ng(a.v.b,a.v.c);a.Xa=!1;a.v.reset()});this.v.Gc(function(){a.v.l.status()==t-1?a.Gd.Ng(a.v.b,
a.v.c):(a.Th(a.v.b,a.v.c),a.Cb());a.Xa=!1;a.v.reset()});this.v.Gc(function(){a.v.l.status()!=t-1&&(a.Gd.Ng(a.v.b,a.v.c),a.v.reset())});this.v.Gc(function(){a.Za.ae("260",a.v.b,a.v.c);a.Xa=!1;a.v.reset()});this.g=new za(this);this.Aa=new Ka(this);this.Tb={l:null,bound:{x:0,y:0,u:0,C:0},set:function(a,c,d,e){if(this.l){if(this.l.a.q==d.q){this.l.x=a;this.l.y=c;this.l.fill=e;return}this.l.a.vb=!1}this.l={x:a,y:c,a:d,fill:e}},tb:function(a){if(this.l){if(a&&this.l.a.q==a.q)return this.l.a.vb=!1,this.l=
null,!1;this.l.a.vb=!1;a||(this.l=null)}return!0},Se:function(a,c){return this.bound.x>a||a>this.bound.x+this.bound.u||this.bound.y>c||c>this.bound.y+this.bound.C},gg:function(a){this.l&&(a&&this.l.a.q==a.q)&&(this.l.a.vb=!1,this.l=null)},ge:function(){return null!==this.l}};this.Va={enable:!0,b:-1,c:-1,ag:function(a,c){if(a!=this.b||c!=this.c)this.b=a,this.c=c,this.update=!0},update:!1};this.Z=new Ja(this);this.Z.Kc=function(){a.Za.Hc("280",this.link);this.Pd()};this.am=null},Rk:function(){this.w=
new Aa(this.d,this);this.wd=new Ba(this.d,this);this.i=new Ea(this,1);this.ia=null},focus:function(a,b){a||(this.wd.onmouseup(b),this.w.onmouseup(b),this.ia.releaseCapture(),this.onmouseup(b,!0),this.$=!0)},lc:W("Gd"),Cd:W("Za"),Gl:W("L"),Ll:W("oj"),Bb:W("Ka"),Dh:function(a){this.zoom=Math.max(0.1,a);this.zoom=Math.min(8,this.zoom);this.G=18*this.zoom;this.j=30*this.zoom;this.Pi=0;this.Md=8*this.zoom;this.Kg=this.Md+"pt "+K;this.Ra=1.5*this.Md;this.i&&this.i.Dh(this.zoom);if(this.f){var b,c,d=this.f.b,
e=d.length;for(a=0;a<e;++a){d[a].Mb=-1;for(b=d[a].c.length-1;0<=b;--b)for(d[a].c[b].update(),c=d[a].c[b].a.length-1;0<=c;--c)d[a].c[b].a[c].update();for(b=d[a].a.length-1;0<=b;--b)d[a].a[b].update()}this.Zd()}},wl:V("Ea"),update:function(){this.d&&(this.r=this.d.canvas.width,this.U=this.d.canvas.height,this.Xc=this.d.canvas.getBoundingClientRect(),this.Ka&&this.Ka.ua.ul(this.U),this.Y?(this.uc=0.5*this.r,this.da=0):(this.da=this.Ka.ua.width,this.uc=0.5*(this.r+this.da)));this.$=this.Jb=!0;this.i.update()},
bg:function(){this.i&&this.i.Db(this.offsetX);this.update()},Zd:function(a){this.w.position=0;this.w.Gb=0;this.Ee=[];this.pd=[];a&&(this.vc=this.Ei(),this.Y||(this.vc+=this.j),a=this.U-this.i.height(),this.w.zc(this.i.height(),a,this.vc+!this.Y*this.j,this.r),this.w.di(),this.ia&&this.wd.Jh(this.ia.Qa),this.Xb=!this.Y*this.i.height(),this.Jb=!1);this.Jb=!0;this.update()},kj:function(){if(this.f){var a,b,c=this.f.b,d=c.length;for(a=0;a<d;++a)for(c[a].Mb=-1,b=0;b<c[a].c.length;++b)c[a].c[b].rb()}this.Jb=
!0;this.update()},yb:function(){this.$=!0;this.Ka&&this.Ka.Bc()},reset:function(){this.f.reset();this.L.reset()},ya:function(){this.H.reset();this.v.reset();this.Z.Ta({x:0,y:0,u:0,C:0})},Cb:function(){this.Tb.tb(null);this.Aa.tb(null)},Uf:function(){this.ia&&this.ia.Uf();this.ja.update();this.Kd();this.ok();if(this.ba&&200===this.Wa){if(this.ba.y<=this.Xb&&0<this.w.value()){if(1E-4>=this.w.value())this.w.yl();else{var a=Math.max(Q(this.w.value()/this.j)*this.j-this.j,1E-4);this.ja.Ib(a)}this.t.mc(!0)}this.U-
this.j<this.ba.y&&(a=(this.w.md()/this.j>>0)*this.j,a=Math.min(Q((this.w.value()+this.j)/this.j)*this.j+this.j,a),this.ja.Ib(a),this.t.mc(!0))}},onmousemove:function(a,b){if(this.td){var c=!1,d=this.Fd(a.clientX,a.clientY);d.altKey=a.altKey;if(this.Bb().ua.width>=d.x)this.ya(),this.ba=d,this.ba.Sg=a;else if(!this.Bb().ua.g.enable&&(this.ba||(this.ba=d),this.ba.x!=d.x||this.ba.y!=d.y||b))if(this.ba=d,this.ba.Sg=a,this.ba.y<=this.Xb)this.Z.onmousemove(d.x,d.y),this.H.onmousemove(d.x,d.y),this.v.onmousemove(d.x,
d.y),this.H.re(d.x,d.y)||this.Z.re(d.x,d.y)||(this.sa.style.cursor="",-1!==this.la&&(this.xa=this.la=-1,this.$=!0));else{this.Xa&&(this.bc.Id=!(d.x==this.bc.x&&d.y==this.bc.y));if(!this.Xa){if(this.wd.onmousemove(d)||this.w.onmousemove(d))return;if(this.w.Ff(d)){this.la=this.xa=-1;this.ya();return}}if(300===this.Wa){if(!this.Ea&&!this.g.enable&&this.n){this.sa.style.cursor="pointer";this.n.update=!0;this.S=this.ba;this.M&&(this.M.I.links.pop(),this.M=void 0);var c=this.ta,d=this.xa,e=this.la,f=null,
g;this.ee(a,!0,a.ctrlKey||a.metaKey);"w-resize"===this.sa.style.cursor&&(this.sa.style.cursor="pointer");this.n.parent=null;-1!=this.ta&&-1!=this.la&&-1===this.xa?(f=this.f.A(this.ta,void 0,this.la),f.o!==t&&this.xa===this.n.c?(this.n.parent=f,this.n.pb=this.Ba(this.n.parent.k)+0.5*Math.abs(this.Ba(this.n.parent.m)-this.Ba(this.n.parent.k))>this.ba.x?-10:10,f.P&&(this.n.pb=-10),g=10===this.n.pb&&10===this.n.nb?1:-10===this.n.pb&&-10===this.n.nb?0:L,this.M={I:f},this.M.pa={},this.M.pa.dependenceTaskId=
f.id(),this.M.pa.linkType=g,this.M.pa.parentTaskId=this.n.I.id(),this.M.pa.type="link",10===this.n.pb&&-10===this.n.nb?(this.M.pa.dependenceTaskId=this.n.I.id(),this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa)):-10===this.n.pb&&10===this.n.nb?f.links.push(this.M.pa):(this.M.pa.dependenceTaskId=this.n.I.id(),this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa)),this.Ha&&(this.Ha.I=f,this.Ha.bf=f.id(),this.Ha.vg=this.n.pb),this.n.gf=this.ta,this.n.ff=
this.xa,this.n.Rf=this.la,this.Oi()?(g=10===this.n.pb&&10===this.n.nb?1:-10===this.n.pb&&-10===this.n.nb?0:L,this.M={I:f},this.M.pa={},this.M.pa.dependenceTaskId=f.id(),this.M.pa.linkType=g,this.M.pa.parentTaskId=this.n.I.id(),this.M.pa.type="link",10===this.n.pb&&-10===this.n.nb?(this.M.pa.dependenceTaskId=this.n.I.id(),this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa)):-10===this.n.pb&&10===this.n.nb?f.links.push(this.M.pa):(this.M.pa.dependenceTaskId=this.n.I.id(),
this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa))):(this.n.gf=-1,this.n.ff=-1,this.n.Rf=-1,this.Ha&&(this.Ha.I=void 0,this.Ha.bf=void 0,this.Ha.vg=void 0),this.sa.style.cursor="")):this.sa.style.cursor=""):-1!=this.ta&&-1!=this.la&&-1!=this.xa?(f=this.f.A(this.ta,this.xa,this.la),f.o!==t&&this.xa===this.n.c?(this.n.parent=f,this.n.pb=this.Ba(this.n.parent.k)+0.5*Math.abs(this.Ba(this.n.parent.m)-this.Ba(this.n.parent.k))>this.ba.x?-10:10,this.n.gf=this.ta,this.n.ff=this.xa,
this.n.Rf=this.la,f.P&&(this.n.pb=-10),g=10===this.n.pb&&10===this.n.nb?1:-10===this.n.pb&&-10===this.n.nb?0:L,this.M={I:f},this.M.pa={},this.M.pa.dependenceTaskId=f.id(),this.M.pa.linkType=g,this.M.pa.parentTaskId=this.n.I.id(),this.M.pa.type="link",10===this.n.pb&&-10===this.n.nb?(this.M.pa.dependenceTaskId=this.n.I.id(),this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa)):-10===this.n.pb&&10===this.n.nb?f.links.push(this.M.pa):(this.M.pa.dependenceTaskId=this.n.I.id(),
this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa)),this.Ha&&(this.Ha.I=f,this.Ha.bf=f.id(),this.Ha.vg=this.n.pb),this.Oi()?(this.M={I:f},this.M.pa={},this.M.pa.dependenceTaskId=f.id(),this.M.pa.linkType=g,this.M.pa.parentTaskId=this.n.I.id(),this.M.pa.type="link",10===this.n.pb&&-10===this.n.nb?(this.M.pa.dependenceTaskId=this.n.I.id(),this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa)):-10===this.n.pb&&10===this.n.nb?f.links.push(this.M.pa):
(this.M.pa.dependenceTaskId=this.n.I.id(),this.M.pa.parentTaskId=f.id(),this.M.I=this.n.I,this.n.I.links.push(this.M.pa))):(this.n.gf=-1,this.n.ff=-1,this.n.Rf=-1,this.Ha&&(this.Ha.I=void 0,this.Ha.bf=void 0,this.Ha.vg=void 0),this.sa.style.cursor="")):this.sa.style.cursor=""):(this.n.gf=-1,this.n.ff=-1,this.n.Rf=-1,this.Ha&&(this.Ha.I=void 0,this.Ha.bf=void 0,this.Ha.vg=void 0),this.sa.style.cursor="");this.ta=c;this.xa=d;this.la=e;this.$=!0;return}}else if(200===this.Wa&&!this.Ea){this.S=d;this.ka.y=
(d.y/this.j>>0)*this.j+0.5*(this.j-this.G);this.Ii(a);this.Ih=!0;this.Bb().gd();return}if(this.Aa.l){if(this.Aa.Xg(d.x,d.y)){this.sa.style.cursor="pointer";return}this.sa.style.cursor="";if(!this.Ea&&!this.Aa.Se(d.x,d.y)){this.ya();this.sa.style.cursor="";return}}if(!this.Tb.l||this.Ea||this.Tb.Se(d.x,d.y))if(this.H.re(d.x,d.y))this.S=this.ba,this.$=!0,this.H.ni=!0,this.ta=this.H.b,this.xa=this.H.c,this.la=this.H.a,this.H.ni=!1,this.v.reset(),this.Z.reset(),this.H.onmousemove(d.x,d.y);else if(this.v.re(d.x,
d.y))this.S=this.ba,this.$=!0,this.ee(a,!0,a.ctrlKey||a.metaKey),this.ta=this.H.b,this.xa=this.H.c,this.la=this.H.a,this.H.reset(),this.Z.reset(),this.v.onmousemove(d.x,d.y);else if(this.Z.re(d.x,d.y))this.S=this.ba,this.$=!0,this.v.reset(),this.H.reset(),this.Z.onmousemove(d.x,d.y);else if(this.g.enable&&!this.bd)this.g.onmousemove(d),this.sa.style.cursor=this.g.$b&&this.g.Yb&&5>Math.abs(d.x-(this.g.bound.x+this.g.bound.u))&&d.y>this.g.bound.y+this.g.bound.C&&d.y<this.g.bound.y+this.g.bound.C+this.j?
"w-resize":(5>Math.abs(this.g.bound.x-d.x)||5>Math.abs(this.g.bound.x+this.g.bound.u-d.x))&&this.g.bound.y<=d.y&&d.y<=this.g.bound.y+this.g.bound.C?"w-resize":this.g.Ze(d.x,d.y)&&d.x>this.da||this.g.qe?"text":"";else if(c=this.i.fb,this.Xa){c=24;f=(d.x-this.i.R*this.offsetX)/(this.i.R*c)*c*this.i.B+this.Pc.x;e=this.Zf?(f/c>>0)*c:f;if(this.Yb)this.X=this.Yb.b,this.qa=this.Yb.c,this.oa=this.Yb.a,this.sb=10;else if(1===a.which&&!this.g.enable&&this.g.qe)return;g=0.75*this.r;var k,c=!1;-1!==this.X&&(c=
0!==this.f.lb(this.X).status());if(-1===this.X||-1===this.oa||-1!==this.qa||this.Ea||c)if(-1==this.X||-1==this.oa||-1===this.qa||this.Ea||c)-1==this.X||-1!==this.oa||-1===this.qa||this.Ea||c?(this.bd=!1,this.bd=a.buttons?2==a.buttons:2===a.button,this.offsetX+=(d.x-this.S.x)/this.i.R,this.offsetX=Math.max(this.offsetX,this.ia.cf()),this.offsetX=Math.min(this.offsetX,this.ia.df()),this.i&&this.i.Db(this.offsetX),this.zi&&this.w.nh(((d.y-this.S.y)/this.j>>0)*this.j-1E-4),this.ia&&this.wd.Jh(this.ia.Qa)):
(g=this.f.ma(this.X,this.qa))&&!g.Ac&&(0<=f&&(e+=24),g.Tc(e));else{if(c=this.f.A(this.X,this.qa,this.oa),void 0!==c&&t!=c.o&&(!this.g.enable||this.g.Yb)){if(0!==this.S.y-d.y&&!this.Le&&!this.g.enable&&0===this.sb){f=this.i.R/this.i.B;d=c.duration*f;e=this.Pc.x*f;g=c.duration;k=this.S.x;c.P&&(g=-e/f,f=this.Ba(c.k),d=this.r-45,f>this.da-1?d=this.r-45-f:(d=0.75*this.r-this.da,e=0,k=this.da));this.ka={x:k,y:this.S.y,width:d,height:this.G,Ld:0,Ic:e,time:g,ng:c.P};this.K={a:this.oa,c:this.qa,b:this.X};
this.Ab=this.ta=this.xa=this.la=this.sb=this.X=this.qa=this.oa=-1;this.Xa=!1;this.$=!0;this.Wa=200;return}this.Le=!0;g=this.f.ma(this.X,this.qa);-10===this.sb?(0>=f&&(e-=24),c.Yd(e,g.m)):10===this.sb?(0<=f&&(e+=24),c.Tc(e),c.P=!1):(c.P&&c.Tc(g.m),c.Db(e),c.P=!1,this.Da&&this.Da&&(this.Da.right&&this.Da.right.ud(c,function(a,b){a&&b&&(a.q!==b.q&&a.m>b.k)&&(b.Db(a.m),b.change=!0)}),this.Da.left&&this.Da.left.ud(c,function(a,b){a&&b&&(a.q!==b.q&&a.k<b.m)&&(b.Db(a.k-(b.m-b.k)),b.change=!0)})));this.f.ma(this.X,
this.qa).rb();this.bc.Id&&this.Aa.gg(c)}}else if(c=this.f.b[this.X].a[this.oa],void 0!==c&&t!=c.o&&(!this.g.enable||this.g.Yb)){if(0!==this.S.y-d.y&&!this.Le&&!this.g.enable&&0===this.sb){f=this.i.R/this.i.B;d=c.duration*f;e=this.Pc.x*f;g=c.duration;k=this.S.x;c.P&&(g=-e/f,f=this.Ba(c.k),d=this.r-45,f>this.da-1?d=this.r-45-f:(d=0.75*this.r-this.da,e=0,k=this.da));this.ka={x:k,y:this.S.y,width:d,height:this.G,Ld:0,Ic:e,time:g,ng:c.P};this.K={a:this.oa,c:this.qa,b:this.X};this.Ab=this.ta=this.xa=this.la=
this.sb=this.X=this.qa=this.oa=-1;this.Xa=!1;this.$=!0;this.Wa=200;return}this.Le=!0;-10===this.sb?(0>=f&&(e-=24),c.Yd(e)):(10===this.sb?(0<=f&&(e+=24),c.Tc(e)):(c.P&&(f=this.Ba(c.k),g=this.r-45,f<=this.da-1&&(g=0.75*this.r),f=24*Math.floor(this.Nh(g)/24),c.Tc(f)),c.Db(e)),c.P=!1);this.Da&&this.Da&&(this.Da.right&&this.Da.right.ud(c,function(a,b){a&&b&&(a.q!==b.q&&a.m>b.k)&&(b.Db(a.m),b.change=!0)}),this.Da.left&&this.Da.left.ud(c,function(a,b){a&&b&&(a.q!==b.q&&a.k<b.m)&&(b.Db(a.k-(b.m-b.k)),b.change=
!0)}));this.f.b[this.X].Ec();this.bc.Id&&this.Aa.gg(c)}this.S=d;this.$=!0;this.xa=this.la=-1;this.Tb.tb(null);this.Aa.tb(null);this.ya();this.ia&&(this.ia.Cc=!0)}else if(e=this.la,f=this.ta,this.ee(a,!0,a.ctrlKey||a.metaKey),this.S=this.ba,c=!1,-1!==this.ta&&(c=0!==this.f.lb(this.ta).status()),this.Ea){if(e!=this.la||f!=this.ta||this.Va.update)this.$=!0,this.Va.update=!1}else{if(0===this.Ab)this.H.set(this.ta,this.xa,this.la,this.f.Ok(this.ta,this.xa,this.la),d.x,d.y),-1==this.ta&&this.H.reset(),
-1!==this.Va.c&&this.v.set(this.Va.b,this.Va.c,this.f.ma(this.Va.b,this.Va.c)),-1===this.Va.b&&this.v.reset();else if(-10===this.Ab||10===this.Ab)this.H.reset(),this.v.reset(),t===this.H.o||c||(this.sa.style.cursor="w-resize");if(-1===e&&-1===this.la)this.Z.onmousemove(d.x,d.y);this.H.onmousemove(d.x,d.y)&&this.Z.reset();this.v.onmousemove(d.x,d.y)&&this.Z.reset();e!=this.la||f!=this.ta||this.Va.update?(this.Va.update?this.sh||(this.Ka.Mg(this.Va.b,this.Va.c,void 0),-1!==this.Va.c&&this.v.set(this.Va.b,
this.Va.c,this.f.ma(this.Va.b,this.Va.c))):this.g.enable?this.Ka.Mg(this.g.b,-1==this.g.c?void 0:this.g.c,-1==this.g.a?void 0:this.g.a):this.Ka.Mg(this.ta,-1==this.xa?void 0:this.xa,-1==this.la?void 0:this.la),this.$=!0,this.Va.update=!1):this.Bb().fi()}else this.ya(),this.sa.style.cursor=""}}},onmousedown:function(a){if(this.td){this.Le=!1;this.ja.stop();this.ia&&this.ia.releaseCapture();var b=null;this.oa=-1;this.sb=0;this.V=this.Fd(a.clientX,a.clientY);this.bc={x:this.V.x,y:this.V.y,Id:!1};if(this.Ka.ua.g.enable)this.Ka.ua.g.Ze(a)||
this.Ka.gd();else if(!this.wd.onmousedown(this.V)&&!this.w.onmousedown(this.V)){this.rh=0;this.S={x:this.V.x,y:this.V.y};if(this.Aa.l){if(!this.Aa.Se(this.bc.x,this.bc.y)){this.Aa.Xg(this.bc.x,this.bc.y)&&this.Aa.Bh("tasks.aspx?prjID="+this.Aa.l.a.Vc+"&id="+this.Aa.l.a.q);this.ya();this.sa.style.cursor="";return}this.$=!0}if(this.Tb.l&&!this.Tb.Se(this.bc.x,this.bc.y))this.ya(),this.sa.style.cursor="";else if(this.Xa=!0,a.buttons?this.bd=2==a.buttons:(this.bd=2===a.button,this.bd||(this.il=1===a.button)),
!(this.Z.onmousedown(this.S.x,this.S.y)||this.H.onmousedown(this.S.x,this.S.y)||this.v.onmousedown(this.S.x,this.S.y)||this.ba.y<=this.Xb)){this.ee(a,!this.g.enable,a.ctrlKey||a.metaKey);if(this.g.enable){if(this.g.b===this.ta&&this.g.c===this.xa&&this.g.a===this.la){this.oa=this.la;this.qa=this.xa;this.X=this.ta;this.sb=this.Ab;this.g.onmousedown(this.S);return}if(-1!==this.g.b&&(-1!==this.g.c&&-1===this.g.a)&&(this.g.onmousedown(this.S),this.g.Ze(this.S.x,this.S.y)))return;this.g.onmousedown(this.S);
if(this.g.qe){this.X=this.qa=this.oa=this.la=this.xa=this.ta=-1;return}}this.oa=this.la;this.qa=this.xa;this.X=this.ta;this.sb=this.Ab;this.Oa&&(this.T=this.Oa);if(this.Ha)this.qj()&&(this.Wa=300),this.$=!0;else if(-1===this.v.b&&-1===this.v.c&&this.bd&&-1===this.X&&-1===this.oa&&-1===this.qa)this.Pc={x:0,y:0},this.jb&&this.T||this.Oa?this.Za.Hc("280",this.Oa?this.Oa:this.T):this.g.enable||(this.Qe(a)?-1!==this.ca.b&&0===this.f.lb(this.ca.b).status()&&(b=this.ca.a+1,-1!==this.ca.c&&this.f.ma(this.ca.b,
this.ca.c).Mc(!1),this.f.b[this.ca.b].Rb&&this.f.b[this.ca.b].Wf(!1),a.ctrlKey||a.metaKey?(this.yb(),this.Jb=!0,this.Kd(),this.Yj(this.ca.b,this.ca.Xh?this.ca.Xh:this.ca.c)):(this.f.b[this.ca.b].collapse&&-1===this.ca.c&&(this.f.b[this.ca.b].Mc(!1),this.yb(),this.Jb=!0,this.Kd()),this.ig(this.ca.b,this.ca.c,b),this.Yb={b:this.ca.b,c:this.ca.c,a:b})):this.V.y>this.Xb&&(this.f.b.length&&0===this.f.lb(0).status())&&(this.f.b[0].Mc(!1),b=this.f.b[0].a.length,this.ig(0,-1,b),this.Yb={b:0,c:-1,a:b})),this.ya(),
this.Cb();else if(a.ctrlKey||a.metaKey){if(-1!=this.X&&(-1!=this.oa&&-1===this.qa)&&(b=this.f.A(this.X,void 0,this.oa)),-1!=this.X&&(-1!=this.oa&&-1!=this.qa)&&(b=this.f.A(this.X,this.qa,this.oa)),b&&t!=b.o&&(a.ctrlKey||a.metaKey)){var c=this.i.R/this.i.B;a=b.duration*c;var d=this.Pc.x*c,e=b.duration,f=this.S.x;b.P&&(e=-d/c,c=this.Ba(b.k),a=this.r-45,c>this.da-1?a=this.r-45-c:(a=0.75*this.r-this.da,d=0,f=this.da));this.ka={x:f,y:this.S.y,width:a,height:this.G,Ld:0,Ic:d,time:e,ng:b.P};this.K={a:this.oa,
c:this.qa,b:this.X};this.Ab=this.ta=this.xa=this.la=this.sb=this.X=this.qa=this.oa=-1;this.Xa=!1;this.$=!0;this.Wa=200}}else if(!this.g.enable){this.$=!0;var b=null,e=d=a=-1,g=[];if(-1!==this.X&&-1!==this.oa&&-1===this.qa&&!this.Ea){if(b=this.f.b[this.X].a[this.oa],t!==b.o){a=this.f.b[this.X].q;e=this.f.b[this.X].a[this.oa].q;if(this.Da=this.Za.$g(this.X,void 0,e))this.Da.right&&this.Da.right.ud(b,function(a,b,c){c&&g.push(c)}),this.Da.left&&this.Da.left.ud(b,function(a,b,c){c&&g.push(c)});this.L.Uh(100,
{b:this.X,c:void 0,a:b,index:this.oa,ha:e,fa:void 0,ga:a,Nc:!0,Da:g})}}else if(-1==this.X||-1==this.oa||-1===this.qa||this.Ea)-1==this.X||-1!==this.oa||-1===this.qa||this.Ea?this.T&&(this.$=!0):(b=this.f.$c(this.X,this.qa),this.L.add(200,{b:this.X,c:this.qa,a:this.f.ma(this.X,this.qa),index:this.qa,ha:void 0,fa:b.c,ga:b.b,Nc:!0}),this.L.add(999,null));else if(b=this.f.A(this.X,this.qa,this.oa),t!==b.o){a=this.f.b[this.X].q;d=this.f.b[this.X].c[this.qa].q;e=this.f.b[this.X].c[this.qa].a[this.oa].q;
if(this.Da=this.Za.$g(this.X,this.qa,e))this.Da.right&&this.Da.right.ud(b,function(a,b,c){c&&g.push(c)}),this.Da.left&&this.Da.left.ud(b,function(a,b,c){c&&g.push(c)});this.L.Uh(100,{b:this.X,c:this.qa,a:b,index:this.oa,ha:e,fa:d,ga:a,Nc:!0,Da:g})}}}}}},onmouseup:function(a,b){if(this.td){this.Le=!1;var c;c=!1;var d,e=!1,f=this.bc.Id;this.Yb=null;this.Jf=!0;this.Xa=!1;this.V=this.Fd(a.clientX,a.clientY);if(this.rh)this.rh--,this.ya(),this.$=!0;else if(!(b||(this.Aa.l&&this.Aa.href&&(!this.Aa.Se(this.V.x,
this.V.y)&&this.Aa.Xg(this.V.x,this.V.y))&&(y.open(this.Aa.href),this.Aa.Bh(null)),this.Aa.Bh(null),this.bc.y<=this.Xb)))if(300===this.Wa)this.Vh(),this.v.b=-1,this.X=this.v.c=-1,this.Da=null,this.sb=this.X=this.qa=this.oa=-1;else if(200===this.Wa)this.t.mc(!0),this.Xi(a),this.yb();else if(this.g.enable)this.g.onmouseup(this.Fd(a.clientX,a.clientY));else if(this.v.reset(),this.H.reset(),this.g.qe&&3!==a.which)this.g.onmouseup(this.V);else{this.bc={x:this.V.x,y:this.V.y,Id:this.bc.Id};this.ee(a,!0);
-1!==this.Va.b&&(-1!==this.Va.c&&-1===this.la)&&(this.ta=this.Va.b,this.xa=this.Va.c);this.xd&&(this.ja.Lc(this.f.A(this.xd.b,this.xd.c,this.xd.a).k),this.xd=null,this.ya(),this.sa.style.cursor="");if(-1!==this.X&&-1!==this.oa&&-1!==this.qa){c=0!==this.f.lb(this.X).status();d=this.f.A(this.X,this.qa,this.oa);if(this.bd&&!b&&!c){-1!==this.la&&(this.J["502"]&&!this.Ea)&&(this.Za.O={b:this.X,c:this.qa,a:this.oa,na:this.f.jc(this.X,this.qa,this.oa),fc:!0,I:d,l:d},c={left:a.clientX-this.d.canvas.offsetLeft,
top:this.Jd+this.d.canvas.offsetTop},this.Cb(),this.J["502"](c,d,!0,this.f.lb(this.X).id()));this.v.b=-1;this.v.c=-1;this.Da=null;this.sb=this.X=this.qa=this.oa=-1;this.ya();this.Bb().gd();return}f?(this.L.Wh(),this.L.kc(!0,d,this.Da)):(this.Aa.tb(d)&&(d.vb=!d.vb,d.vb&&this.Tb.tb(null),e=!0),this.L.li());this.v.b=-1;this.v.c=-1;this.Da=null;this.Bb().kf(this.w.value())}if(-1!==this.X&&-1!==this.oa&&-1===this.qa){c=0!==this.f.lb(this.X).status();d=this.f.A(this.X,void 0,this.oa);if(this.bd&&!b&&!c){-1!==
this.la&&(this.J["502"]&&!this.Ea)&&(this.Za.O={b:this.X,c:void 0,a:this.oa,na:this.f.jc(this.X,void 0,this.oa),fc:!0,I:d,l:d},c={left:a.clientX-this.d.canvas.offsetLeft,top:this.Jd+this.d.canvas.offsetTop},this.Cb(),this.J["502"](c,d,!0,this.f.lb(this.X).id()));this.v.b=-1;this.v.c=-1;this.Da=null;this.sb=this.X=this.qa=this.oa=-1;this.ya();this.Bb().gd();return}f?(this.L.Wh(),this.L.kc(!0,d,this.Da)):(this.Aa.tb(d)&&(d.vb=!d.vb,d.vb&&this.Tb.tb(null),e=!0),this.L.li());this.v.b=-1;this.X=this.v.c=
-1;this.Da=null;this.Bb().kf(this.w.value())}if(-1!==this.v.b&&-1!==this.v.c){c=0!==this.f.lb(this.v.b).status();d=this.f.ma(this.v.b,this.v.c);if(this.bd&&!b&&!c){this.J["502"]&&!this.Ea&&(this.Za.O={b:this.v.b,c:this.v.c,a:void 0,na:this.f.$c(this.v.b,this.v.c),fc:!1,gb:d,l:d},c={left:a.clientX-this.d.canvas.offsetLeft,top:this.jd(this.v.b,this.v.c,-1)+this.d.canvas.offsetTop-this.w.value()},this.Cb(),this.J["502"](c,d,!1,this.f.lb(this.v.b).id()));this.v.b=-1;this.v.c=-1;this.Da=null;this.sb=this.X=
this.qa=this.oa=-1;this.ya();this.Bb().gd();return}f||(d.vb=!d.vb,d.vb?this.Aa.tb(null):this.Tb.tb(null),e=!0);this.v.b=-1;this.v.c=-1;this.Bb().kf(this.w.value())}-1!==this.X&&(-1===this.oa&&-1!==this.qa)&&(f?this.L.Bi()&&this.L.kc(!0,this.f.ma(this.X,this.qa)):this.L.Bi()&&this.L.Qb(0),this.v.b=-1,this.v.c=-1,this.Bb().kf(this.w.value()));this.bc.Id&&(e=!0);this.oa=-1;this.sb=0;this.qa=-1;this.bc.Id=!0;this.Da=null;this.wd.onmouseup(a)||this.w.onmouseup(a)||(e||(this.Tb.tb(null),this.Aa.tb(null)),
this.Jf=this.$=!0)}}},ondblclick:function(a){if(this.td&&(this.Xa=!1,!a.ctrlKey&&!a.metaKey))if(this.g.enable)this.g.ondblclick(this.Fd(a.clientX,a.clientY));else this.ee(a),this.V=this.Fd(a.clientX,a.clientY),this.wd.onmousedown(this.V)||this.w.onmousedown(this.V)||-1!==this.xa&&-1!==this.la||this.H.tb(this.V.x,this.V.y)||this.v.tb(this.V.x,this.V.y)},onmousewheel:function(a){if(this.td){var b=0;300==this.Wa&&(b=this.w.value());this.Cb();if(a.altKey)200!==this.Wa&&(a=a||y.event,b=a.deltaY||a.detail||
a.wheelDelta,a.deltaY&&(b*=-1),a.detail&&(b*=-1),this.dm(this.zoom-(b/Math.abs(b)>>0)),this.ee(a,!0),this.ia&&(this.ia.Cc=!0));else{var c=!0;if(void 0!==a.wheelDeltaX){var d=0,e=this.ia.cf(),d=this.ia.df();0<a.wheelDeltaX&&(d-=this.offsetX,0<d&&(this.Cb(),this.ya(),this.t.mc(!0),this.sa.style.cursor="",d=Math.min(Math.abs(d),0.1*(this.r/this.i.R)),this.ja.uf(-d)),c=!1);0>a.wheelDeltaX&&(d=e-this.offsetX,0>d&&(this.Cb(),this.ya(),this.t.mc(!0),this.sa.style.cursor="",d=Math.min(Math.abs(d),0.1*(this.r/
this.i.R)),this.ja.uf(d)),c=!1)}if(c)this.w.onmousewheel(a);300==this.Wa&&(this.n.Ce+=b-this.w.value());this.ee(a,!0);this.Z.qb(this.Oa);a=this.Fd(a.clientX,a.clientY);this.H.set(this.ta,this.xa,this.la);0<this.H.bound.u&&0<this.H.bound.C&&this.H.tb(a.x,a.y);0<this.v.bound.u&&0<this.v.bound.C&&this.v.tb(a.x,a.y)}}},onkeypress:function(a){if(this.td)if(this.g.enable)this.g.onkeypress(a);else if(!this.Ka.ua.g.enable){a=y.event||a;var b=a.keyCode?a.keyCode:a.which?a.which:a.charCode;(a.ctrlKey||a.metaKey)&&
26==b&&this.L.ij();(a.ctrlKey||a.metaKey)&&25==b&&this.L.$i()}},onkeydown:function(a){if(this.td)if(this.g.enable)this.g.onkeydown(a);else if(!this.Ka.ua.g.enable){a=y.event||a;var b=a.keyCode?a.keyCode:a.which?a.which:a.charCode;this.dh=0;var c=!1,d=0,e=(this.w.md()/this.j>>0)*this.j,d=0,d=this.ia.cf(),f=this.ia.df();switch(b){case 191:(a.ctrlKey||a.metaKey)&&a.shiftKey&&(this.zh=!this.zh,this.$=!0);break;case 40:c=!0;d=this.Y?this.w.value()+40:((this.w.value()+this.j)/this.j+0.5>>0)*this.j-1E-4;
this.ja.Ib(Math.min(d,e-1E-4),void 0,!this.Y);break;case 38:c=!0;d=this.Y?this.w.value()-40:((this.w.value()-this.j)/this.j+0.5>>0)*this.j-1E-4;this.ja.Ib(Math.max(d,1E-4),void 0,!this.Y);break;case 33:c=!0;this.Y?this.ja.Ib(Math.max(this.w.Wg(1)*this.w.step,1E-4)):(e=this.w.value(),a=(this.U-this.i.height())/this.j+0.5,d=((e-(a>>0)*this.j)/this.j>>0)*this.j-1E-4,this.ja.Ib(Math.max(d,1E-4)));break;case 34:c=!0;this.Y?this.ja.Ib(Math.min(this.w.Wg(-1)*this.w.step,this.w.md()-1E-4)):(a=this.w.value(),
b=(this.U-this.i.height())/this.j+0.5,d=((a+(b>>0)*this.j)/this.j>>0)*this.j-1E-4,this.ja.Ib(Math.min(d,e-1E-4)));break;case 36:c=!0;this.w.Zi(1,"end");break;case 35:c=!0;this.Y?this.w.Zi(-1,"home"):this.ja.Ib(e-1E-4,void 0,!0);break;case 37:d=f-this.offsetX;if(0<d){if(200===this.Wa)return;this.Cb();this.ya();this.t.mc(!0);this.sa.style.cursor="";d=Math.min(Math.abs(d),0.1*(this.r/this.i.R));this.ja.uf(-d)}break;case 39:if(d-=this.offsetX,0>d){if(200===this.Wa)return;this.Cb();this.ya();this.t.mc(!0);
this.sa.style.cursor="";d=Math.min(Math.abs(d),0.1*(this.r/this.i.R));this.ja.uf(d)}}c&&(this.ya(),this.Cb(),this.Te=!0)}},onkeyup:function(a){this.td&&(this.Ea||(a.ctrlKey||a.metaKey)||this.Vh())},onpaste:function(a){if(this.td&&this.g.enable)this.g.onpaste(a)},oncopy:function(a){if(this.td&&this.g.enable)this.g.oncopy(a)},Kd:function(a){if(this.$&&(this.$=!1,this.d)){this.r=this.d.canvas.width;this.U=this.d.canvas.height;this.Xc=this.d.canvas.getBoundingClientRect();this.Y?(this.uc=0.5*this.r,this.da=
0):(this.da=this.Ka.ua.width,this.uc=0.5*(this.r+this.da));this.Dc=this.i.R/this.i.B;this.ye=this.i.R*this.offsetX;if(this.Jb){this.vc=this.Ei();this.Y||(this.vc+=this.j);var b=this.U-this.i.height();this.w.zc(this.i.height(),b,this.vc+!this.Y*this.j,this.r);this.w.di();this.Xb=!this.Y*this.i.height();this.Jb=!1;this.Ka&&this.Ka.kf(this.w.value())}this.ia&&this.wd.Jh(this.ia.Qa,this.r,this.U);this.i.refresh();this.d.clearRect(0,0,this.r,this.U);this.Dc=this.i.R/this.i.B;this.ye=this.i.R*this.offsetX;
this.scrollY=this.w.value()>>0;this.Ek();this.i.vk();this.i.te();this.pk();this.lk();this.Fk();this.Y&&(this.d.save(),this.d.rect(0,this.i.height()+2*this.Pi,this.r,this.U),this.d.clip());this.Bk();this.Y&&this.d.restore();this.Ak();void 0===a&&(this.w.refresh(),this.wd.refresh());1<this.d.canvas.width-this.r&&(this.d.fillStyle="#ffffff",this.d.fillRect(this.r,0,this.d.canvas.width-this.r,this.U));this.Jl();this.Rh&&(this.d.fillStyle="rgba(255,255,255,0.7)",this.d.fillRect(0,0,this.r,this.U));this.zh&&
(this.d.font="Bold 10pt "+K,this.d.fillStyle="#000000",this.d.fillText("v1.0.1.205",this.r-70,this.U-15))}},Bk:function(){var a,b;b=this.i.height()>>0;var c;c=this.w.value()>>0;this.d.font=this.Kg;this.ec.hl();this.g.Tg=!1;this.Ee=[];var d=this.f.b,e=d.length;for(a=0;a<e;++a){var f=d[a].a.length;this.Ee.push(b-c+0.5*this.j);b+=this.j;if(!d[a].Rb){this.d.strokeStyle="#CCCCCC";this.d.lineWidth=1;b+=0.5*(this.j-this.G);b=a===this.X?this.wi(d[a],b,this.oa,c,a):this.wi(d[a],b,-1,c,a);if(b-c>this.U)break;
b-=0.5*(this.j-this.G);0===f&&(b+=this.j)}}this.g.Tg||this.g.Ta(0,0,0,0,!0)},wi:function(a,b,c,d,e){var f,g,k=!1,m=!1,h=a.c,u,l=h.length;for(c=0;c<l;++c)if(g=h[c].a.length,!h[c].filter){u=g;for(f=g-1;0<=f;--f)h[c].a[f].filter&&--u;this.ec.hk(e,c,-1,b-d+3);this.ec.xk(h[c],b,e,c,u);if(b-d>this.U){m=!0;break}b+=this.j;0<b-d+g*this.j&&b-d<this.U&&(!this.Y&&!h[c].collapse||this.Y)&&this.ec.ti(h[c].a,this.ye,b,d);0===g&&this.Y&&(b+=this.j);if(this.Y||!h[c].collapse)for(f=0;f<g;++f)h[c].a[f].filter||(this.ec.ik(e,
c,f,b-d+3),this.ec.yi(h[c].a[f],b,k,e,c,f,h[c].a),b+=this.j)}if(m)return b;if(g=a.a.length){c=-1;this.Y&&(b+=this.G);k=!0;if(!this.Y&&(b+=this.j,a.collapse))return b;b-d<this.U&&(!this.Y&&!a.collapse||this.Y)&&this.ec.ti(a.a,this.ye,b,d);for(f=0;f<g;++f)a.a[f].filter||(this.ec.gk(e,c,f,b-d+3),this.ec.yi(a.a[f],b,k,e,c,f,a.a),b+=this.j)}return b},Ak:function(){function a(a,b,c){if(!a||0===a.length)return{Bd:[],width:0};b||(b=a);var e=[],f=0;b=Math.max(d.d.measureText(a).width,d.d.measureText(b).width)/
d.zoom;if(b>X){var g;b=b>2*ia?ia:X;var l=[],r="",n=a.length,t=0;for(g=0;g<n;++g)"\n"===a[g]&&(l.push(a.slice(t,g)),l.push("\n"),++g,t=g)," "===a[g]&&t!==g&&(l.push(a.slice(t,g)),t=g),g==n-1&&t!==g&&l.push(a.slice(t,g+1));n=l.length;for(a=0;a<n;++a){g=r+l[a];t=d.d.measureText(g).width/d.zoom;if(d.d.measureText(l[a]).width/d.zoom>b){r=l[a].slice(0,25).replace(/^\s+/,"")+"...";e.push(r);f=Math.max(d.d.measureText(r).width/d.zoom,f);break}if("\n"===l[a])r=r.replace(/^\s+/,""),e.push(r),f=Math.max(d.d.measureText(r).width/
d.zoom,f),r="";else if(t>b?(r=r.replace(/^\s+/,""),e.push(r),f=Math.max(d.d.measureText(r).width/d.zoom,f),r=l[a]):r=g,a==n-1&&(r=r.replace(/^\s+/,""),e.push(r),f=Math.max(d.d.measureText(r).width/d.zoom,f)),e.length>c-1&&-1!==c){2<e[e.length-1].length&&" "==e[e.length-1][e[e.length-1].length-2]&&(e[e.length-1]=e[e.length-1].slice(0,-2));e.push("...");break}}}else e.push(a),f=X;f+=2*d.Ie;return{Bd:e,width:f*d.zoom}}function b(){var a=La==f.fill,b=ua==f.fill;f.x=Math.max(d.da+(0<d.da?5:0),f.x);var c=
f.x+d.Ie*d.zoom,g=Math.max(f.a.Xd.width,f.a.nc.width),l=f.a.Xd.Bd.length*d.Ra,l=l+f.a.nc.Bd.length*d.Ra,l=l+0.5*d.Ra,t=f.a.gj();a&&(l+=d.Ra);f.a.Of&&f.a.Of.length&&(l+=1.5*d.Ra);t&&(l+=1.5*d.Ra);var l=l+1.5*d.Ra,l=l+1.5*d.Ra,l=l+2.2*d.Ra,l=l/d.zoom,s=f.a.mh()+" - "+f.a.pg();0<f.a.m&&!b&&(s+=" ("+y.Gantt.Localize_strings.statusOpenTask+")");b&&(s+=" ("+y.Gantt.Localize_strings.statusClosedTask+")");g=Math.max((d.d.measureText(s).width+2*d.Ie)*d.zoom,g);b="";a&&(b=y.Gantt.Localize_strings.taskOverdueText.format(f.a.ki()),
g=Math.max((d.d.measureText(b).width+2*d.Ie)*d.zoom,g));d.Aa.bound.x=Math.max(1,f.x);d.Aa.bound.y=f.y;d.Aa.bound.u=g;d.Aa.bound.C=l;d.d.fillStyle=U;d.d.fillRect(f.x,f.y,g,l*d.zoom);d.d.strokeStyle=f.fill;d.d.lineWidth=1;d.d.strokeRect(Math.floor(f.x)+0.5,Math.floor(f.y)+0.5,Math.floor(g),Math.floor(l*d.zoom+1));d.d.fillStyle="#000000";d.d.strokeStyle="#000000";g=f.y+d.Ra+1;for(e=0;e<f.a.Xd.Bd.length;++e)d.d.fillText(f.a.Xd.Bd[e],f.x+d.Ie*d.zoom,g),g+=d.Ra;g+=0.5*d.Ra;d.d.fillStyle=a?f.fill:"#000000";
d.d.fillText(s,c,g);a&&(g+=d.Ra,d.d.fillText(b,c,g));d.d.fillStyle=wa;t&&(g+=1.5*d.Ra,d.d.fillText(t+" "+(1==t?y.Gantt.Localize_strings.taskDescSubtask:y.Gantt.Localize_strings.taskDescSubtasks),c,g));g+=1.5*d.Ra;a=f.a.$a.length;0<a?(t=f.a.Of,t=1<a?y.Gantt.Localize_strings.responsibles.format(a):y.Encoder.htmlDecode(f.a.$a[0].displayName),d.d.fillText(t,c,g)):d.d.fillText(y.Gantt.Localize_strings.noResponsible,c,g);g+=1.5*d.Ra;for(e=0;e<f.a.nc.Bd.length;++e)d.d.fillText(f.a.nc.Bd[e],c,g),g+=d.Ra;
g+=0.5*d.Ra;a=y.Gantt.Localize_strings.details;d.d.fillText(a,c,g);d.d.beginPath();d.d.strokeStyle=xa;d.d.lineWidth=Math.floor(d.zoom);d.d.moveTo(Math.floor(c)+0.5,Math.floor(g+0.15*d.Ra)+0.5);d.d.lineTo(Math.floor(c+d.d.measureText(a).width)+0.5,Math.floor(g+0.15*d.Ra)+0.5);d.d.stroke();d.Aa.Ad.x=c;d.Aa.Ad.y=g-14;d.Aa.Ad.u=d.d.measureText(a).width;d.Aa.Ad.C=14}function c(){var a=va===g.fill,b=ga===g.fill,c=Math.max(g.a.nc.width,X*d.zoom);g.x=Math.min(g.x,d.r-5);var f=g.x+d.Ie*d.zoom-c,l=g.a.nc.Bd.length*
d.Ra,l=l+0.5*d.Ra;g.a.a.length&&(l+=1.25*d.Ra);g.a.$a&&(l+=1.5*d.Ra);l+=2*d.Ra;d.Tb.bound.x=g.x-c;d.Tb.bound.y=g.y;d.Tb.bound.u=c;d.Tb.bound.C=l;d.d.fillStyle=U;d.d.fillRect(g.x,g.y,-c,l);d.d.strokeStyle=g.fill;d.d.lineWidth=1;d.d.strokeRect(Math.floor(g.x)+0.5,Math.floor(g.y)+0.5,-Math.floor(c),Math.floor(l+1));c=g.y+1.25*d.Ra;l=g.a.pg();0<g.a.m&&!b&&(l+=" ("+y.Gantt.Localize_strings.statusOpenMilestone+")");b&&(l+=" ("+y.Gantt.Localize_strings.statusClosedMilestone+")");d.d.fillStyle=a?g.fill:"#000000";
a&&(l+=" ("+y.Gantt.Localize_strings.overdue+")");d.d.fillText(l,f,c);g.a.a.length&&(c+=1.25*d.Ra,d.d.fillStyle=d.Ml,d.d.fillText(g.a.a.length+" "+y.Gantt.Localize_strings.tasks,f,c));d.d.fillStyle=d.Ml;g.a.$a&&(c+=1.5*d.Ra,d.d.fillText(y.Encoder.htmlDecode(g.a.$a.displayName),f,c));c+=1.5*d.Ra;for(e=0;e<g.a.nc.Bd.length;++e)d.d.fillText(g.a.nc.Bd[e],f,c),c+=d.Ra}var d=this,e=0,f=this.Aa.l;f&&(null==f.a.Xd&&(f.a.Xd=a(f.a.Q,f.a.dc,10)),null==f.a.nc&&(f.a.nc=a(f.a.dc,f.a.Q,10)),b());var g=this.Tb.l;
g&&(null==g.a.nc&&(g.a.nc=a(g.a.dc,-1)),c())},lk:function(){if(3===this.i.Kb){var a=(this.Ba(0)>>0)+0.5;this.t.uk(a,0,a,this.U,"#97b8fa",1)}},pk:function(){if(!this.Y){var a=this.w.value()%this.j,b=this.i.height()-a,c=this.vc-this.w.value();if(c<b)this.d.beginPath(),this.d.strokeStyle="#CCCCCC",this.d.lineWidth=1,this.d.moveTo(0,this.j+0.5),this.d.lineTo(this.r,this.j+0.5),this.d.moveTo(0,2*this.j+0.5),this.d.lineTo(this.r,2*this.j+0.5),this.d.stroke();else{this.Ee.length!==this.f.b.length&&(this.$=
!0);var d=a=0;this.pd=[];this.d.beginPath();this.d.strokeStyle="#CCCCCC";for(this.d.lineWidth=1;b<=this.U;b+=this.j)if(a=(b>>0)+0.5,a<this.Xb)d=a;else{this.d.moveTo(0.5,a);this.d.lineTo(this.r+0.5,a);for(var e=this.Ee.length-1;0<=e;--e)if(this.Ee[e]>d&&this.Ee[e]<a){this.pd.push(d);break}d=a;if(c<b)break}this.d.stroke();this.d.beginPath();this.d.strokeStyle="#CCCCCC";this.d.lineWidth=1;this.d.moveTo(0,this.j+0.5);this.d.lineTo(this.r,this.j+0.5);this.d.moveTo(0,2*this.j+0.5);this.d.lineTo(this.r,
2*this.j+0.5);this.d.stroke();if(1!==this.i.Kb)for(this.d.fillStyle="#ffffff",b=this.j,c=this.pd.length-1;0<=c;--c)a=this.pd[c]+1,this.pd[c]>2*b?this.d.fillRect(0,a,this.r,b-2):this.pd[c]>=b&&this.d.fillRect(0,2*b+1,this.r,a-b-2)}}},Ek:function(){var a=this.i.lj();if(a){var b=-1,b=this.i.R*this.offsetX;if(1===this.i.xb&&3!==this.i.Kb){var c=this.j,d=this.U-c,e=this.r/a.hc+2,f=(b/a.hc-(b/a.hc>>0))*a.hc+a.x;this.d.fillStyle="#FFF5EB";for(b=-1;b<e;++b)this.d.fillRect(f+b*a.hc,c,a.width,d)}b=(this.Ba(0)>>
0)+0.5;this.d.fillStyle="#EFF5FF";this.d.fillRect(b,this.j,a.width/2,this.U-this.j)}},Fk:function(){var a=this.i.lj();if(a){var b=-1,b=this.i.R*this.offsetX;if(1===this.i.xb&&3!==this.i.Kb){var c=this.U,d=this.r/a.hc+2,e=(b/a.hc-(b/a.hc>>0))*a.hc+a.x;this.d.lineWidth=1;this.d.strokeStyle="#CCCCCC";this.d.beginPath();for(b=-1;b<d;++b)this.d.moveTo((e+b*a.hc>>0)+0.5,this.j>>0),this.d.lineTo((e+b*a.hc>>0)+0.5,c>>0),this.d.moveTo((e+b*a.hc+a.width>>0)+0.5,(this.j>>0)+0.5),this.d.lineTo((e+b*a.hc+a.width>>
0)+0.5,(c>>0)+0.5);this.d.stroke();this.d.lineWidth=1;this.d.strokeStyle="#CCCCCC";this.d.beginPath();for(b=-1;b<d;++b)for(var f=3;7>f;++f)5!==f&&(this.d.moveTo((e+b*a.hc+0.5*a.width*f>>0)+0.5,this.j>>0),this.d.lineTo((e+b*a.hc+0.5*a.width*f>>0)+0.5,c>>0),this.d.moveTo((e+b*a.hc+a.width+0.5*a.width*f>>0)+0.5,(this.j>>0)+0.5),this.d.lineTo((e+b*a.hc+a.width+0.5*a.width*f>>0)+0.5,(c>>0)+0.5));this.d.stroke();this.d.fillStyle="#ffffff";a=this.j;c=0;for(d=this.pd.length-1;0<=d;--d)c=this.pd[d]+1,this.pd[d]>
2*a?this.d.fillRect(0,c,this.r,a-2):this.pd[d]>=a&&this.d.fillRect(0,2*a+1,this.r,c-a-2)}}},ok:function(){if(this.Te){if(this.ba)this.onmousemove(this.ba.Sg,!0);this.Te=!1}this.g.enable?(this.t.mc(!0),this.g.te(),this.t.pj(this.g.bound,10*this.zoom)):300===this.Wa?this.wk():200===this.Wa?this.nk():this.zk()},nk:function(){function a(){if(c.ka.ng){c.s.fillStyle=Na;c.s.strokeStyle=c.va.b===c.K.b?Oa:Pa;c.s.lineWidth=1;c.ka.x+c.ka.Ic<=c.da&&(c.ka.width=c.ka.width+c.ka.x+c.ka.Ic-c.da,c.ka.x=c.da,c.ka.Ic=
0);var a=(c.ka.x+c.ka.Ic>>0)+0.5,b=(c.ka.y+c.ka.Ld>>0)+0.5;c.s.beginPath();c.s.moveTo(a,b);c.s.lineTo(a+c.ka.width,b);c.s.lineTo(a+c.ka.width,b+0.5*c.ka.height);c.s.lineTo(a+c.ka.width,b+c.ka.height);c.s.lineTo(a,b+c.ka.height);c.s.closePath();c.s.fill();c.s.stroke();c.s.drawImage(c.ec.ph,a+c.ka.width+4,b+2)}else c.ka.x+c.ka.Ic<=c.da&&(c.ka.width=c.ka.width+c.ka.x+c.ka.Ic-c.da,c.ka.x=c.da,c.ka.Ic=0),c.s.fillStyle=Na,c.s.fillRect(c.ka.x+c.ka.Ic,c.ka.y+c.ka.Ld,c.ka.width,c.ka.height),c.s.strokeStyle=
c.va.b===c.K.b?Oa:Pa,c.s.lineWidth=1,c.s.strokeRect((c.ka.x+c.ka.Ic>>0)+0.5,(c.ka.y+c.ka.Ld>>0)+0.5,c.ka.width>>0,c.ka.height>>0);c.t.oe(c.ka.x+c.ka.Ic,c.ka.y+c.ka.Ld,c.ka.width,c.ka.height,20)}function b(){if(!c.ja.Vk())for(var a,b,f,g=c.j,k=Math.floor(c.i.height()),m=Math.floor(c.da),h=Math.floor(c.i.height()+2*c.Pi),l=c.f.b,q=l.length,t=0;t<q;++t)if(l[t].Rb)k+=g;else if(l[t].kd())k+=2*g;else{k+=g;a=l[t].c.length;for(var s=0;s<a;++s)if(!l[t].c[s].filter){f=b=l[t].c[s].a.length;for(b-=1;0<=b;--b)l[t].c[s].a[b].filter&&
--f;if(t===c.va.b&&s===c.va.c){if(1===l[t].c[s].o||c.va.b!==c.K.b)return;a=c.ye+l[t].c[s].k*c.Dc;q=l[t].c[s].duration*c.Dc;k=Math.floor(k-c.scrollY+c.G-c.nd*c.zoom);b=0!==l[t].c[s].a.length?(f+0.5)*g:0.5*g;b=l[t].c[s].collapse?0.5*g:0!==f?(f+0.5)*g:0.5*g;c.Va.enable||(c.s.fillStyle=Ma,c.s.fillRect(a,k+c.G,q,b));a<m&&(q-=m-a,a=m);a+q>m&&(c.s.strokeStyle=Va,c.s.lineWidth=1,c.s.beginPath(),c.s.moveTo(Math.floor(a)+0.5,Math.max(h,k-c.nd*c.zoom+0.5)),c.s.lineTo(Math.floor(a)+0.5,k+Math.floor(b)+0.5),c.s.lineTo(Math.floor(a+
q)+0.5,k+Math.floor(b)+0.5),c.s.lineTo(Math.floor(a+q)+0.5,Math.max(h,k-c.nd*c.zoom+0.5)),c.s.stroke(),c.t.oe(a,k,q,b,g));return}k+=g;l[t].c[s].collapse||(k+=g*f)}if(l[t].collapse)k+=g;else{if(l[t].a.length)for(k+=g,s=l[t].a.length-1;0<=s;--s)l[t].a[s].filter||(k+=g);else k+=g;if(k-c.scrollY>c.U)break}}}var c=this;this.Ih&&(this.t.mc(!0),b(),a(),this.Ih=!1)},zk:function(){this.t.mc(!0);if(!this.Ea){-1!==this.la&&0===this.Ab&&this.H.Ta(Math.floor(this.H.ze-48*this.zoom),Math.floor(this.H.Ae)-35*this.zoom,
96*this.zoom,35*this.zoom);if(-1!==this.v.c&&-1!==this.v.b){var a=this.v.l.o==t-1?56:116;this.v.Ta(this.v.ze-0.5*a*this.zoom>>0,(this.v.Ae>>0)-(37+2*this.Ui)*this.zoom,a*this.zoom,(30+2*this.Ui)*this.zoom)}this.Z.ge()?this.Z.Uf():(this.t.mc(!0),this.H.te()&&this.t.oe(this.H.bound.x,this.H.bound.y,this.H.bound.u,this.H.bound.C,10*this.zoom),this.v.te()&&this.t.oe(this.v.bound.x,this.v.bound.y,this.v.bound.u,this.v.bound.C,10*this.zoom))}},wk:function(){if(this.n&&this.n.update){this.t.mc(!0);if(!this.M){var a,
b,c=0.5*this.G,d=this.G,e=this.S.x,f=this.S.y,g=this.n.Sa,k=this.n.Ce+1;this.s.lineWidth=2;this.s.strokeStyle="#24547E";-10===this.n.nb&&(e<g?(this.t.Qc(this.s,e-0.5>>0,k>>0,g+0.5>>0,k>>0,[6,2]),this.t.Yc(this.s,e>>0,Q(Math.min(k,f)-0.5),e>>0,Q(Math.max(k,f)+0.5),[6,2])):(f<this.n.Ce?(a=g-c-0.5>>0,b=e+0.5>>0,a<b&&(this.t.Qc(this.s,a,k-d>>0,b,k-d>>0,[6,2]),this.t.Qc(this.s,a,k>>0,a+c>>0,k>>0,[6,2]),this.t.Yc(this.s,a,k-d>>0,a,k>>0,[6,2])),a=Math.min(k,f)>>0,b=Math.max(k-d,f-d)>>0):(a=g-c>>0,b=e>>0,
a<b&&(this.t.Qc(this.s,a,k+d>>0,b,k+d>>0,[6,2]),this.t.Qc(this.s,a,k>>0,a+c>>0,k>>0,[6,2]),this.t.Yc(this.s,a,k>>0,a,k+d>>0,[6,2])),a=Math.min(k+d,f+d)>>0,b=Math.max(k+d,f+d)>>0),a<b&&this.t.Yc(this.s,e>>0,a,e>>0,b,[6,2])));10===this.n.nb&&(e>g?(this.t.Qc(this.s,g-0.5>>0,k>>0,e+0.5>>0,k>>0,[6,2]),this.t.Yc(this.s,e>>0,Q(Math.min(k,f)-0.5),e>>0,Q(Math.max(k,f)+0.5),[6,2])):f<this.n.Ce?(a=e-0.5>>0,b=g+c+0.5>>0,a<b&&(this.t.Yc(this.s,a,Math.min(f>>0,k-d>>0),a,Math.max(f>>0,k-d>>0),[6,2]),this.t.Qc(this.s,
a,k-d>>0,b,k-d>>0,[6,2]),this.t.Qc(this.s,b-c>>0,k>>0,b,k>>0,[6,2]),this.t.Yc(this.s,b,k-d>>0,b,k>>0,[6,2]))):(a=e-0.5>>0,b=g+c+0.5>>0,a<b&&(this.t.Yc(this.s,a,Math.min(f>>0,k+d>>0),a,Math.max(f>>0,k+d>>0),[6,2]),this.t.Qc(this.s,a,k+d>>0,b,k+d>>0,[6,2]),this.t.Qc(this.s,b-c>>0,k>>0,b,k>>0,[6,2]),this.t.Yc(this.s,b,k>>0,b,k+d>>0,[6,2]))));this.t.oe(Math.min(g,e),Math.min(k,f),Math.max(g,e)-Math.min(g,e),Math.max(k,f)-Math.min(k,f),30)}this.n.update=!1}},ee:function(a,b,c){this.xd=null;this.V=this.Fd(a.clientX,
a.clientY);this.S={x:this.V.x,y:this.V.y};a=this.i.R/this.i.B;this.V.x-=this.i.R*this.offsetX;var d=this.i.height()-this.w.value()+0.5*this.G,e=this.i.fb,f=this.i.R*this.offsetX,g;g=this.w.value()>>0;this.la=this.xa=this.ta=-1;this.Ab=0;this.sh=this.T=this.Oa=void 0;var k=0,m=0,h=this.j,l=this.Nh(this.S.x),q=0.5*this.j,y=0,s=0,r=0,n=0,F=0.75*this.r,p=this.jf(15),v,z,D,w,r=0,B=!1,x=this.f.b,C=x.length;for(v=0;v<C;++v){var A=x[v].a,B=x[v].o;if(x[v].Rb)d+=h;else if(x[v].kd())d+=2*h;else{d+=h;for(z=0;z<
x[v].c.length;++z)if(!x[v].c[z].filter){var E=x[v].c[z];w=x[v].c[z].a.length;if(!this.Y&&E.collapse)d+=h;else{D=w;for(k=w-1;0<=k;--k)E.a[k].filter&&--D;var y=d+g,s=this.V.y+g-this.i.height()+q,H=d,K=d+0.25*h,I=d+D*h+1.5*this.G,J=H-0.3*this.G-2+0.5*h-0.3*h;this.Y&&(I+=this.G,0===w&&(I+=h));m=d+0.5*(h-this.G)+0.5*this.G;d+=h;d+=h*D;k=m+h-this.G;m+=h;for(D=0;D<w;++D)if(A=E.a[D],!A.filter){if(this.V.y>=k&&this.V.y<=m&&(this.S.x>this.da&&this.S.x<this.da+16||this.S.x>this.r-32&&this.S.x<this.r-16)){r=
this.Ba(A.k);n=this.Ba(A.m);if(r<this.da||r<this.da&&n>this.da){b&&(this.sa.style.cursor="pointer");this.xd={b:v,c:z,a:D};this.ya();return}if(r>this.r&&this.S.x>this.r-32&&this.S.x<this.r-16){b&&(this.sa.style.cursor="pointer");this.xd={b:v,c:z,a:D};this.ya();return}}r=p;A.o===t&&(r=0);if(l>=A.k-r&&l<=A.m+r&&this.V.y>=k&&this.V.y<=m){this.la=D;this.xa=z;this.ta=v;this.Ab=0;this.Va.ag(-1,-1);this.Pc.x=A.k-this.V.x/(this.i.R*e)*e*this.i.B;this.Pc.y=k-this.V.y;b&&(this.sa.style.cursor="pointer");this.H.ze=
this.S.x;this.H.Ae=k;(this.Ea||0!==B)&&this.H.reset();A.o!==t&&(5>M(this.V.x-A.k*a)&&(!b||(this.Ea||0!==B)||(this.f.A(v,z,D).o==t||c)||(this.sa.style.cursor="w-resize"),this.Ab=-10),5>M(this.V.x-A.m*a)&&(!b||(this.Ea||0!==B)||(this.f.A(v,z,D).o==t||c)||(this.sa.style.cursor="w-resize"),this.Ab=10,this.Pc.x=A.m-this.V.x/(this.i.R*e)*e*this.i.B),300!==this.Wa&&(r=this.Ba(A.k),n=this.Ba(A.m),2<r-this.S.x&&15>r-this.S.x?(this.Ha||(this.Ha={nb:-10},this.$=!0),this.Ab=0,b&&(this.sa.style.cursor="pointer"),
this.ya()):2<this.S.x-n&&15>this.S.x-n&&!A.P?(this.Ha||(this.Ha={nb:10},this.$=!0),this.Ab=0,b&&(this.sa.style.cursor="pointer"),this.ya()):this.Ha&&(this.Ha=null,this.$=!0)));return}k+=h;m+=h}if(5>Math.abs(this.V.x-E.m*a)&&this.V.y>=K&&I>=this.V.y){if(x[v].c[z].o==t-1||this.g.enable&&this.g.Lb)return;b&&(!this.Ea&&0===B)&&(this.sa.style.cursor="w-resize");this.sh=!0;this.xa=z;this.ta=v;this.Pc.x=E.m-this.V.x/(this.i.R*e)*e*this.i.B;this.H.ze=this.S.x;this.H.Ae=H;this.v.Pd=!0;this.v.reset();this.Va.ag(v,
z);(this.Ea||0!==B)&&this.H.reset();return}if(O===this.Wa&&l>=E.k&&l<=E.m&&this.V.y>=J&&this.V.y<=J+0.5*h){this.Va.ag(v,z);this.v.set(v,z,this.f.ma(v,z));this.v.ze=this.S.x;this.v.Ae=H+this.G-(this.nd+this.Rd)*this.zoom;this.v.Pd=!1;this.v.disable=B;return}if(!B&&this.Zh(x[v].c[z].a,f,y,g,1,l,s,0)){b&&(this.sa.style.cursor="pointer");return}0===w&&this.Y&&(d+=h)}}if(x[v].collapse)d+=h;else if(x[v].a.length){if(this.Y&&(d+=this.G),this.Y||(d+=h),this.Y||!x[v].collapse){y=d+g;s=this.V.y+g-this.i.height()+
h+q;D=w=x[v].a.length;for(k=w-1;0<=k;--k)x[v].a[k].filter&&--D;k=m=d+0.5*h-this.G;m+=this.G;for(z=0;z<x[v].a.length;++z)if(A=x[v].a[z],!A.filter){w=A.m;A.P&&(w+=1E7);if(A.P){r=this.Ba(A.k);F=this.r-45;r<=this.da-1&&(F=0.75*this.r);if(37<this.S.x-F){b&&(this.sa.style.cursor="");k+=h;m+=h;continue}w=this.Nh(F)}if(this.V.y>=k&&this.V.y<=m&&(this.S.x>this.da&&this.S.x<this.da+16||this.S.x>this.r-32&&this.S.x<this.r-16)){r=this.Ba(A.k);n=this.Ba(w);if(r<this.da||r<this.da&&n>this.da){b&&(this.sa.style.cursor=
"pointer");this.xd={b:v,c:void 0,a:z};this.ya();return}if(r>this.r&&this.S.x>this.r-32&&this.S.x<this.r-16){b&&(this.sa.style.cursor="pointer");this.xd={b:v,c:void 0,a:z};this.ya();return}}r=p;A.o===t&&(r=0);if(l>=A.k-r&&l<=w+r&&this.V.y>=k&&this.V.y<=m){this.la=z;this.xa=-1;this.ta=v;this.Ab=0;this.Va.ag(-1,-1);this.Pc.x=A.k-this.V.x/(this.i.R*e)*e*this.i.B;this.Pc.y=k-this.V.y;this.sa.style.cursor="pointer";this.H.ze=this.S.x;this.H.Ae=k;(this.Ea||0!==B)&&this.H.reset();A.o!==t&&(5>M(this.V.x-A.k*
a)&&(!b||(this.Ea||0!==B)||(this.f.A(v,void 0,z).o==t||c)||(this.sa.style.cursor="w-resize"),this.Ab=-10),A.P?5>M(this.S.x-F)&&(!b||(this.Ea||0!==B)||(this.f.A(v,void 0,z).o==t||c)||(this.sa.style.cursor="w-resize"),this.Ab=10,this.Pc.x=w-this.V.x/(this.i.R*e)*e*this.i.B):5>M(this.V.x-w*a)&&(!b||(this.Ea||0!==B)||(this.f.A(v,void 0,z).o==t||c)||(this.sa.style.cursor="w-resize"),this.Ab=10,this.Pc.x=w-this.V.x/(this.i.R*e)*e*this.i.B),300!==this.Wa&&(r=this.Ba(A.k),n=this.Ba(w),2<r-this.S.x&&15>r-
this.S.x?(this.Ha||(this.Ha={nb:-10},this.$=!0),this.Ab=0,b&&(this.sa.style.cursor="pointer"),this.ya()):2<this.S.x-n&&15>this.S.x-n&&!A.P?(this.Ha||(this.Ha={nb:10},this.$=!0),this.Ab=0,b&&(this.sa.style.cursor="pointer"),this.ya()):this.Ha&&(this.Ha=null,this.$=!0)));return}k+=h;m+=h}if(!B&&this.Zh(x[v].a,f,y,g,1,l,s,h)){b&&(this.sa.style.cursor="pointer");return}d+=h*D}}else d+=h}}this.Va.ag(-1,-1);300!==this.Wa&&(this.Ha=null);b&&(this.sa.style.cursor="");this.Ea&&(this.H.reset(),this.v.reset())},
Qe:function(a,b,c){this.V=void 0!=a?this.Fd(a.clientX,a.clientY):{x:b,y:c};this.S={x:this.V.x,y:this.V.y};this.V.x-=this.i.R*this.offsetX;var d=this.j,e=-this.w.value(),f=this.V.y-2*d,g=this.f.b,k=g.length;for(b=0;b<k;++b){if(e<=f&&f<=e+d)return this.ca={b:b,c:g[b].c.length?0:-1,a:-1},!0;if(g[b].Rb)e+=d;else if(g[b].kd()){if(e<=f&&f<=e+2*d)return this.ca={b:b,c:-1,a:-1},!0;e+=2*this.j}else{e+=this.j;for(c=0;c<g[b].c.length;++c)if(!g[b].c[c].filter){if(e<=f&&f<=e+d)return this.ca={b:b,c:c,a:-1},!0;
e+=this.j;if(!g[b].c[c].collapse)for(a=0;a<g[b].c[c].a.length;++a)if(!g[b].c[c].a[a].filter){if(e<=f&&f<=e+d)return this.ca={b:b,c:c,a:a-1},!0;e+=d}}if(g[b].collapse){if(e<=f&&f<=e+d)return this.ca={b:b,c:-1,a:-1},!0;e+=d}else if(g[b].a.length){if(e<=f&&f<=e+d)return this.ca={b:b,c:-1,a:-1},!0;e+=this.j;for(a=0;a<g[b].a.length;++a)if(!g[b].a[a].filter){if(e<=f&&f<=e+d)return this.ca={b:b,c:-1,a:a-1},!0;e+=d}}else{if(e<=f&&f<=e+d)return this.ca={b:b,c:-1,a:-1},!0;e+=this.j}}}return e<f&&0<k?(this.ca=
g.Zc().a.length?{b:b-1,c:-1,a:g.Zc().a.length-1,Xh:g[b-1].c.length?-1:0}:{b:b-1,c:-1,a:-1},!0):!1},Qj:function(a,b){this.V={x:a,y:b};this.S={x:this.V.x,y:this.V.y};this.V.x-=this.i.R*this.offsetX;var c=this.i.height()-this.w.value()+0.5*this.G,d,e,f=this.j,g=this.f.b,k=g.length;for(e=0;e<k;++e)if(g[e].Rb)c+=f;else if(g[e].kd())c+=2*f;else{c+=f;for(d=0;d<g[e].c.length;++d)if(0===g[e].c[d].a.length&&(c+=f),this.Y?c+=f+g[e].c[d].a.length*f:g[e].c[d].collapse||(c+=f+g[e].c[d].a.length*f),c>=b)return{b:e,
c:d+1};if(g[e].collapse)c+=f;else if(g[e].a.length){c+=f;for(d=g[e].a.length-1;0<=d;--d)g[e].a[d].filter||(c+=f);if(c>=b)return{b:e,c:void 0}}else c+=f}return{b:void 0,c:void 0}},Zh:function(a,b,c,d,e,f,g,k){this.jb=!1;this.Vl=0;if(this.Ea)return this.jb;if(!a.length)return!1;var m,h,l,q,t,s,r=0,n=0,y=this.j,p=0.5*this.G,v=this.jf(5);c-=this.i.wg;for(var z=0;z<a.length;++z){l=a[z];l.filter&&r++;for(var A=0;A<l.links.length;++A){var w=l.links[A];q=w.za||w.parentTaskId;if(a[z].q!==q){t=w.Sc||w.linkType;
s=w.Ca||w.dependenceTaskId;for(var B=n=0;B<a.length;++B)if(a[B].filter&&n++,!(a[B].filter&&a[z].filter||a[B].q!==q))if(L===t)if(m=a[B].k+a[B].duration,h=a[z].k,b=c+y*(B-n),e=c+y*(z-r),b<e)if(m<h){if(H(f,g,m+v,b,m+v,e)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(m+2*v),y:this.V.y,u:100,C:100},0,Math.floor((l.k-a[B].m)/24),!0);this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,m+v,e,h,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,
y:e-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].m)/24),!0),this.Z.qb(w),this.Oa=w,!0}else{if(H(f,g,m+v,b,m+v,e)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(m+v),y:this.V.y,u:100,C:100},0,Math.floor((l.k-a[B].m)/24),!0);this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h,e-2*p,m,e-2*p))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:e-2*p-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].m)/24),!0),this.Z.qb(w),this.Oa=w,!0}else if(m<
h){if(H(f,g,m+v,e,m+v,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(m+v/2),y:this.V.y,u:100,C:100},0,Math.floor((l.k-a[B].m)/24),!0);this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,m+v,e,h,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:e-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].m)/24),!0),this.Z.qb(w),this.Oa=w,!0}else{if(H(f,g,h-v,e,h-v,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(h),
y:this.S.y,u:100,C:100},0,Math.floor((l.k-a[B].m)/24),!0);this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h-v,b-2*p,m+v,b-2*p))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:b-2*p-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].m)/24),!0),this.Z.qb(w),this.Oa=w,!0}else if(0===t)if(m=a[B].k,h=a[z].k,b=c+y*(B-n),e=c+y*(z-r),b<e)if(m<h){if(H(f,g,m-v,b,m-v,e)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(m),y:this.S.y,u:100,C:100},0,Math.floor((l.k-
a[B].k)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,m-v,e,h,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:e-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].k)/24)),this.Z.qb(w),this.Oa=w,!0}else{if(H(f,g,h-v,b,m,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.S.x,y:b-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].k)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h-v,b,h-v,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=
!0;else return this.Z.Ta({x:this.Ba(h),y:this.V.y,u:100,C:100},0,Math.floor((l.k-a[B].k)/24)),this.Z.qb(w),this.Oa=w,!0}else if(m<h){if(H(f,g,m-v,e,m-v,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(m-v),y:this.V.y,u:100,C:100},0,Math.floor((l.k-a[B].k)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,m-v,e,h,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:e-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].k)/24)),this.Z.qb(w),
this.Oa=w,!0}else{if(H(f,g,h-v,e,h-v,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(h),y:this.V.y,u:100,C:100},0,Math.floor((l.k-a[B].k)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h+v,b,m,b))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:b-d+this.j-k,u:100,C:100},1,Math.floor((l.k-a[B].k)/24)),this.Z.qb(w),this.Oa=w,!0}else if(1===t)if(m=a[B].k+a[B].duration,h=a[z].k+a[z].duration,b=c+y*(B-n),e=c+y*(z-r),b<e)if(m<h){if(H(f,
g,m+v,b,h+v,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.S.x,y:b-d+this.j-k,u:100,C:100},1,Math.floor((l.m-a[B].m)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h+v,b,h+v,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.Ba(h+2*v),y:this.V.y,u:100,C:100},0,Math.floor((l.m-a[B].m)/24)),this.Z.qb(w),this.Oa=w,!0}else{if(H(f,g,m+v,b,m+v,e)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(m+2*v),y:this.V.y,
u:100,C:100},0,Math.floor((l.m-a[B].m)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h,e,m+v,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:e-d+this.j-k,u:100,C:100},1,Math.floor((l.m-a[B].m)/24)),this.Z.qb(w),this.Oa=w,!0}else if(m<h){if(H(f,g,m,b,h+v,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.S.x,y:b-d+this.j-k,u:100,C:100},1,Math.floor((l.m-a[B].m)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h+v,e,h+v,b))if(this.T&&
this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.Ba(h+2*v),y:this.V.y,u:100,C:100},0,Math.floor((l.m-a[B].m)/24)),this.Z.qb(w),this.Oa=w,!0}else{if(H(f,g,m+v,e,m+v,b)){if(this.T&&this.T.Ca===s&&this.T.za==q){this.jb=!0;continue}this.Z.Ta({x:this.Ba(m+2*v),y:this.V.y,u:100,C:100},0,Math.floor((l.m-a[B].m)/24));this.Z.qb(w);this.Oa=w;return!0}if(H(f,g,h,e,m+v,e))if(this.T&&this.T.Ca===s&&this.T.za==q)this.jb=!0;else return this.Z.Ta({x:this.S.x,y:e-d+this.j-k,u:100,C:100},1,Math.floor((l.m-
a[B].m)/24)),this.Z.qb(w),this.Oa=w,!0}}}}return this.jb},Ii:function(){this.va={a:-1,c:-1,b:-1};var a=this.i.height()-this.w.value(),b=0,c=0;this.va.c=-1;this.va.b=-1;var b=this.ka.y+this.ka.Ld,c=this.ka.y+this.ka.height,d=0.5*(b+c),e,f,g,k,m=this.j,h=this.f.b,l=h.length;for(f=0;f<l;++f){if(a<d&&d<a+m)return this.va.b=f,!0;if(h[f].Rb)a+=m;else if(h[f].kd()){if(a<d&&d<a+2*m)return this.va.b=f,!0;a+=2*m}else{a+=m;for(e=0;e<h[f].c.length;++e)if(!h[f].c[e].filter){k=g=h[f].c[e].a.length;for(g-=1;0<=
g;--g)h[f].c[e].a[g].filter&&--k;var q=a+this.G,t=q+m*(k+0.5);g=k;this.Y?t=q+m*(g+0.5):h[f].c[e].collapse?(t=q+0.5*m,g=0):t=q+m*(g+0.5);0===g&&this.Y&&(a+=m,t+=m);if(q<=b&&b<=t||q<=c&&c<=t||q<=b&&c<=t)return this.va.c=e,this.va.b=f,!0;a=h[f].c[e].collapse?a+m:a+m*(g+1)}if(h[f].collapse){if(a<d&&d<a+m)return this.va.b=f,!0;a+=m}else if(h[f].a.length){if(a<d&&d<a+m)return this.va.b=f,!0;a+=m;for(e=h[f].a.length-1;0<=e;--e)if(!h[f].a[e].filter){if(a<d&&d<a+m)return this.va.b=f,!0;a+=m}}else{if(a<d&&
d<a+m)return this.va.b=f,!0;a+=m}}}return a<b&&0<l?(this.va.b=1===l?0:l-1,!0):!1},Ei:function(){var a=0,b,c,d,e=this.j,f=this.f.b,g=f.length;for(c=0;c<g;++c)if(f[c].Rb)a+=e;else if(f[c].kd())a+=2*e;else{a+=e;for(b=0;b<f[c].c.length;++b)if(!f[c].c[b].filter&&(a+=e,!f[c].c[b].collapse))for(d=f[c].c[b].a.length-1;0<=d;--d)f[c].c[b].a[d].filter||(a+=e);if(!f[c].collapse&&f[c].a.length)for(b=f[c].a.length-1;0<=b;--b)f[c].a[b].filter||(a+=e);a+=e}return a},jd:function(a,b,c){var d=this.j,e,f,g,k,m=2*d,
h=this.f.b,l=h.length;for(f=0;f<l;++f)if(h[f].Rb)m+=d;else if(h[f].kd())m+=2*d;else{m+=d;for(e=0;e<h[f].c.length;++e)if(!h[f].c[e].filter){g=k=h[f].c[e].a.length;for(k-=1;0<=k;--k)h[f].c[e].a[k].filter&&--g;if(a===f&&e===b&&-1===c)return m+0.5*d+2;if(h[f].c[e].collapse)m+=d;else for(m+=d,g=0;g<h[f].c[e].a.length;++g)if(!h[f].c[e].a[g].filter){if(g===c&&a===f&&e===b)return m;m+=d}}if(h[f].collapse)m+=d;else if(m+=d,-1===b)for(e=0;e<h[f].a.length;++e){if(!h[f].a[e].filter){if(e===c&&f===a)return m;
m+=d}}else for(e=0;e<h[f].a.length;++e)h[f].a[e].filter||(m+=d)}return m},Nk:function(){var a,b,c,d={height:null,x:null},e=0,f=this.f.b,g=f.length;for(b=0;b<g;++b)if(e+=this.j,!f[b].kd()){0!==b||this.Y||(e+=this.j);e+=this.j;for(a=0;a<f[b].c.length;++a)if(!f[b].c[a].filter){e+=this.j;for(c=0;c<f[b].c[a].a.length;++c)if(!f[b].c[a].a[c].filter){if(!d.x||f[b].c[a].a[c].k<d.x)d.x=f[b].c[a].a[c].k;e+=this.j}if(0===f[b].c[a].a.length){if(!d.x||f[b].c[a].k<d.x)d.x=f[b].c[a].k;e+=this.j}}for(c=0;c<f[b].a.length;++c)if(!f[b].a[c].filter){if(!d.x||
f[b].a[c].k<d.x)d.x=f[b].a[c].k;e+=this.j}e+=this.G}d.height=e+1E-4;return d},Ji:function(){var a=(this.ia.ic.getTime()-this.ia.Sb.getTime())/36E5,b=(this.ia.Qa.eb-this.ia.Nd)*a,a=(this.ia.Qa.end-this.ia.Nd)*a,c,d,e,f,g=0,k=this.j,m=this.f.b,h=m.length;for(d=0;d<h;++d)if(m[d].Rb)g+=k;else if(m[d].kd())g+=2*k;else{g+=k;for(c=0;c<m[d].c.length;++c)if(!m[d].c[c].filter){g+=k;for(e=0;e<m[d].c[c].a.length;++e)if(f=m[d].c[c].a[e],!f.filter){if(f.k>=b&&f.k<=a||f.m>=b&&f.m<=a||f.k>=b&&f.m<=a||f.k<=b&&f.m>=
a)return 0===e&&0===c&&0===d?{height:1E-4,empty:!1}:0===e?{height:g-k,empty:!1}:{height:g,empty:!1};g+=k}if(0===m[d].c[c].a.length){if(m[d].c[c].k>=b&&m[d].c[c].k<=a||m[d].c[c].m>=b&&m[d].c[c].m<=a||m[d].c[c].k>=b&&m[d].c[c].m<=a||m[d].c[c].k<=b&&m[d].c[c].m>=a)return 0===e&&0===c&&0===d?{height:1E-4,empty:!1}:0===e?{height:g-k,empty:!1}:{height:g,empty:!1};g+=k}}for(e=0;e<m[d].a.length;++e)if(f=m[d].a[e],!f.filter){if(f.P&&(f.k<=b||f.k>=b&&f.k<=a)||f.k>=b&&f.k<=a||f.m>=b&&f.m<=a||f.k>=b&&f.m<=a||
f.k<=b&&f.m>=a)return 0===e&&0===m[d].c.length&&0===d?{height:1E-4,empty:!1}:{height:g,empty:!1};g+=k}g+=this.G}return{height:1E-4,empty:!0}},Xi:function(a,b){if(!this.Ea){this.Ii(a);b&&(this.va=b);var c=null,d=null,e,f,g,k=!1,m=-1,h=-1;f=-1;var l=null;if(this.K.b===this.va.b)if(-1!==this.va.c&&-1!==this.va.b){if(-1!==this.K.a&&-1!==this.K.b&&(this.Qe(a),-1===this.K.c&&(e=this.f.A(this.K.b,void 0,this.K.a),f=this.f.ma(this.va.b,this.va.c),c=this.f.jc(this.K.b,void 0,this.K.a),d=this.f.$c(this.va.b,
this.va.c),l=this.Cd().Ue(this.K.b,void 0,c.a),t-1!==f.status()&&(l.length?this.Cd().Hc("300",{b:this.K.b,c:void 0,a:e,index:this.K.a,ad:this.ca.a+1,Ja:this.K.b,Ua:this.va.b,Na:void 0,ib:this.va.c,ha:c.a,fa:void 0,ga:c.b,De:d.b,od:d.c,Eb:l,type:"FtoM"}):(e.P&&e.k>=f.m&&e.Yd(f.m-24),this.f.b[this.va.b].c[this.va.c].Nb(e,this.ca.a+1),this.f.b[this.K.b].Fb(this.K.a),f.rb(),this.ya(),this.L.add(900,{b:this.K.b,c:void 0,a:e,index:this.K.a,ad:this.ca.a+1,Ja:this.K.b,Ua:this.va.b,Na:void 0,ib:this.va.c,
ha:c.a,fa:void 0,ga:c.b,De:d.b,od:d.c}),e.P&&e.k>=f.m&&e.Yd(f.m-24),this.L.Nf(),f.collapse&&f.Mc(!1)))),-1!==this.K.c&&-1!==this.va.c&&t-1!==this.f.ma(this.va.b,this.va.c).status())){g=this.K.a;h=m=this.ca.a+1;if(this.ca.a+1===g&&this.va.c===this.K.c){this.va={a:-1,c:-1,b:-1};this.$=!0;this.Wa=O;return}this.va.c===this.K.c&&(k=!0,m<g?++g:h++);e=this.f.A(this.K.b,this.K.c,this.K.a);f=this.f.ma(this.va.b,this.va.c);c=this.f.jc(this.K.b,this.K.c,this.K.a);d=this.f.$c(this.va.b,this.va.c);l=this.Cd().Ue(this.K.b,
this.K.c,c.a);l.length&&!k?(this.ya(),this.Cd().Hc("300",{b:this.K.b,c:void 0,a:e,index:this.K.a,ad:this.ca+1,Ja:this.K.b,Ua:this.va.b,Na:this.K.c,ib:this.va.c,ha:c.a,fa:c.c,ga:c.b,De:d.b,od:d.c,Eb:l,type:"MtoM"})):(f.Nb(e,h),this.f.b[this.K.b].c[this.K.c].Fb(g),this.f.b[this.K.b].c[this.K.c].rb(),f.rb(),this.ya(),this.L.add(900,{b:this.K.b,c:void 0,a:e,index:this.K.a,ad:m,Ja:this.K.b,Ua:this.va.b,Na:this.K.c,ib:this.va.c,ha:c.a,fa:c.c,ga:c.b,De:d.b,od:d.c}),this.L.Nf(),f.collapse&&f.Mc(!1))}}else{this.Qe(a);
e=this.f.A(this.K.b,-1===this.K.c?void 0:this.K.c,this.K.a);c=this.f.jc(this.K.b,-1===this.K.c?void 0:this.K.c,this.K.a);d=this.f.b[this.K.b];l=this.Cd().Ue(this.K.b,-1===this.K.c?void 0:this.K.c,c.a);g=this.K.a;h=m=this.ca.a+1;if(this.va.c===this.K.c){if(this.ca.a+1===g&&this.va.c===this.K.c){this.va={a:-1,c:-1,b:-1};this.$=!0;this.Wa=O;return}h=m=this.ca.a+1;f=g;k=!0;m<g?++f:++m}l.length&&!k?(this.ya(),this.Cd().Hc("300",{b:this.K.b,c:this.K.c,a:e,index:this.K.a,Ja:this.K.b,Ua:this.K.b,Na:this.K.c,
ib:void 0,ha:c.a,fa:c.c,ga:c.b,De:d.q,od:void 0,Eb:l,type:"MtoF"})):(k?(this.f.b[this.K.b].Nb(e,m),this.f.b[this.K.b].Fb(f),this.ya(),this.L.add(900,{b:this.K.b,c:this.K.c,a:e,index:g,ad:h,Ja:this.K.b,Ua:this.K.b,Na:void 0,ib:void 0,ha:c.a,fa:c.c,ga:c.b,De:d.q,od:void 0})):(e=this.f.A(this.K.b,this.K.c,this.K.a),this.f.b[this.K.b].Nb(e,h),this.f.b[this.K.b].c[this.K.c].Fb(this.K.a),this.ya(),this.L.add(900,{b:this.K.b,c:this.K.c,a:e,index:this.K.a,ad:h,Ja:this.K.b,Ua:this.K.b,Na:this.K.c,ib:void 0,
ha:c.a,fa:c.c,ga:c.b,De:d.q,od:void 0})),this.L.Nf())}this.va={a:-1,c:-1,b:-1};this.$=!0;this.Wa=O}},mg:function(a,b,c){if(!this.Ea){var d=-1,e=-1,f=-1,g=null;if(-1!==a&&(-1===b&&-1!==c)&&(d=this.f.b[a].q,f=this.f.b[a].a[c].q,g=this.f.A(a,void 0,c))){if(t==g.o)return;g.Ac=!0;this.g.reset();this.g.Lb=g;this.g.b=a;this.g.c=-1;this.g.a=c;this.g.text=g.Q;this.g.qd=g.Q;this.g.je();this.offsetX*this.i.B+g.k<this.jf(this.da)?this.ja.Lc(g.k):this.hf(g.k)+g.Mb>this.r&&this.ja.Lc(g.k);this.L.add(700,{b:a,c:void 0,
a:g,index:c,ha:f,fa:void 0,ga:d,Nc:!0})}if(-1!==a&&(-1!==b&&-1!==c)&&(d=this.f.b[a].q,e=this.f.b[a].c[b].q,f=this.f.b[a].c[b].a[c].q,g=this.f.A(a,b,c))){if(t==g.o)return;g.Ac=!0;this.g.reset();this.g.Lb=g;this.g.b=a;this.g.c=b;this.g.a=c;this.g.text=g.Q;this.g.qd=g.Q;this.g.je();this.offsetX*this.i.B+g.k<this.jf(this.da)?this.ja.Lc(g.k):this.hf(g.k)+g.Mb>this.r&&this.ja.Lc(g.k);this.L.add(700,{b:a,c:b,a:g,index:c,ha:f,fa:e,ga:d,Nc:!0})}-1!==a&&(-1!==b&&-1===c)&&(d=this.f.b[a].q,e=this.f.b[a].c[b].q,
c=this.f.ma(a,b))&&(c.Ac=!0,this.g.reset(),this.g.$b=c,this.g.b=a,this.g.c=b,this.g.a=-1,this.g.text=c.Q,this.g.qd=c.Q,this.g.je(),this.L.add(800,{b:a,c:b,a:c,index:void 0,ha:void 0,fa:e,ga:d,Nc:!0}),(this.hf(c.m)-c.Mb<this.jf(this.da)||this.hf(c.m)>this.r)&&this.ja.Lc(c.m))}},Jl:function(){if(this.Jf){var a=this;a.Jf=!1;var b=0,c=a.U-a.i.height()+2,d=Math.max(a.vc-c,1E-4),e=Math.min(a.vc,a.w.value()+c);a.Aa.ge()&&(b=a.Mh+a.Aa.bound.C);a.Tb.ge()&&(b=a.Mh+a.Tb.bound.C);if(!(c>a.vc&&c>b&&0===a.w.Kf))if(a.ya(),
b>e){var f=b-e,e=e+f,d=Math.max(e-c,1E-4);if(a.w.Kf===f&&0===f){a.Jf=!1;return}b>a.vc?(a.w.Ch(f),a.w.zc(a.i.height()+2,c,e,a.r),a.ya()):d=(d/a.j>>0)*a.j-1E-4;a.ja.Ib(d,G())}else a.w.Kf&&(a.w.value()<d?(a.w.save(),a.w.Ch(0),a.w.zc(a.i.height()+2,c,a.vc,a.r)):a.ja.Ib(d,function(){a.w.save();a.w.Ch(0);a.w.zc(a.i.height()+2,c,a.vc,a.r)}));a.Aa.ge()&&a.Lh+a.Aa.bound.u>a.r&&a.ja.uf(-(a.r-(a.Lh+a.Aa.bound.u)-35)/a.i.R)}},ig:function(a,b,c,d){if(!this.g.enable&&!this.Ea){var e=-1,f=-1,g=-1,k,m,h;-1===b&&
(this.Da=null,e=this.f.b[a].q,g=this.f.Ef(),this.f.Nb(pa(e,void 0,g),c),k=this.f.A(a,void 0,c),m=this.S.x,h=this.i.fb,m=(m-this.i.R*this.offsetX)/(this.i.R*h)*h*this.i.B,0>m&&(m-=h),this.Zf&&(m=(m/h>>0)*h),k.rd(m,m+120),k&&(k.Ac=!0,this.g.reset(),this.g.Lb=k,this.g.b=a,this.g.c=b,this.g.a=c,this.g.Yb=!0,d&&(this.g.Sd=d),this.g.je(),this.L.add(300,{b:a,c:void 0,a:k,index:c,ha:g,fa:void 0,ga:e,Nc:!0}),e=this.jd(a,-1,1===this.f.lb(a).a.length?c:c+1),this.w.value()+this.w.Ya<e&&this.ja.Ib(Math.min(Math.max(0,
e-0.5*this.U),this.w.cb-this.w.Ya)+2*this.j)));if(-1!==b&&(this.Da=null,this.f.b[a].c[b].o!=t-1)){e=this.f.b[a].q;f=this.f.b[a].c[b].q;g=this.f.Ef();this.f.Nb(pa(e,f,g),c);k=this.f.A(a,b,c);var l=this.f.ma(a,b);m=this.S.x;h=this.i.fb;m=(m-this.i.R*this.offsetX)/(this.i.R*h)*h*this.i.B;0>m&&(m-=h);this.Zf&&(m=(m/h>>0)*h);k.rd(m,m+120);m<l.m&&k.rd(m,l.m);k&&(k.Ac=!0,this.g.reset(),this.g.Lb=k,this.g.b=a,this.g.c=b,this.g.a=c,this.g.Yb=!0,this.g.xg=l,d&&(this.g.Sd=d,this.g.Oe=!0),this.g.je(),l.rb(),
this.L.add(300,{b:a,c:b,a:k,index:c,ha:g,fa:f,ga:e,Nc:!0}),e=this.jd(a,b,c),this.w.value()+this.w.Ya<e&&this.ja.Ib(Math.max(0,e+2*this.j-this.w.Ya)))}}},Yj:function(a,b){if(!this.g.enable&&0!==this.f.b.length&&!this.Ea){var c=b;if(0<=a){var d=this.f.b[a].q,e=this.f.Ef(),f=null;if(void 0===c||-1===b)c=this.f.b[a].c.length;this.f.b[a].ne(new $(e,d,"","","",new Date,I-1),c);if(f=this.f.ma(a,c)){var g=y.Gantt.Localize_strings.newMilestone,k=this.S.x,m=this.i.fb,k=this.S.x,m=this.i.fb,k=(k-this.i.R*this.offsetX)/
(this.i.R*m)*m*this.i.B;0>k&&(k-=m);this.Zf&&(k=(k/m>>0)*m);f.Tc(k);this.g.reset();this.g.$b=f;this.g.b=a;this.g.c=c;this.g.a=-1;this.g.Oe=!0;this.g.Yb=!0;g&&(this.g.Sd=g);this.g.je();this.L.add(400,{b:a,c:c,a:f,index:c,ha:void 0,fa:e,ga:d,Nc:!0});var h=this;this.lc().fg(f.id(),!0,function(){h.Zd()},!0)}}}},tj:function(){if(!this.g.enable&&0!==this.f.b.length&&!this.Ea){var a=this.Qj(this.uc,0.5*this.U);void 0===a.b&&(a.b=this.f.b.length-1);if(0<=a.b){var b=this.f.b[a.b].q,c=this.f.Ef(),d=null;void 0===
a.c&&(a.c=this.f.b[a.b].c.length);this.f.b[a.b].ne(new $(c,b,"","","",new Date,I-1),a.c);if(d=this.f.ma(a.b,a.c)){var e=y.Gantt.Localize_strings.newMilestone;d.Tc(Fa);this.g.reset();this.g.$b=d;this.g.b=a.b;this.g.c=a.c;this.g.a=-1;this.g.Oe=!0;this.g.Yb=!0;e&&(this.g.Sd=e);this.g.je();this.L.add(400,{b:a.b,c:a.c,a:d,index:a.c,ha:void 0,fa:c,ga:b,Nc:!0});this.Zd();(this.hf(d.m)-d.Mb<this.jf(this.da)||this.hf(d.m)>this.r)&&this.ja.Lc(0);a=this.jd(a.b,a.c,-1)-0.5*this.U;b=(this.w.md()/this.j>>0)*this.j;
a=(a/this.j>>0)*this.j;this.ja.Ib(Math.min(Math.max(0,a),b)+(2*this.j-1E-4)*this.Y)}}}},uj:function(a){if(!this.g.enable&&0!==this.f.b.length&&!this.Ea){var b=null;this.ca={b:-1,c:-1,a:-1};this.Qe(void 0,this.uc,0.5*this.U);this.ca.c=-1;if(-1===this.ca.b){if(b=this.f.Ai())this.ca.a=b.a.length-1,this.ig(this.f.b.length-1,-1,b.a.length,a?a:y.Gantt.Localize_strings.newTask),b.Ec()}else this.ca.a=this.f.b[this.ca.b].a.length-1,b=this.f.Ai(),b.collapse&&(b.Mc(!1),this.Zd(!0)),this.ig(this.ca.b,this.ca.c,
this.ca.a+1,y.Gantt.Localize_strings.newTask);a=this.jd(0,-1,this.ca.a+1)-0.5*this.U;b=this.w.md();this.Y||(b=(this.w.md()/this.j>>0)*this.j,a=(a/this.j>>0)*this.j);this.ja.Ib(Math.min(Math.max(0,a),b)+(2*this.j-1E-4)*this.Y)}},Th:function(a,b){if(!this.Ea){var c=-1,d=-1,e=-1;if(-1!==b){c=this.f.b[a].q;d=this.f.b[a].c[b].q;e=this.f.Ef();this.f.Nb(pa(c,d,e),0);var f=this.f.A(a,b,0),g=this.f.ma(a,b),k=y.Gantt.Localize_strings.newTask,m=this.i.fb,h=(this.v.bound.x+0.5*this.v.bound.u-this.i.R*this.offsetX)/
(this.i.R*m)*m*this.i.B;0>h&&(h-=Math.max(24,m));this.Zf&&(h=(h/m>>0)*m);f.rd(h,g.m);f&&(f.Ac=!0,this.g.reset(),this.g.Lb=f,this.g.b=a,this.g.c=b,this.g.a=0,this.g.Yb=!0,k&&(this.g.Sd=k),this.g.je(),this.L.add(300,{b:a,c:b,a:f,index:0,ha:e,fa:d,ga:c,Nc:!0}))}}},cj:function(a,b,c,d){var e;this.J["503"]&&(void 0===c||-1===c?(e=this.f.ma(a,b),this.Za.O={b:a,c:b,a:void 0,l:e,na:this.f.$c(a,b),fc:!1,gb:e},a={left:d,top:this.jd(a,b,-1)+this.d.canvas.offsetTop-this.w.value()}):(e=this.f.A(a,b,c),this.Za.O=
{b:a,c:b,a:c,l:e,na:this.f.jc(a,b,c),fc:!0,I:e},a={left:d,top:this.Jd+this.d.canvas.offsetTop}),this.J["503"](e,a),this.v.b=-1,this.v.c=-1,this.Da=null,this.sb=this.X=this.qa=this.oa=-1,this.ya())},bj:function(a,b,c){var d;this.J["504"]&&(void 0===c||-1===c?(d=this.f.ma(a,b),this.Za.O={b:a,c:b,a:void 0,l:d,na:this.f.$c(a,b),fc:!1,gb:d}):(d=this.f.A(a,b,c),this.Za.O={b:a,c:b,a:c,l:d,na:this.f.jc(a,b,c),fc:!0,I:d}),this.J["504"](d),this.v.b=-1,this.v.c=-1,this.Da=null,this.sb=this.X=this.qa=this.oa=
-1,this.ya())},qj:function(){var a=null,b=this.ta,c=this.xa,d=this.la;if(-1===c&&-1===d||-1!=b&&0!==this.f.lb(b).status())return!1;var e=this.Ab,f=this.i.height(),g=0,k=(this.w.value()>>0)+0.5*this.j+!this.Y*this.j;-1!=b&&(-1!=d&&-1===c)&&(a=this.f.A(b,void 0,d),f+=this.jd(b,c,d)-k,this.Ba(a.k)+0.5*Math.abs(this.Ba(a.m)-this.Ba(a.k))>this.S.x?(e=-10,g=this.Ba(a.k)):(e=10,g=this.Ba(a.m)));-1!=this.ta&&(-1!=d&&-1!=c)&&(a=this.f.A(b,c,d),f+=this.jd(b,c,d)-k,this.Ba(a.k)+0.5*Math.abs(this.Ba(a.m)-this.Ba(a.k))>
this.S.x?(e=-10,g=this.Ba(a.k)):(e=10,g=this.Ba(a.m)));return a&&t!==a.o?(a.P&&(e=-10),this.n={nb:e,I:a,Sa:g,Ce:f},this.Wa=300,this.n.b=b,this.n.c=c,this.n.a=d,!0):!1},Vh:function(){if(300===this.Wa&&this.n){if(this.n.parent&&this.n.parent.q!==this.n.I.q&&0!==this.n.nb&&0!==this.n.pb&&this.n.gf===this.n.b&&this.n.ff===this.n.c&&t!==this.n.parent.o){var a,b,c,d=!1,e=this.n.parent.id(),f=this.n.I.id();if(this.M){b=this.M.I.links;c=b.Zc();for(a=0;a<b.length-1;++a)c.dependenceTaskId===b[a].dependenceTaskId&&
(c.linkType===b[a].linkType&&c.parentTaskId===b[a].parentTaskId&&c.type===b[a].type)&&(d=!0);this.M.I.links.pop();if(!d&&(1===c.linkType||0===c.linkType))for(b=this.n.parent.links,a=0;a<b.length;++a)c.parentTaskId===b[a].dependenceTaskId&&(c.linkType===b[a].linkType&&c.dependenceTaskId===b[a].parentTaskId&&c.type===b[a].type)&&(d=!0);this.M=void 0}if(!d){c=!1;b=this.n.parent.links;for(a=0;a<b.length;++a)if(f==b[a].parentTaskId){c=!0;break}if(!c)for(b=this.n.I.links,a=0;a<b.length;++a)if(e==b[a].parentTaskId){c=
!0;break}c||(a={},-10===this.n.nb&&10===this.n.pb?(a.parentSide=this.n.nb,a.parent=this.n.I,a.task=this.n.parent,a.side=this.n.pb):(a.side=this.n.nb,a.task=this.n.I,a.parent=this.n.parent,a.parentSide=this.n.pb),this.Za.Hc("270",a),this.ya(),this.$=!0)}}this.M&&(this.M.I.links.pop(),this.M=void 0);this.n=void 0;this.Wa=O;this.Ha=null}},Oi:function(){var a,b,c,d=!1,e=this.n.parent.id(),f=this.n.I.id();this.n.parent.P&&this.n.I.P?(this.n.nb=-10,this.n.pb=-10):this.n.parent.P?this.n.pb=-10:this.n.I.P&&
(this.n.nb=-10);if(this.M){if(L!==this.M.I.links.Zc().linkType)return this.M.I.links.pop(),this.M=void 0,!1;b=this.M.I.links;c=b.Zc();for(a=0;a<b.length-1;++a)c.dependenceTaskId===b[a].dependenceTaskId&&(c.linkType===b[a].linkType&&c.parentTaskId===b[a].parentTaskId&&c.type===b[a].type)&&(d=!0);this.M.I.links.pop();if(!d&&(1===c.linkType||0===c.linkType))for(b=this.n.parent.links,a=0;a<b.length;++a)c.parentTaskId===b[a].dependenceTaskId&&(c.linkType===b[a].linkType&&c.dependenceTaskId===b[a].parentTaskId&&
c.type===b[a].type)&&(d=!0);this.M=void 0}if(!d){c=!1;b=this.n.parent.links;for(a=0;a<b.length;++a)if(f==b[a].parentTaskId){c=!0;break}if(!c)for(b=this.n.I.links,a=0;a<b.length;++a)if(e==b[a].parentTaskId){c=!0;break}if(!c)return!0}this.M&&(this.M.I.links.pop(),this.M=void 0);return!1},hf:function(a){return this.i.R*this.offsetX+a*this.i.R/this.i.B},Nh:function(a){return(a-this.offsetX*this.i.R)/this.i.R*this.i.B},jf:function(a){return a*this.i.B/this.i.R},Ba:function(a){return this.i.R*this.offsetX+
a*(this.i.R/this.i.B)},Fd:function(a,b){return{x:a-this.Xc.left*(this.r/this.Xc.width),y:b-this.Xc.top*(this.U/this.Xc.height)}},Gc:function(a,b){this.J[a]=b},Tk:aa("1.0.1.205"),Uk:function(){return this.Ka.ua.g.enable||this.g.enable},rl:V("zi"),nf:function(){this.Kg=this.Md+"pt "+K;this.i.nf();this.g.nf()},dl:function(a){this.Rh=a;this.$=!0},print:function(){function a(a,c){c>=2*b&&(a?(h.fillStyle="#818181",A.oi(230,c,13,13)):(h.fillStyle="#818181",A.fk(230,c,13,13)))}var b=this.j,c=y.Gantt.Localize_strings.taskWithoutMilestones||
"Task Without Milestones",d=y.Gantt.Localize_strings.highPriority||"high",e=y.Gantt.Localize_strings.openStatus||"open",f=y.Gantt.Localize_strings.closeStatus||"close",g=y.Gantt.Localize_strings.addDate||"add",k=y.Gantt.Localize_strings.noResponsible,m=void 0!==Teamlab&&void 0!==Teamlab.getDisplayDate,h=this.d,l=null,q=null,A=new Y(h),s=this.Bb().ua,l=s.wa,r=2*b,n="12px"+K,E="bold 12px "+K,p="bold 16px "+K;if(l){l=l.getBoundingClientRect();this.Kd(!0);h.fillStyle="#F3F3F3";h.fillRect(0,0,l.width,
this.U);h.fillStyle="#CCCCCC";h.fillRect(l.width,0,1,this.r);h.fillStyle="#CCCCCC";h.fillRect(l.width,0,1,this.r);var v,z,D,w,B=!1,x=-this.w.value(),C=this.f.b,H=C.length,I=s.rows[1].Sa,J=s.rows[2].Sa,M=s.rows[3].Sa,L=s.rows[4].Sa,N=s.rows[5].Sa,O=!s.rows[1].mb,S=!s.rows[2].mb,Q=!s.rows[3].mb,T=!s.rows[4].mb,U=!s.rows[5].mb;for(z=0;z<H;++z){B=C[z].$e()||C[z].Ni();0<=x&&(w=P(C[z].Q,19),h.fillStyle=B?"#83888d":"#000000",h.font=p,h.fillText(w,18,x+0.75*b+r),O&&(h.font=n,h.fillText(P(da(C[z],k),20),I,
x+0.7*b+r)),h.fillStyle="#D3D3D3",h.fillRect(0,x+r,l.width-15,1),h.fillRect(0,x+b+r,l.width-15,1),C[z].Qh&&h.drawImage(Qa,0,36,16,16,0,x+r+0.35*b,16,16),a(C[z].Rb,x+0.35*b+r));if(C[z].Rb)x+=b;else if(C[z].kd())x+=this.j,0<=x&&(h.fillStyle=B?"#83888d":"#000000",h.font=E,h.fillText(c,27,x+0.75*b+r),h.font=n,h.fillText(Z(C[z].a),195,x+0.7*b+r),h.fillStyle="#D3D3D3",h.fillRect(0,x+r,l.width-15,1),h.fillRect(0,x+b+r,l.width-15,1)),x+=this.j;else{x+=this.j;if(x>this.U)break;for(D=0;D<C[z].c.length;++D)if(!C[z].c[D].filter){0<=
x&&(w=P(C[z].c[D].Q,24),h.fillStyle=B?"#83888d":1===C[z].c[D].o?ka:0>=C[z].c[D].m?la:fa,h.font=E,h.fillText(w,27,x+0.7*b+r),h.font=n,h.fillText(Z(C[z].c[D].a),195,x+0.7*b+r),O&&h.fillText(P(da(C[z].c[D],k),20),I,x+0.7*b+r),Q&&h.fillText(R(C[z].c[D].bb,m),M,x+0.7*b+r),T&&(h.fillStyle=B?"#83888d":"#000000",t-1===C[z].c[D].o?h.fillText(f,L,x+0.7*b+r):h.fillText(e,L,x+0.7*b+r)),h.fillStyle="#D3D3D3",h.fillRect(0,x+r,l.width-15,1),h.fillRect(0,x+b+r,l.width-15,1),C[z].c[D].a.length&&a(C[z].c[D].collapse,
x+0.35*b+r));x+=this.j;if(x>this.U)break;if(!C[z].c[D].collapse)for(v=0;v<C[z].c[D].a.length&&(C[z].c[D].a[v].filter||(0<=x&&(q=C[z].c[D].a[v],w=P(q.Q,28),h.fillStyle=B?"#83888d":ea(q),h.font=n,h.fillText(w,36,x+0.65*b+r),O&&h.fillText(P(ca(q,k),20),I,x+0.7*b+r),S&&h.fillText(q.ab?g:R(q.vd(),m),J,x+0.7*b+r),Q&&h.fillText(q.P?g:R(q.hd(),m),M,x+0.7*b+r),q.tf&&U&&h.fillText(d,N,x+0.7*b+r),T&&(h.fillStyle=B?"#83888d":"#000000",t===q.o?h.fillText(f,L,x+0.7*b+r):h.fillText(e,L,x+0.7*b+r)),h.fillStyle="#D3D3D3",
h.fillRect(0,x+r,l.width-15,1),h.fillRect(0,x+b+r,l.width-15,1)),x+=b,!(x>this.U)));++v);}0<=x&&(h.fillStyle=B?"#83888d":"#000000",h.font=E,h.fillText(c,27,x+0.75*b+r),h.font=n,h.fillText(Z(C[z].a),195,x+0.7*b+r),h.fillStyle="#D3D3D3",h.fillRect(0,x+r,l.width-15,1),h.fillRect(0,x+b+r,l.width-15,1));if(C[z].collapse){a(C[z].collapse,x+0.35*b+r);x+=b;if(x>this.U)break;continue}if(C[z].a.length)for(a(C[z].collapse,x+0.35*b+r),x+=this.j,v=0;v<C[z].a.length&&(C[z].a[v].filter||(0<=x&&(q=C[z].a[v],w=P(q.Q,
28),h.fillStyle=B?"#83888d":ea(q),h.font=n,h.fillText(w,36,x+0.65*b+r),O&&h.fillText(P(ca(q,k),20),I,x+0.7*b+r),S&&h.fillText(q.ab?g:R(q.vd(),m),J,x+0.7*b+r),Q&&h.fillText(q.P?g:R(q.hd(),m),M,x+0.7*b+r),q.tf&&U&&h.fillText(d,N,x+0.7*b+r),T&&(h.fillStyle=B?"#83888d":"#000000",t===q.o?h.fillText(f,L,x+0.7*b+r):h.fillText(e,L,x+0.7*b+r)),h.fillStyle="#D3D3D3",h.fillRect(0,x+r,l.width-15,1),h.fillRect(0,x+b+r,l.width-15,1)),x+=b,!(x>this.U)));++v);else x+=this.j}if(x>this.U)break}h.fillStyle="#D3D3D3";
h.fillRect(0,0,l.width,1.5*b);for(v=1;v<s.rows.length;++v)s.rows[v].mb||(h.fillStyle="#F3F3F3",A.Fe(h,s.rows[v].Sa-5,26,s.rows[v].minWidth,b,4),h.fill(),h.fillStyle="#666666",h.font=n,h.fillText(s.rows[v].translate,s.rows[v].Sa+1,1.3*b))}}};var l;(y.Gantt?y.Gantt:y.Gantt={}).TimeLine=ta;l=ta.prototype;l.render=l.Uf;l.addHandler=l.Gc;l.update=l.update;l.viewController=l.lc;l.modelController=l.Cd;l.undoManager=l.Gl;l.userDefaults=l.Ll;l.leftPanelController=l.Bb;l.addNewTask=l.uj;l.addNewMilestone=l.tj;
l.setReadMode=l.wl;l.print=l.print;l.onkeypress=l.onkeypress;l.onkeydown=l.onkeydown;l.onkeyup=l.onkeyup;l.ondblclick=l.ondblclick;l.onmousewheel=l.onmousewheel;l.onpaste=l.onpaste;l.oncopy=l.oncopy;l.focus=l.focus;l.internalVersion=l.Tk;l.isEditTitleMode=l.Uk;l.setEnableTouch=l.rl;l.needDrawFlashBackground=l.dl;l=ra.prototype;l.addTask=l.be;l.addMilestone=l.Ne;l.addProject=l.Pg;l.finalize=l.Ik;l.clear=l.clear;l.applyNewAddTaskId=l.Gj;l.applyNewAddMilestoneId=l.Fj;l.addLinkWithIds=l.sj;l.finalizeStatus=
l.Kk;l.finalizeOperation=l.Jk;l.collectBeginEndItems=l.$g;l.throughIdsIndexes=l.Gh;l.buildWithThroughIndexer=l.Ug;l.setFilter=l.sl;l.clearFilter=l.ei;l=sa.prototype;l.scaleTo=l.Ud;l.strafeToDay=l.fj;l.strafe=l.Db;l.toVisibleElementMove=l.Hh;l.buildZoomBar=l.Mj;l.enableSlipAnimation=l.Hk;l.fullscreen=l.Y;l.disableUserEvents=l.ck;l.scaleValue=l.nl;l.saveViewState=l.ml;l.loadViewState=l.Yk;l.centeringElement=l.fg;l=oa.prototype;l.canvas=l.canvas;l.dom=l.dk;l.needRepaint=l.uh;l=ma.prototype;l.addRowsAvailable=
l.vj;l.showHiddenRows=l.lf;l=na.prototype;l.undo=l.ij;l.redo=l.$i;l=E.prototype;l.id=l.id;l.title=l.title;l.description=l.description;l.owner=l.xh;l.beginDate=l.vd;l.endDate=l.hd;l.isMilestone=l.af;l.status=l.status;l.subtasks=l.gj;l.responsibles=l.Dg;l.isUndefinedEndTime=l.Xk;l.isUndefinedBeginTime=l.Wk;l=$.prototype;l.id=l.id;l.title=l.title;l.description=l.description;l.owner=l.xh;l.tasks=l.Cl;l.beginDate=l.vd;l.endDate=l.hd;l.isMilestone=l.af;l.status=l.status;l.responsibles=l.Dg;l=qa.prototype;
l.id=l.id;l.title=l.title;l.description=l.description;l=ja.prototype;l.setFontFamily=l.tl};
